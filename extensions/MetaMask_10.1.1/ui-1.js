LavaPack.loadBundle([[3696,{"./auth":3693,"./response":3695,"./sctransport":3697,"buffer/":1725,clone:3699,"component-emitter":3700,"linked-list":2831,querystring:3329,"sc-channel":3608,"sc-errors":3611,"sc-formatter":3612},function(e,t,n){(function(n){var r=e("component-emitter"),o=e("sc-channel").SCChannel,a=(e("./response").Response,e("./auth").AuthEngine),i=e("sc-formatter"),s=e("./sctransport").SCTransport,c=e("querystring"),l=e("linked-list"),u=e("buffer/").Buffer,d=e("clone"),p=e("sc-errors"),f=p.InvalidArgumentsError,h=p.InvalidMessageError,m=p.InvalidActionError,b=p.SocketProtocolError,g=p.TimeoutError,v=p.BadConnectionError,y="undefined"!=typeof window,w=function(e){var t=this;r.call(this),this.id=null,this.state=this.CLOSED,this.authState=this.UNAUTHENTICATED,this.signedAuthToken=null,this.authToken=null,this.pendingReconnect=!1,this.pendingReconnectTimeout=null,this.preparingPendingSubscriptions=!1,this.clientId=e.clientId,this.connectTimeout=e.connectTimeout,this.ackTimeout=e.ackTimeout,this.channelPrefix=e.channelPrefix||null,this.disconnectOnUnload=null==e.disconnectOnUnload||e.disconnectOnUnload,this.authTokenName=e.authTokenName,this.pingTimeout=this.ackTimeout,this.pingTimeoutDisabled=!!e.pingTimeoutDisabled,this.active=!0,this._clientMap=e.clientMap||{};var o=Math.pow(2,31)-1,s=function(e){if(t[e]>o)throw new f("The "+e+" value provided exceeded the maximum amount allowed")};if(s("connectTimeout"),s("ackTimeout"),this._localEvents={connect:1,connectAbort:1,close:1,disconnect:1,message:1,error:1,raw:1,kickOut:1,subscribe:1,unsubscribe:1,subscribeStateChange:1,authStateChange:1,authenticate:1,deauthenticate:1,removeAuthToken:1,subscribeRequest:1},this.connectAttempts=0,this._emitBuffer=new l,this.channels={},this.options=e,this._cid=1,this.options.callIdGenerator=function(){return t._cid++},this.options.autoReconnect){null==this.options.autoReconnectOptions&&(this.options.autoReconnectOptions={});var u=this.options.autoReconnectOptions;null==u.initialDelay&&(u.initialDelay=1e4),null==u.randomness&&(u.randomness=1e4),null==u.multiplier&&(u.multiplier=1.5),null==u.maxDelay&&(u.maxDelay=6e4)}if(null==this.options.subscriptionRetryOptions&&(this.options.subscriptionRetryOptions={}),this.options.authEngine?this.auth=this.options.authEngine:this.auth=new a,this.options.codecEngine?this.codec=this.options.codecEngine:this.codec=i,this.options.protocol){var d=new f('The "protocol" option does not affect socketcluster-client. If you want to utilize SSL/TLS - use "secure" option instead');this._onSCError(d)}this.options.path=this.options.path.replace(/\/$/,"")+"/",this.options.query=e.query||{},"string"==typeof this.options.query&&(this.options.query=c.parse(this.options.query)),this._channelEmitter=new r,this._unloadHandler=function(){t.disconnect()},y&&this.disconnectOnUnload&&n.addEventListener&&n.addEventListener("beforeunload",this._unloadHandler,!1),this._clientMap[this.clientId]=this,this.options.autoConnect&&this.connect()};w.prototype=Object.create(r.prototype),w.CONNECTING=w.prototype.CONNECTING=s.prototype.CONNECTING,w.OPEN=w.prototype.OPEN=s.prototype.OPEN,w.CLOSED=w.prototype.CLOSED=s.prototype.CLOSED,w.AUTHENTICATED=w.prototype.AUTHENTICATED="authenticated",w.UNAUTHENTICATED=w.prototype.UNAUTHENTICATED="unauthenticated",w.PENDING=w.prototype.PENDING="pending",w.ignoreStatuses=p.socketProtocolIgnoreStatuses,w.errorStatuses=p.socketProtocolErrorStatuses,w.prototype._privateEventHandlerMap={"#publish":function(e){var t=this._undecorateChannelName(e.channel);this.isSubscribed(t,!0)&&this._channelEmitter.emit(t,e.data)},"#kickOut":function(e){var t=this._undecorateChannelName(e.channel),n=this.channels[t];n&&(r.prototype.emit.call(this,"kickOut",e.message,t),n.emit("kickOut",e.message,t),this._triggerChannelUnsubscribe(n))},"#setAuthToken":function(e,t){var n=this;if(e){this.auth.saveToken(this.authTokenName,e.token,{},(function(r){r?(t.error(r),n._onSCError(r)):(n._changeToAuthenticatedState(e.token),t.end())}))}else t.error(new h("No token data provided by #setAuthToken event"))},"#removeAuthToken":function(e,t){var n=this;this.auth.removeToken(this.authTokenName,(function(e,o){e?(t.error(e),n._onSCError(e)):(r.prototype.emit.call(n,"removeAuthToken",o),n._changeToUnauthenticatedStateAndClearTokens(),t.end())}))},"#disconnect":function(e){this.transport.close(e.code,e.data)}},w.prototype.getState=function(){return this.state},w.prototype.getBytesReceived=function(){return this.transport.getBytesReceived()},w.prototype.deauthenticate=function(e){var t=this;this.auth.removeToken(this.authTokenName,(function(n,o){n?t._onSCError(n):(r.prototype.emit.call(t,"removeAuthToken",o),t.state!==t.CLOSED&&t.emit("#removeAuthToken"),t._changeToUnauthenticatedStateAndClearTokens()),e&&e(n)}))},w.prototype.connect=w.prototype.open=function(){var e=this;if(this.active)this.state===this.CLOSED&&(this.pendingReconnect=!1,this.pendingReconnectTimeout=null,clearTimeout(this._reconnectTimeoutRef),this.state=this.CONNECTING,r.prototype.emit.call(this,"connecting"),this.transport&&this.transport.off(),this.transport=new s(this.auth,this.codec,this.options),this.transport.on("open",(function(t){e.state=e.OPEN,e._onSCOpen(t)})),this.transport.on("error",(function(t){e._onSCError(t)})),this.transport.on("close",(function(t,n){e.state=e.CLOSED,e._onSCClose(t,n)})),this.transport.on("openAbort",(function(t,n){e.state=e.CLOSED,e._onSCClose(t,n,!0)})),this.transport.on("event",(function(t,n,r){e._onSCEvent(t,n,r)})));else{var t=new m("Cannot connect a destroyed client");this._onSCError(t)}},w.prototype.reconnect=function(e,t){this.disconnect(e,t),this.connect()},w.prototype.disconnect=function(e,t){if("number"!=typeof(e=e||1e3))throw new f("If specified, the code argument must be a number");this.state===this.OPEN||this.state===this.CONNECTING?this.transport.close(e,t):(this.pendingReconnect=!1,this.pendingReconnectTimeout=null,clearTimeout(this._reconnectTimeoutRef))},w.prototype.destroy=function(e,t){y&&n.removeEventListener&&n.removeEventListener("beforeunload",this._unloadHandler,!1),this.active=!1,this.disconnect(e,t),delete this._clientMap[this.clientId]},w.prototype._changeToUnauthenticatedStateAndClearTokens=function(){if(this.authState!==this.UNAUTHENTICATED){var e=this.authState,t=this.signedAuthToken;this.authState=this.UNAUTHENTICATED,this.signedAuthToken=null,this.authToken=null;var n={oldState:e,newState:this.authState};r.prototype.emit.call(this,"authStateChange",n),r.prototype.emit.call(this,"deauthenticate",t)}},w.prototype._changeToAuthenticatedState=function(e){if(this.signedAuthToken=e,this.authToken=this._extractAuthTokenData(e),this.authState!==this.AUTHENTICATED){var t=this.authState;this.authState=this.AUTHENTICATED;var n={oldState:t,newState:this.authState,signedAuthToken:e,authToken:this.authToken};this.preparingPendingSubscriptions||this.processPendingSubscriptions(),r.prototype.emit.call(this,"authStateChange",n)}r.prototype.emit.call(this,"authenticate",e)},w.prototype.decodeBase64=function(e){return u.from(e,"base64").toString("utf8")},w.prototype.encodeBase64=function(e){return u.from(e,"utf8").toString("base64")},w.prototype._extractAuthTokenData=function(e){var t=(e||"").split(".")[1];if(null!=t){var n=t;try{return n=this.decodeBase64(n),JSON.parse(n)}catch(e){return n}}return null},w.prototype.getAuthToken=function(){return this.authToken},w.prototype.getSignedAuthToken=function(){return this.signedAuthToken},w.prototype.authenticate=function(e,t){var n=this;this.emit("#authenticate",e,(function(r,o){o&&null!=o.isAuthenticated?o.authError&&(o.authError=p.hydrateError(o.authError)):o={isAuthenticated:n.authState,authError:null},r?("BadConnectionError"!==r.name&&"TimeoutError"!==r.name&&n._changeToUnauthenticatedStateAndClearTokens(),t&&t(r,o)):n.auth.saveToken(n.authTokenName,e,{},(function(r){r&&n._onSCError(r),o.isAuthenticated?n._changeToAuthenticatedState(e):n._changeToUnauthenticatedStateAndClearTokens(),t&&t(r,o)}))}))},w.prototype._tryReconnect=function(e){var t,n=this,r=this.connectAttempts++,o=this.options.autoReconnectOptions;if(null==e||r>0){var a=Math.round(o.initialDelay+(o.randomness||0)*Math.random());t=Math.round(a*Math.pow(o.multiplier,r))}else t=e;t>o.maxDelay&&(t=o.maxDelay),clearTimeout(this._reconnectTimeoutRef),this.pendingReconnect=!0,this.pendingReconnectTimeout=t,this._reconnectTimeoutRef=setTimeout((function(){n.connect()}),t)},w.prototype._onSCOpen=function(e){var t=this;this.preparingPendingSubscriptions=!0,e?(this.id=e.id,this.pingTimeout=e.pingTimeout,this.transport.pingTimeout=this.pingTimeout,e.isAuthenticated?this._changeToAuthenticatedState(e.authToken):this._changeToUnauthenticatedStateAndClearTokens()):this._changeToUnauthenticatedStateAndClearTokens(),this.connectAttempts=0,this.options.autoSubscribeOnConnect&&this.processPendingSubscriptions(),r.prototype.emit.call(this,"connect",e,(function(){t.processPendingSubscriptions()})),this.state===this.OPEN&&this._flushEmitBuffer()},w.prototype._onSCError=function(e){var t=this;setTimeout((function(){if(t.listeners("error").length<1)throw e;r.prototype.emit.call(t,"error",e)}),0)},w.prototype._suspendSubscriptions=function(){var e,t;for(var n in this.channels)this.channels.hasOwnProperty(n)&&(t=(e=this.channels[n]).state===e.SUBSCRIBED||e.state===e.PENDING?e.PENDING:e.UNSUBSCRIBED,this._triggerChannelUnsubscribe(e,t))},w.prototype._abortAllPendingEventsDueToBadConnection=function(e){for(var t,n=this._emitBuffer.head;n;){t=n.next;var r=n.data;clearTimeout(r.timeout),delete r.timeout,n.detach(),n=t;var o=r.callback;if(o){delete r.callback;var a="Event '"+r.event+"' was aborted due to a bad connection",i=new v(a,e);o.call(r,i,r)}r.cid&&this.transport.cancelPendingResponse(r.cid)}},w.prototype._onSCClose=function(e,t,n){var o=this;if(this.id=null,this.transport&&this.transport.off(),this.pendingReconnect=!1,this.pendingReconnectTimeout=null,clearTimeout(this._reconnectTimeoutRef),this._suspendSubscriptions(),this._abortAllPendingEventsDueToBadConnection(n?"connectAbort":"disconnect"),this.options.autoReconnect&&(4e3===e||4001===e||1005===e?this._tryReconnect(0):1e3!==e&&e<4500&&this._tryReconnect()),n?r.prototype.emit.call(o,"connectAbort",e,t):r.prototype.emit.call(o,"disconnect",e,t),r.prototype.emit.call(o,"close",e,t),!w.ignoreStatuses[e]){var a;a=t?"Socket connection closed with status code "+e+" and reason: "+t:"Socket connection closed with status code "+e;var i=new b(w.errorStatuses[e]||a,e);this._onSCError(i)}},w.prototype._onSCEvent=function(e,t,n){var o=this._privateEventHandlerMap[e];o?o.call(this,t,n):r.prototype.emit.call(this,e,t,(function(){n&&n.callback.apply(n,arguments)}))},w.prototype.decode=function(e){return this.transport.decode(e)},w.prototype.encode=function(e){return this.transport.encode(e)},w.prototype._flushEmitBuffer=function(){for(var e,t=this._emitBuffer.head;t;){e=t.next;var n=t.data;t.detach(),this.transport.emitObject(n),t=e}},w.prototype._handleEventAckTimeout=function(e,t){t&&t.detach(),delete e.timeout;var n=e.callback;if(n){delete e.callback;var r=new g("Event response for '"+e.event+"' timed out");n.call(e,r,e)}e.cid&&this.transport.cancelPendingResponse(e.cid)},w.prototype._emit=function(e,t,n){var r=this;this.state===this.CLOSED&&this.connect();var o={event:e,callback:n},a=new l.Item;this.options.cloneData?o.data=d(t):o.data=t,a.data=o,o.timeout=setTimeout((function(){r._handleEventAckTimeout(o,a)}),this.ackTimeout),this._emitBuffer.append(a),this.state===this.OPEN&&this._flushEmitBuffer()},w.prototype.send=function(e){this.transport.send(e)},w.prototype.emit=function(e,t,n){if(null==this._localEvents[e])this._emit(e,t,n);else if("error"===e)r.prototype.emit.call(this,e,t);else{var o=new m('The "'+e+'" event is reserved and cannot be emitted on a client socket');this._onSCError(o)}},w.prototype.publish=function(e,t,n){var r={channel:this._decorateChannelName(e),data:t};this.emit("#publish",r,n)},w.prototype._triggerChannelSubscribe=function(e,t){var n=e.name;if(e.state!==e.SUBSCRIBED){var o=e.state;e.state=e.SUBSCRIBED;var a={channel:n,oldState:o,newState:e.state,subscriptionOptions:t};e.emit("subscribeStateChange",a),e.emit("subscribe",n,t),r.prototype.emit.call(this,"subscribeStateChange",a),r.prototype.emit.call(this,"subscribe",n,t)}},w.prototype._triggerChannelSubscribeFail=function(e,t,n){var o=t.name,a=!t.waitForAuth||this.authState===this.AUTHENTICATED;t.state!==t.UNSUBSCRIBED&&a&&(t.state=t.UNSUBSCRIBED,t.emit("subscribeFail",e,o,n),r.prototype.emit.call(this,"subscribeFail",e,o,n))},w.prototype._cancelPendingSubscribeCallback=function(e){null!=e._pendingSubscriptionCid&&(this.transport.cancelPendingResponse(e._pendingSubscriptionCid),delete e._pendingSubscriptionCid)},w.prototype._decorateChannelName=function(e){return this.channelPrefix&&(e=this.channelPrefix+e),e},w.prototype._undecorateChannelName=function(e){return this.channelPrefix&&0===e.indexOf(this.channelPrefix)?e.replace(this.channelPrefix,""):e},w.prototype._trySubscribe=function(e){var t=this,n=!e.waitForAuth||this.authState===this.AUTHENTICATED;if(this.state===this.OPEN&&!this.preparingPendingSubscriptions&&null==e._pendingSubscriptionCid&&n){var o={noTimeout:!0},a={channel:this._decorateChannelName(e.name)};e.waitForAuth&&(o.waitForAuth=!0,a.waitForAuth=o.waitForAuth),e.data&&(a.data=e.data),e.batch&&(o.batch=!0,a.batch=!0),e._pendingSubscriptionCid=this.transport.emit("#subscribe",a,o,(function(n){delete e._pendingSubscriptionCid,n?t._triggerChannelSubscribeFail(n,e,a):t._triggerChannelSubscribe(e,a)})),r.prototype.emit.call(this,"subscribeRequest",e.name,a)}},w.prototype.subscribe=function(e,t){var n=this.channels[e];return n?t&&n.setOptions(t):(n=new o(e,this,t),this.channels[e]=n),n.state===n.UNSUBSCRIBED&&(n.state=n.PENDING,this._trySubscribe(n)),n},w.prototype._triggerChannelUnsubscribe=function(e,t){var n=e.name,o=e.state;if(e.state=t||e.UNSUBSCRIBED,this._cancelPendingSubscribeCallback(e),o===e.SUBSCRIBED){var a={channel:n,oldState:o,newState:e.state};e.emit("subscribeStateChange",a),e.emit("unsubscribe",n),r.prototype.emit.call(this,"subscribeStateChange",a),r.prototype.emit.call(this,"unsubscribe",n)}},w.prototype._tryUnsubscribe=function(e){if(this.state===this.OPEN){var t={noTimeout:!0};e.batch&&(t.batch=!0),this._cancelPendingSubscribeCallback(e);var n=this._decorateChannelName(e.name);this.transport.emit("#unsubscribe",n,t)}},w.prototype.unsubscribe=function(e){var t=this.channels[e];t&&t.state!==t.UNSUBSCRIBED&&(this._triggerChannelUnsubscribe(t),this._tryUnsubscribe(t))},w.prototype.channel=function(e,t){var n=this.channels[e];return n||(n=new o(e,this,t),this.channels[e]=n),n},w.prototype.destroyChannel=function(e){var t=this.channels[e];t&&(t.unwatch(),t.unsubscribe(),delete this.channels[e])},w.prototype.subscriptions=function(e){var t,n=[];for(var r in this.channels)this.channels.hasOwnProperty(r)&&(t=this.channels[r],(e?t&&(t.state===t.SUBSCRIBED||t.state===t.PENDING):t&&t.state===t.SUBSCRIBED)&&n.push(r));return n},w.prototype.isSubscribed=function(e,t){var n=this.channels[e];return t?!!n&&(n.state===n.SUBSCRIBED||n.state===n.PENDING):!!n&&n.state===n.SUBSCRIBED},w.prototype.processPendingSubscriptions=function(){var e=this;this.preparingPendingSubscriptions=!1;var t=[];for(var n in this.channels)if(this.channels.hasOwnProperty(n)){var r=this.channels[n];r.state===r.PENDING&&t.push(r)}t.sort((function(e,t){var n=e.priority||0,r=t.priority||0;return n>r?-1:n<r?1:0})),t.forEach((function(t){e._trySubscribe(t)}))},w.prototype.watch=function(e,t){if("function"!=typeof t)throw new f("No handler function was provided");this._channelEmitter.on(e,t)},w.prototype.unwatch=function(e,t){t?this._channelEmitter.removeListener(e,t):this._channelEmitter.removeAllListeners(e)},w.prototype.watchers=function(e){return this._channelEmitter.listeners(e)},t.exports=w}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{file:"/home/circleci/project/node_modules/socketcluster-client/lib/scclientsocket.js"}],[2217,{},function(e,t,n){var r=function(e){"use strict";if("function"!=typeof e)return[];var t=e.toString().replace(/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,""),n=t.slice(t.indexOf("(")+1,t.indexOf(")")).match(/([^\s,]+)/g);return null===n?[]:n};void 0!==t&&void 0!==t.exports&&(t.exports=r),"undefined"!=typeof window&&(window.GetParams=r)},{file:"/home/circleci/project/node_modules/get-params/index.js"}],[3056,{},function(e,t,n){for(var r="-_",o=36;o--;)r+=o.toString(36);for(o=36;o---10;)r+=o.toString(36).toUpperCase();t.exports=function(e){var t="";for(o=e||21;o--;)t+=r[64*Math.random()|0];return t}},{file:"/home/circleci/project/node_modules/nanoid/non-secure/index.js"}],[3490,{"../constants/options":3488,"../helpers":3489},function(e,t,n){var r=e("../helpers"),o=r.mark,a=r.extract,i=r.refer,s=e("../constants/options");t.exports=function(e,t,n,r){function c(n,r){return r instanceof e.Record?i(r,"ImmutableRecord","toObject",t):r instanceof e.Range?a(r,"ImmutableRange"):r instanceof e.Repeat?a(r,"ImmutableRepeat"):e.OrderedMap.isOrderedMap(r)?o(r,"ImmutableOrderedMap","toObject"):e.Map.isMap(r)?o(r,"ImmutableMap","toObject"):e.List.isList(r)?o(r,"ImmutableList","toArray"):e.OrderedSet.isOrderedSet(r)?o(r,"ImmutableOrderedSet","toArray"):e.Set.isSet(r)?o(r,"ImmutableSet","toArray"):e.Seq.isSeq(r)?o(r,"ImmutableSeq","toArray"):e.Stack.isStack(r)?o(r,"ImmutableStack","toArray"):r}function l(n,r){if("object"==typeof r&&null!==r&&"__serializedType__"in r){var o=r.data;switch(r.__serializedType__){case"ImmutableMap":return e.Map(o);case"ImmutableOrderedMap":return e.OrderedMap(o);case"ImmutableList":return e.List(o);case"ImmutableRange":return e.Range(o._start,o._end,o._step);case"ImmutableRepeat":return e.Repeat(o._value,o.size);case"ImmutableSet":return e.Set(o);case"ImmutableOrderedSet":return e.OrderedSet(o);case"ImmutableSeq":return e.Seq(o);case"ImmutableStack":return e.Stack(o);case"ImmutableRecord":return t&&t[r.__serializedRef__]?new t[r.__serializedRef__](o):e.Map(o);default:return o}}return r}return{replacer:n?function(e,t){return n(e,t,c)}:c,reviver:r?function(e,t){return r(e,t,l)}:l,options:s}}},{file:"/home/circleci/project/node_modules/remotedev-serialize/immutable/serialize.js"}],[3475,{_process:3225,"lodash/difference":2960,"lodash/isPlainObject":2975,"lodash/union":2987,"symbol-observable":3749},function(e,t,n){(function(t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.liftAction=E,n.liftReducerWith=_,n.unliftState=k,n.unliftStore=T,n.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return null},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("number"==typeof t.maxAge&&t.maxAge<2)throw new Error("DevTools.instrument({ maxAge }) option, if specified, may not be less than 2.");return function(n){return function(r,o){function a(n){if("function"!=typeof n){if(n&&"function"==typeof n.default)throw new Error('Expected the reducer to be a function. Instead got an object with a "default" field. Did you pass a module instead of the default export? Try passing require(...).default instead.');throw new Error("Expected the reducer to be a function.")}return _(n,o,e,t)}var i=n(a(r));if(i.liftedStore)throw new Error("DevTools instrumentation should not be applied more than once. Check your store configuration.");return T(i,a,t)}}},n.INIT_ACTION=n.ActionCreators=n.ActionTypes=void 0;var r=s(e("lodash/difference")),o=s(e("lodash/union")),a=s(e("lodash/isPlainObject")),i=s(e("symbol-observable"));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var h={PERFORM_ACTION:"PERFORM_ACTION",RESET:"RESET",ROLLBACK:"ROLLBACK",COMMIT:"COMMIT",SWEEP:"SWEEP",TOGGLE_ACTION:"TOGGLE_ACTION",SET_ACTIONS_ACTIVE:"SET_ACTIONS_ACTIVE",JUMP_TO_STATE:"JUMP_TO_STATE",JUMP_TO_ACTION:"JUMP_TO_ACTION",REORDER_ACTION:"REORDER_ACTION",IMPORT_STATE:"IMPORT_STATE",LOCK_CHANGES:"LOCK_CHANGES",PAUSE_RECORDING:"PAUSE_RECORDING"};n.ActionTypes=h;var m="object"===("undefined"==typeof window?"undefined":f(window))&&(void 0!==window.chrome||void 0!==window.process&&"renderer"===window.process.type),b=m||void 0!==t&&t.release&&"node"===t.release.name,g={performAction:function(e,t,n,r){if(!(0,a.default)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');var o;if(t){var i=0;if("function"==typeof t)o=t(e);else{var s,c=Error();if(Error.captureStackTrace&&b?(n&&Error.stackTraceLimit<n&&(s=Error.stackTraceLimit,Error.stackTraceLimit=n),Error.captureStackTrace(c,r)):i=3,o=c.stack,s&&(Error.stackTraceLimit=s),(i||"number"!=typeof Error.stackTraceLimit||n&&Error.stackTraceLimit>n)&&null!=o){var l=o.split("\n");n&&l.length>n&&(o=l.slice(0,n+i+(l[0].startsWith("Error")?1:0)).join("\n"))}}}return{type:h.PERFORM_ACTION,action:e,timestamp:Date.now(),stack:o}},reset:function(){return{type:h.RESET,timestamp:Date.now()}},rollback:function(){return{type:h.ROLLBACK,timestamp:Date.now()}},commit:function(){return{type:h.COMMIT,timestamp:Date.now()}},sweep:function(){return{type:h.SWEEP}},toggleAction:function(e){return{type:h.TOGGLE_ACTION,id:e}},setActionsActive:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return{type:h.SET_ACTIONS_ACTIVE,start:e,end:t,active:n}},reorderAction:function(e,t){return{type:h.REORDER_ACTION,actionId:e,beforeActionId:t}},jumpToState:function(e){return{type:h.JUMP_TO_STATE,index:e}},jumpToAction:function(e){return{type:h.JUMP_TO_ACTION,actionId:e}},importState:function(e,t){return{type:h.IMPORT_STATE,nextLiftedState:e,noRecompute:t}},lockChanges:function(e){return{type:h.LOCK_CHANGES,status:e}},pauseRecording:function(e){return{type:h.PAUSE_RECORDING,status:e}}};n.ActionCreators=g;var v={type:"@@INIT"};function y(e,t,n,r){return r?function(e,t,n){var r,o=n;try{o=e(n,t)}catch(e){r=e.toString(),m?setTimeout((function(){throw e})):console.error(e)}return{state:o,error:r}}(e,t,n):{state:e(n,t)}}function w(e,t,n,r,o,a,i,s){if(!e||-1===t||t>=e.length&&e.length===a.length)return e;for(var c=e.slice(0,t),l=t;l<a.length;l++){var u=a[l],d=o[u].action,p=c[l-1],f=p?p.state:r,h=void 0;h=i.indexOf(u)>-1?p:s&&p&&p.error?{state:f,error:"Interrupted by an error up the chain"}:y(n,d,f,s),c.push(h)}return c}function E(e,t,n,r){return g.performAction(e,t,n,r)}function _(e,t,n,a){var i={monitorState:n(void 0,{}),nextActionId:1,actionsById:{0:E(v)},stagedActionIds:[0],skippedActionIds:[],committedState:t,currentStateIndex:0,computedStates:[],isLocked:!0===a.shouldStartLocked,isPaused:!1===a.shouldRecordChanges};return function(s,l){var u=s||i,f=u.monitorState,m=u.actionsById,b=u.nextActionId,g=u.stagedActionIds,_=u.skippedActionIds,k=u.committedState,T=u.currentStateIndex,S=u.computedStates,O=u.isLocked,R=u.isPaused;function P(e){for(var t=e,n=g.slice(1,t+1),r=0;r<n.length;r++){if(S[r+1].error){t=r,n=g.slice(1,t+1);break}delete m[n[r]]}_=_.filter((function(e){return-1===n.indexOf(e)})),g=[0].concat(c(g.slice(t+1))),k=S[t].state,S=S.slice(t),T=T>t?T-t:0}function x(t){var r;return t?(r=S[T],f=n(f,l)):r=y(e,l.action,S[T].state,!1),a.pauseActionType&&1!==b?(t&&(T===g.length-1&&T++,g=[].concat(c(g),[b]),b++),{monitorState:f,actionsById:d(d({},m),{},p({},b-1,E({type:a.pauseActionType}))),nextActionId:b,stagedActionIds:g,skippedActionIds:_,committedState:k,currentStateIndex:T,computedStates:[].concat(c(S.slice(0,g.length-1)),[r]),isLocked:O,isPaused:!0}):{monitorState:f,actionsById:{0:E(v)},nextActionId:1,stagedActionIds:[0],skippedActionIds:[],committedState:r.state,currentStateIndex:0,computedStates:[r],isLocked:O,isPaused:!0}}s||(m=d({},m));var A,C=0,j=a.maxAge;if("function"==typeof j&&(j=j(l,s)),/^@@redux\/(INIT|REPLACE)/.test(l.type))!1===a.shouldHotReload&&(m={0:E(v)},b=1,g=[0],_=[],k=0===S.length?t:S[T].state,T=0,S=[]),C=0,j&&g.length>j&&(S=w(S,C,e,k,m,g,_,a.shouldCatchErrors),P(g.length-j),C=1/0);else switch(l.type){case h.PERFORM_ACTION:if(O)return s||i;if(R)return x();j&&g.length>=j&&P(g.length-j+1),T===g.length-1&&T++;var N=b++;m[N]=l,C=(g=[].concat(c(g),[N])).length-1;break;case h.RESET:m={0:E(v)},b=1,g=[0],_=[],k=t,T=0,S=[];break;case h.COMMIT:m={0:E(v)},b=1,g=[0],_=[],k=S[T].state,T=0,S=[];break;case h.ROLLBACK:m={0:E(v)},b=1,g=[0],_=[],T=0,S=[];break;case h.TOGGLE_ACTION:var I=l.id,D=_.indexOf(I);_=-1===D?[I].concat(c(_)):_.filter((function(e){return e!==I})),C=g.indexOf(I);break;case h.SET_ACTIONS_ACTIVE:for(var M=l.start,U=l.end,q=l.active,L=[],B=M;B<U;B++)L.push(B);_=q?(0,r.default)(_,L):(0,o.default)(_,L),C=g.indexOf(M);break;case h.JUMP_TO_STATE:T=l.index,C=1/0;break;case h.JUMP_TO_ACTION:var F=g.indexOf(l.actionId);-1!==F&&(T=F),C=1/0;break;case h.SWEEP:g=(0,r.default)(g,_),_=[],T=Math.min(T,g.length-1);break;case h.REORDER_ACTION:var W=l.actionId,H=g.indexOf(W);if(H<1)break;var G=l.beforeActionId,$=g.indexOf(G);if($<1){var K=g.length;$=G>g[K-1]?K:1}var V=H-$;V>0?(g=[].concat(c(g.slice(0,$)),[W],c(g.slice($,H)),c(g.slice(H+1))),C=$):V<0&&(g=[].concat(c(g.slice(0,H)),c(g.slice(H+1,$)),[W],c(g.slice($))),C=H);break;case h.IMPORT_STATE:if(A=l.nextLiftedState,Array.isArray(A))m={0:E(v)},b=1,g=[0],_=[],T=l.nextLiftedState.length,S=[],k=l.preloadedState,C=0,l.nextLiftedState.forEach((function(e){m[b]=E(e,a.trace||a.shouldIncludeCallstack),g.push(b),b++}));else{var Y=l.nextLiftedState;f=Y.monitorState,m=Y.actionsById,b=Y.nextActionId,g=Y.stagedActionIds,_=Y.skippedActionIds,k=Y.committedState,T=Y.currentStateIndex,S=Y.computedStates,l.noRecompute&&(C=1/0)}break;case h.LOCK_CHANGES:O=l.status,C=1/0;break;case h.PAUSE_RECORDING:if(R=l.status)return x(!0);m={0:E(v)},b=1,g=[0],_=[],k=S[T].state,T=0,S=[];break;default:C=1/0}return S=w(S,C,e,k,m,g,_,a.shouldCatchErrors),{monitorState:f=n(f,l),actionsById:m,nextActionId:b,stagedActionIds:g,skippedActionIds:_,committedState:k,currentStateIndex:T,computedStates:S,isLocked:O,isPaused:R}}}function k(e){return e.computedStates[e.currentStateIndex].state}function T(e,t,n){var r,o=n.trace||n.shouldIncludeCallstack,a=n.traceLimit||10;function s(){var t=k(e.getState());return void 0!==t&&(r=t),r}return d(d({},e),{},p({liftedStore:e,dispatch:function t(n){return e.dispatch(E(n,o,a,t)),n},getState:s,replaceReducer:function(n){e.replaceReducer(t(n))}},i.default,(function(){return d(d({},e[i.default]()),{},p({subscribe:function(t){if("object"!==f(t))throw new TypeError("Expected the observer to be an object.");function n(){t.next&&t.next(s())}return n(),{unsubscribe:e.subscribe(n)}}},i.default,(function(){return this})))})))}n.INIT_ACTION=v}).call(this,e("_process"))},{file:"/home/circleci/project/node_modules/redux-devtools-instrument/lib/instrument.js"}],[2980,{"./_baseAssignValue":2860,"./_baseForOwn":2865,"./_baseIteratee":2879},function(e,t,n){var r=e("./_baseAssignValue"),o=e("./_baseForOwn"),a=e("./_baseIteratee");t.exports=function(e,t){var n={};return t=a(t,3),o(e,(function(e,o,a){r(n,o,t(e,o,a))})),n}},{file:"/home/circleci/project/node_modules/lodash/mapValues.js"}],[3416,{"../utils/verifyPlainObject":3428,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");n.__esModule=!0,n.wrapMapToPropsConstant=function(e){return function(t,n){var r=e(t,n);function o(){return r}return o.dependsOnOwnProps=!1,o}},n.getDependsOnOwnProps=o,n.wrapMapToPropsFunc=function(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=o(e);var a=r(t,n);return"function"==typeof a&&(r.mapToProps=a,r.dependsOnOwnProps=o(a),a=r(t,n)),a},r}};r(e("../utils/verifyPlainObject"));function o(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}},{file:"/home/circleci/project/node_modules/react-redux/lib/connect/wrapMapToProps.js"}],[3428,{"./isPlainObject":3424,"./warning":3429,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");n.__esModule=!0,n.default=function(e,t,n){(0,o.default)(e)||(0,a.default)(n+"() in "+t+" must return a plain object. Instead received "+e+".")};var o=r(e("./isPlainObject")),a=r(e("./warning"))},{file:"/home/circleci/project/node_modules/react-redux/lib/utils/verifyPlainObject.js"}],[3415,{"../utils/warning":3429,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");n.__esModule=!0,n.default=function(e,t,n,r){a(e,"mapStateToProps",r),a(t,"mapDispatchToProps",r),a(n,"mergeProps",r)};var o=r(e("../utils/warning"));function a(e,t,n){if(!e)throw new Error("Unexpected value for "+t+" in "+n+".");"mapStateToProps"!==t&&"mapDispatchToProps"!==t||Object.prototype.hasOwnProperty.call(e,"dependsOnOwnProps")||(0,o.default)("The selector for "+t+" of "+n+" did not specify a value for dependsOnOwnProps.")}},{file:"/home/circleci/project/node_modules/react-redux/lib/connect/verifySubselectors.js"}],[3433,{"resolve-pathname":3495,"tiny-invariant":3756,"tiny-warning":3757,"value-equal":3836},function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e("resolve-pathname")),a=r(e("value-equal")),i=r(e("tiny-warning")),s=r(e("tiny-invariant"));function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e){return"/"===e.charAt(0)?e:"/"+e}function u(e){return"/"===e.charAt(0)?e.substr(1):e}function d(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}function p(e,t){return d(e,t)?e.substr(t.length):e}function f(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function h(e){var t=e||"/",n="",r="",o=t.indexOf("#");-1!==o&&(r=t.substr(o),t=t.substr(0,o));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}function m(e){var t=e.pathname,n=e.search,r=e.hash,o=t||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}function b(e,t,n,r){var a;"string"==typeof e?(a=h(e)).state=t:(void 0===(a=c({},e)).pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==t&&void 0===a.state&&(a.state=t));try{a.pathname=decodeURI(a.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(a.key=n),r?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=o(a.pathname,r.pathname)):a.pathname=r.pathname:a.pathname||(a.pathname="/"),a}function g(){var e=null;var t=[];return{setPrompt:function(t){return i(null==e,"A history supports only one prompt at a time"),e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,o){if(null!=e){var a="function"==typeof e?e(t,n):e;"string"==typeof a?"function"==typeof r?r(a,o):(i(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),o(!0)):o(!1!==a)}else o(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var v=!("undefined"==typeof window||!window.document||!window.document.createElement);function y(e,t){t(window.confirm(e))}var w="popstate",E="hashchange";function _(){try{return window.history.state||{}}catch(e){return{}}}var k="hashchange",T={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+u(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:u,decodePath:l},slash:{encodePath:l,decodePath:l}};function S(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function O(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function R(e){window.location.replace(S(window.location.href)+"#"+e)}function P(e,t,n){return Math.min(Math.max(e,t),n)}n.createBrowserHistory=function(e){void 0===e&&(e={}),v||s(!1,"Browser history needs a DOM");var t,n=window.history,r=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,o=!(-1===window.navigator.userAgent.indexOf("Trident")),a=e,u=a.forceRefresh,h=void 0!==u&&u,k=a.getUserConfirmation,T=void 0===k?y:k,S=a.keyLength,O=void 0===S?6:S,R=e.basename?f(l(e.basename)):"";function P(e){var t=e||{},n=t.key,r=t.state,o=window.location,a=o.pathname+o.search+o.hash;return i(!R||d(a,R),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+a+'" to begin with "'+R+'".'),R&&(a=p(a,R)),b(a,r,n)}function x(){return Math.random().toString(36).substr(2,O)}var A=g();function C(e){c(H,e),H.length=n.length,A.notifyListeners(H.location,H.action)}function j(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||D(P(e.state))}function N(){D(P(_()))}var I=!1;function D(e){if(I)I=!1,C();else{A.confirmTransitionTo(e,"POP",T,(function(t){t?C({action:"POP",location:e}):function(e){var t=H.location,n=U.indexOf(t.key);-1===n&&(n=0);var r=U.indexOf(e.key);-1===r&&(r=0);var o=n-r;o&&(I=!0,L(o))}(e)}))}}var M=P(_()),U=[M.key];function q(e){return R+m(e)}function L(e){n.go(e)}var B=0;function F(e){1===(B+=e)&&1===e?(window.addEventListener(w,j),o&&window.addEventListener(E,N)):0===B&&(window.removeEventListener(w,j),o&&window.removeEventListener(E,N))}var W=!1,H={length:n.length,action:"POP",location:M,createHref:q,push:function(e,t){i(!("object"==typeof e&&void 0!==e.state&&void 0!==t),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var o="PUSH",a=b(e,t,x(),H.location);A.confirmTransitionTo(a,o,T,(function(e){if(e){var t=q(a),s=a.key,c=a.state;if(r)if(n.pushState({key:s,state:c},null,t),h)window.location.href=t;else{var l=U.indexOf(H.location.key),u=U.slice(0,l+1);u.push(a.key),U=u,C({action:o,location:a})}else i(void 0===c,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=t}}))},replace:function(e,t){i(!("object"==typeof e&&void 0!==e.state&&void 0!==t),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var o="REPLACE",a=b(e,t,x(),H.location);A.confirmTransitionTo(a,o,T,(function(e){if(e){var t=q(a),s=a.key,c=a.state;if(r)if(n.replaceState({key:s,state:c},null,t),h)window.location.replace(t);else{var l=U.indexOf(H.location.key);-1!==l&&(U[l]=a.key),C({action:o,location:a})}else i(void 0===c,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(t)}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&(e=!1);var t=A.setPrompt(e);return W||(F(1),W=!0),function(){return W&&(W=!1,F(-1)),t()}},listen:function(e){var t=A.appendListener(e);return F(1),function(){F(-1),t()}}};return H},n.createHashHistory=function(e){void 0===e&&(e={}),v||s(!1,"Hash history needs a DOM");var t=window.history,n=-1===window.navigator.userAgent.indexOf("Firefox"),r=e,o=r.getUserConfirmation,a=void 0===o?y:o,u=r.hashType,h=void 0===u?"slash":u,w=e.basename?f(l(e.basename)):"",E=T[h],_=E.encodePath,P=E.decodePath;function x(){var e=P(O());return i(!w||d(e,w),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+e+'" to begin with "'+w+'".'),w&&(e=p(e,w)),b(e)}var A=g();function C(e){c(H,e),H.length=t.length,A.notifyListeners(H.location,H.action)}var j=!1,N=null;function I(){var e,t,n=O(),r=_(n);if(n!==r)R(r);else{var o=x(),i=H.location;if(!j&&(t=o,(e=i).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(N===m(o))return;N=null,function(e){if(j)j=!1,C();else{var t="POP";A.confirmTransitionTo(e,t,a,(function(n){n?C({action:t,location:e}):function(e){var t=H.location,n=q.lastIndexOf(m(t));-1===n&&(n=0);var r=q.lastIndexOf(m(e));-1===r&&(r=0);var o=n-r;o&&(j=!0,L(o))}(e)}))}}(o)}}var D=O(),M=_(D);D!==M&&R(M);var U=x(),q=[m(U)];function L(e){i(n,"Hash history go(n) causes a full page reload in this browser"),t.go(e)}var B=0;function F(e){1===(B+=e)&&1===e?window.addEventListener(k,I):0===B&&window.removeEventListener(k,I)}var W=!1,H={length:t.length,action:"POP",location:U,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=S(window.location.href)),n+"#"+_(w+m(e))},push:function(e,t){i(void 0===t,"Hash history cannot push state; it is ignored");var n="PUSH",r=b(e,void 0,void 0,H.location);A.confirmTransitionTo(r,n,a,(function(e){if(e){var t=m(r),o=_(w+t);if(O()!==o){N=t,function(e){window.location.hash=e}(o);var a=q.lastIndexOf(m(H.location)),s=q.slice(0,a+1);s.push(t),q=s,C({action:n,location:r})}else i(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),C()}}))},replace:function(e,t){i(void 0===t,"Hash history cannot replace state; it is ignored");var n="REPLACE",r=b(e,void 0,void 0,H.location);A.confirmTransitionTo(r,n,a,(function(e){if(e){var t=m(r),o=_(w+t);O()!==o&&(N=t,R(o));var a=q.indexOf(m(H.location));-1!==a&&(q[a]=t),C({action:n,location:r})}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&(e=!1);var t=A.setPrompt(e);return W||(F(1),W=!0),function(){return W&&(W=!1,F(-1)),t()}},listen:function(e){var t=A.appendListener(e);return F(1),function(){F(-1),t()}}};return H},n.createMemoryHistory=function(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,r=t.initialEntries,o=void 0===r?["/"]:r,a=t.initialIndex,s=void 0===a?0:a,l=t.keyLength,u=void 0===l?6:l,d=g();function p(e){c(E,e),E.length=E.entries.length,d.notifyListeners(E.location,E.action)}function f(){return Math.random().toString(36).substr(2,u)}var h=P(s,0,o.length-1),v=o.map((function(e){return b(e,void 0,"string"==typeof e?f():e.key||f())})),y=m;function w(e){var t=P(E.index+e,0,E.entries.length-1),r=E.entries[t];d.confirmTransitionTo(r,"POP",n,(function(e){e?p({action:"POP",location:r,index:t}):p()}))}var E={length:v.length,action:"POP",location:v[h],index:h,entries:v,createHref:y,push:function(e,t){i(!("object"==typeof e&&void 0!==e.state&&void 0!==t),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var r="PUSH",o=b(e,t,f(),E.location);d.confirmTransitionTo(o,r,n,(function(e){if(e){var t=E.index+1,n=E.entries.slice(0);n.length>t?n.splice(t,n.length-t,o):n.push(o),p({action:r,location:o,index:t,entries:n})}}))},replace:function(e,t){i(!("object"==typeof e&&void 0!==e.state&&void 0!==t),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var r="REPLACE",o=b(e,t,f(),E.location);d.confirmTransitionTo(o,r,n,(function(e){e&&(E.entries[E.index]=o,p({action:r,location:o}))}))},go:w,goBack:function(){w(-1)},goForward:function(){w(1)},canGo:function(e){var t=E.index+e;return t>=0&&t<E.entries.length},block:function(e){return void 0===e&&(e=!1),d.setPrompt(e)},listen:function(e){return d.appendListener(e)}};return E},n.createLocation=b,n.locationsAreEqual=function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&a(e.state,t.state)},n.parsePath=h,n.createPath=m},{file:"/home/circleci/project/node_modules/react-router-dom/node_modules/history/cjs/history.js"}],[3434,{"resolve-pathname":3495,"tiny-invariant":3756,"tiny-warning":3757,"value-equal":3836},function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e("resolve-pathname")),a=r(e("value-equal"));e("tiny-warning");var i=r(e("tiny-invariant"));function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e){return"/"===e.charAt(0)?e:"/"+e}function l(e){return"/"===e.charAt(0)?e.substr(1):e}function u(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function d(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function p(e){var t=e||"/",n="",r="",o=t.indexOf("#");-1!==o&&(r=t.substr(o),t=t.substr(0,o));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}function f(e){var t=e.pathname,n=e.search,r=e.hash,o=t||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}function h(e,t,n,r){var a;"string"==typeof e?(a=p(e)).state=t:(void 0===(a=s({},e)).pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==t&&void 0===a.state&&(a.state=t));try{a.pathname=decodeURI(a.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(a.key=n),r?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=o(a.pathname,r.pathname)):a.pathname=r.pathname:a.pathname||(a.pathname="/"),a}function m(){var e=null,t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,o){if(null!=e){var a="function"==typeof e?e(t,n):e;"string"==typeof a?"function"==typeof r?r(a,o):o(!0):o(!1!==a)}else o(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var b=!("undefined"==typeof window||!window.document||!window.document.createElement);function g(e,t){t(window.confirm(e))}var v="popstate",y="hashchange";function w(){try{return window.history.state||{}}catch(e){return{}}}var E="hashchange",_={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+l(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:l,decodePath:c},slash:{encodePath:c,decodePath:c}};function k(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function T(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function S(e){window.location.replace(k(window.location.href)+"#"+e)}function O(e,t,n){return Math.min(Math.max(e,t),n)}n.createBrowserHistory=function(e){void 0===e&&(e={}),b||i(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,a=o.forceRefresh,l=void 0!==a&&a,p=o.getUserConfirmation,E=void 0===p?g:p,_=o.keyLength,k=void 0===_?6:_,T=e.basename?d(c(e.basename)):"";function S(e){var t=e||{},n=t.key,r=t.state,o=window.location,a=o.pathname+o.search+o.hash;return T&&(a=u(a,T)),h(a,r,n)}function O(){return Math.random().toString(36).substr(2,k)}var R=m();function P(e){s(B,e),B.length=t.length,R.notifyListeners(B.location,B.action)}function x(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||j(S(e.state))}function A(){j(S(w()))}var C=!1;function j(e){C?(C=!1,P()):R.confirmTransitionTo(e,"POP",E,(function(t){t?P({action:"POP",location:e}):function(e){var t=B.location,n=I.indexOf(t.key);-1===n&&(n=0);var r=I.indexOf(e.key);-1===r&&(r=0);var o=n-r;o&&(C=!0,M(o))}(e)}))}var N=S(w()),I=[N.key];function D(e){return T+f(e)}function M(e){t.go(e)}var U=0;function q(e){1===(U+=e)&&1===e?(window.addEventListener(v,x),r&&window.addEventListener(y,A)):0===U&&(window.removeEventListener(v,x),r&&window.removeEventListener(y,A))}var L=!1,B={length:t.length,action:"POP",location:N,createHref:D,push:function(e,r){var o=h(e,r,O(),B.location);R.confirmTransitionTo(o,"PUSH",E,(function(e){if(e){var r=D(o),a=o.key,i=o.state;if(n)if(t.pushState({key:a,state:i},null,r),l)window.location.href=r;else{var s=I.indexOf(B.location.key),c=I.slice(0,s+1);c.push(o.key),I=c,P({action:"PUSH",location:o})}else window.location.href=r}}))},replace:function(e,r){var o="REPLACE",a=h(e,r,O(),B.location);R.confirmTransitionTo(a,o,E,(function(e){if(e){var r=D(a),i=a.key,s=a.state;if(n)if(t.replaceState({key:i,state:s},null,r),l)window.location.replace(r);else{var c=I.indexOf(B.location.key);-1!==c&&(I[c]=a.key),P({action:o,location:a})}else window.location.replace(r)}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=R.setPrompt(e);return L||(q(1),L=!0),function(){return L&&(L=!1,q(-1)),t()}},listen:function(e){var t=R.appendListener(e);return q(1),function(){q(-1),t()}}};return B},n.createHashHistory=function(e){void 0===e&&(e={}),b||i(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,o=void 0===r?g:r,a=n.hashType,l=void 0===a?"slash":a,p=e.basename?d(c(e.basename)):"",v=_[l],y=v.encodePath,w=v.decodePath;function O(){var e=w(T());return p&&(e=u(e,p)),h(e)}var R=m();function P(e){s(B,e),B.length=t.length,R.notifyListeners(B.location,B.action)}var x=!1,A=null;function C(){var e=T(),t=y(e);if(e!==t)S(t);else{var n=O(),r=B.location;if(!x&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(A===f(n))return;A=null,function(e){x?(x=!1,P()):R.confirmTransitionTo(e,"POP",o,(function(t){t?P({action:"POP",location:e}):function(e){var t=B.location,n=D.lastIndexOf(f(t));-1===n&&(n=0);var r=D.lastIndexOf(f(e));-1===r&&(r=0);var o=n-r;o&&(x=!0,M(o))}(e)}))}(n)}}var j=T(),N=y(j);j!==N&&S(N);var I=O(),D=[f(I)];function M(e){t.go(e)}var U=0;function q(e){1===(U+=e)&&1===e?window.addEventListener(E,C):0===U&&window.removeEventListener(E,C)}var L=!1,B={length:t.length,action:"POP",location:I,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=k(window.location.href)),n+"#"+y(p+f(e))},push:function(e,t){var n=h(e,void 0,void 0,B.location);R.confirmTransitionTo(n,"PUSH",o,(function(e){if(e){var t=f(n),r=y(p+t);if(T()!==r){A=t,function(e){window.location.hash=e}(r);var o=D.lastIndexOf(f(B.location)),a=D.slice(0,o+1);a.push(t),D=a,P({action:"PUSH",location:n})}else P()}}))},replace:function(e,t){var n="REPLACE",r=h(e,void 0,void 0,B.location);R.confirmTransitionTo(r,n,o,(function(e){if(e){var t=f(r),o=y(p+t);T()!==o&&(A=t,S(o));var a=D.indexOf(f(B.location));-1!==a&&(D[a]=t),P({action:n,location:r})}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=R.setPrompt(e);return L||(q(1),L=!0),function(){return L&&(L=!1,q(-1)),t()}},listen:function(e){var t=R.appendListener(e);return q(1),function(){q(-1),t()}}};return B},n.createMemoryHistory=function(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,r=t.initialEntries,o=void 0===r?["/"]:r,a=t.initialIndex,i=void 0===a?0:a,c=t.keyLength,l=void 0===c?6:c,u=m();function d(e){s(w,e),w.length=w.entries.length,u.notifyListeners(w.location,w.action)}function p(){return Math.random().toString(36).substr(2,l)}var b=O(i,0,o.length-1),g=o.map((function(e){return h(e,void 0,"string"==typeof e?p():e.key||p())})),v=f;function y(e){var t=O(w.index+e,0,w.entries.length-1),r=w.entries[t];u.confirmTransitionTo(r,"POP",n,(function(e){e?d({action:"POP",location:r,index:t}):d()}))}var w={length:g.length,action:"POP",location:g[b],index:b,entries:g,createHref:v,push:function(e,t){var r=h(e,t,p(),w.location);u.confirmTransitionTo(r,"PUSH",n,(function(e){if(e){var t=w.index+1,n=w.entries.slice(0);n.length>t?n.splice(t,n.length-t,r):n.push(r),d({action:"PUSH",location:r,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",o=h(e,t,p(),w.location);u.confirmTransitionTo(o,r,n,(function(e){e&&(w.entries[w.index]=o,d({action:r,location:o}))}))},go:y,goBack:function(){y(-1)},goForward:function(){y(1)},canGo:function(e){var t=w.index+e;return 0<=t&&t<w.entries.length},block:function(e){return void 0===e&&(e=!1),u.setPrompt(e)},listen:function(e){return u.appendListener(e)}};return w},n.createLocation=h,n.locationsAreEqual=function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&a(e.state,t.state)},n.parsePath=p,n.createPath=f},{file:"/home/circleci/project/node_modules/react-router-dom/node_modules/history/cjs/history.min.js"}],[3436,{history:3441,"hoist-non-react-statics":2257,"mini-create-react-context":3002,"path-to-regexp":3207,"prop-types":3233,react:3454,"react-is":3400,"tiny-invariant":3756,"tiny-warning":3757},function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var o=r(e("react")),a=r(e("prop-types")),i=e("history"),s=r(e("tiny-warning")),c=r(e("mini-create-react-context")),l=r(e("tiny-invariant")),u=r(e("path-to-regexp")),d=e("react-is"),p=r(e("hoist-non-react-statics"));function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function m(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var b=function(e){var t=c();return t.displayName=e,t}("Router"),g=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}h(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return o.createElement(b.Provider,{children:this.props.children||null,value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}})},t}(o.Component);g.propTypes={children:a.node,history:a.object.isRequired,staticContext:a.object},g.prototype.componentDidUpdate=function(e){s(e.history===this.props.history,"You cannot change <Router history>")};var v=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).history=i.createMemoryHistory(t.props),t}return h(t,e),t.prototype.render=function(){return o.createElement(g,{history:this.history,children:this.props.children})},t}(o.Component);v.propTypes={initialEntries:a.array,initialIndex:a.number,getUserConfirmation:a.func,keyLength:a.number,children:a.node},v.prototype.componentDidMount=function(){s(!this.props.history,"<MemoryRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { MemoryRouter as Router }`.")};var y=function(e){function t(){return e.apply(this,arguments)||this}h(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(o.Component);function w(e){var t=e.message,n=e.when,r=void 0===n||n;return o.createElement(b.Consumer,null,(function(e){if(e||l(!1,"You should not use <Prompt> outside a <Router>"),!r||e.staticContext)return null;var n=e.history.block;return o.createElement(y,{onMount:function(e){e.release=n(t)},onUpdate:function(e,r){r.message!==t&&(e.release(),e.release=n(t))},onUnmount:function(e){e.release()},message:t})}))}var E=a.oneOfType([a.func,a.string]);w.propTypes={when:a.bool,message:E.isRequired};var _={},k=0;function T(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(_[e])return _[e];var t=u.compile(e);return k<1e4&&(_[e]=t,k++),t}(e)(t,{pretty:!0})}function S(e){var t=e.computedMatch,n=e.to,r=e.push,a=void 0!==r&&r;return o.createElement(b.Consumer,null,(function(e){e||l(!1,"You should not use <Redirect> outside a <Router>");var r=e.history,s=e.staticContext,c=a?r.push:r.replace,u=i.createLocation(t?"string"==typeof n?T(n,t.params):f({},n,{pathname:T(n.pathname,t.params)}):n);return s?(c(u),null):o.createElement(y,{onMount:function(){c(u)},onUpdate:function(e,t){var n=i.createLocation(t.to);i.locationsAreEqual(n,f({},u,{key:n.key}))||c(u)},to:n})}))}S.propTypes={push:a.bool,from:a.string,to:a.oneOfType([a.string,a.object]).isRequired};var O={},R=0;function P(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,o=n.exact,a=void 0!==o&&o,i=n.strict,s=void 0!==i&&i,c=n.sensitive,l=void 0!==c&&c;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=O[n]||(O[n]={});if(r[e])return r[e];var o=[],a={regexp:u(e,o,t),keys:o};return R<1e4&&(r[e]=a,R++),a}(n,{end:a,strict:s,sensitive:l}),o=r.regexp,i=r.keys,c=o.exec(e);if(!c)return null;var d=c[0],p=c.slice(1),f=e===d;return a&&!f?null:{path:n,url:"/"===n&&""===d?"/":d,isExact:f,params:i.reduce((function(e,t,n){return e[t.name]=p[n],e}),{})}}),null)}function x(e){return 0===o.Children.count(e)}function A(e,t,n){var r=e(t);return s(void 0!==r,"You returned `undefined` from the `children` function of <Route"+(n?' path="'+n+'"':"")+">, but you should have returned a React element or `null`"),r||null}var C=function(e){function t(){return e.apply(this,arguments)||this}return h(t,e),t.prototype.render=function(){var e=this;return o.createElement(b.Consumer,null,(function(t){t||l(!1,"You should not use <Route> outside a <Router>");var n=e.props.location||t.location,r=f({},t,{location:n,match:e.props.computedMatch?e.props.computedMatch:e.props.path?P(n.pathname,e.props):t.match}),a=e.props,i=a.children,s=a.component,c=a.render;return Array.isArray(i)&&0===i.length&&(i=null),o.createElement(b.Provider,{value:r},r.match?i?"function"==typeof i?A(i,r,e.props.path):i:s?o.createElement(s,r):c?c(r):null:"function"==typeof i?A(i,r,e.props.path):null)}))},t}(o.Component);function j(e){return"/"===e.charAt(0)?e:"/"+e}function N(e,t){if(!e)return t;var n=j(e);return 0!==t.pathname.indexOf(n)?t:f({},t,{pathname:t.pathname.substr(n.length)})}function I(e){return"string"==typeof e?e:i.createPath(e)}function D(e){return function(){l(!1,"You cannot %s with <StaticRouter>",e)}}function M(){}C.propTypes={children:a.oneOfType([a.func,a.node]),component:function(e,t){if(e[t]&&!d.isValidElementType(e[t]))return new Error("Invalid prop 'component' supplied to 'Route': the prop is not a valid React component")},exact:a.bool,location:a.object,path:a.oneOfType([a.string,a.arrayOf(a.string)]),render:a.func,sensitive:a.bool,strict:a.bool},C.prototype.componentDidMount=function(){s(!(this.props.children&&!x(this.props.children)&&this.props.component),"You should not use <Route component> and <Route children> in the same route; <Route component> will be ignored"),s(!(this.props.children&&!x(this.props.children)&&this.props.render),"You should not use <Route render> and <Route children> in the same route; <Route render> will be ignored"),s(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored")},C.prototype.componentDidUpdate=function(e){s(!(this.props.location&&!e.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),s(!(!this.props.location&&e.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')};var U=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handlePush=function(e){return t.navigateTo(e,"PUSH")},t.handleReplace=function(e){return t.navigateTo(e,"REPLACE")},t.handleListen=function(){return M},t.handleBlock=function(){return M},t}h(t,e);var n=t.prototype;return n.navigateTo=function(e,t){var n=this.props,r=n.basename,o=void 0===r?"":r,a=n.context,s=void 0===a?{}:a;s.action=t,s.location=function(e,t){return e?f({},t,{pathname:j(e)+t.pathname}):t}(o,i.createLocation(e)),s.url=I(s.location)},n.render=function(){var e=this.props,t=e.basename,n=void 0===t?"":t,r=e.context,a=void 0===r?{}:r,s=e.location,c=void 0===s?"/":s,l=m(e,["basename","context","location"]),u={createHref:function(e){return j(n+I(e))},action:"POP",location:N(n,i.createLocation(c)),push:this.handlePush,replace:this.handleReplace,go:D("go"),goBack:D("goBack"),goForward:D("goForward"),listen:this.handleListen,block:this.handleBlock};return o.createElement(g,f({},l,{history:u,staticContext:a}))},t}(o.Component);U.propTypes={basename:a.string,context:a.object,location:a.oneOfType([a.string,a.object])},U.prototype.componentDidMount=function(){s(!this.props.history,"<StaticRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { StaticRouter as Router }`.")};var q=function(e){function t(){return e.apply(this,arguments)||this}return h(t,e),t.prototype.render=function(){var e=this;return o.createElement(b.Consumer,null,(function(t){t||l(!1,"You should not use <Switch> outside a <Router>");var n,r,a=e.props.location||t.location;return o.Children.forEach(e.props.children,(function(e){if(null==r&&o.isValidElement(e)){n=e;var i=e.props.path||e.props.from;r=i?P(a.pathname,f({},e.props,{path:i})):t.match}})),r?o.cloneElement(n,{location:a,computedMatch:r}):null}))},t}(o.Component);q.propTypes={children:a.node,location:a.object},q.prototype.componentDidUpdate=function(e){s(!(this.props.location&&!e.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),s(!(!this.props.location&&e.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')};var L=o.useContext;function B(){return"function"!=typeof L&&l(!1,"You must use React >= 16.8 in order to use useLocation()"),L(b).location}if("undefined"!=typeof window){var F=window,W="__react_router_build__",H={cjs:"CommonJS",esm:"ES modules",umd:"UMD"};if(F[W]&&"cjs"!==F[W]){var G=H[F[W]];throw new Error("You are loading the "+H.cjs+" build of React Router on a page that is already running the "+G+" build, so things won't work right.")}F[W]="cjs"}n.MemoryRouter=v,n.Prompt=w,n.Redirect=S,n.Route=C,n.Router=g,n.StaticRouter=U,n.Switch=q,n.__RouterContext=b,n.generatePath=T,n.matchPath=P,n.useHistory=function(){return"function"!=typeof L&&l(!1,"You must use React >= 16.8 in order to use useHistory()"),L(b).history},n.useLocation=B,n.useParams=function(){"function"!=typeof L&&l(!1,"You must use React >= 16.8 in order to use useParams()");var e=L(b).match;return e?e.params:{}},n.useRouteMatch=function(e){return"function"!=typeof L&&l(!1,"You must use React >= 16.8 in order to use useRouteMatch()"),e?P(B().pathname,e):L(b).match},n.withRouter=function(e){var t="withRouter("+(e.displayName||e.name)+")",n=function(n){var r=n.wrappedComponentRef,a=m(n,["wrappedComponentRef"]);return o.createElement(b.Consumer,null,(function(n){return n||l(!1,"You should not use <"+t+" /> outside a <Router>"),o.createElement(e,f({},a,n,{ref:r}))}))};return n.displayName=t,n.WrappedComponent=e,n.propTypes={wrappedComponentRef:a.oneOfType([a.string,a.func,a.object])},p(n,e)}},{file:"/home/circleci/project/node_modules/react-router/cjs/react-router.js"}],[3437,{history:3441,"hoist-non-react-statics":2257,"mini-create-react-context":3002,"path-to-regexp":3207,"prop-types":3233,react:3454,"react-is":3400,"tiny-invariant":3756,"tiny-warning":3757},function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e("react"));e("prop-types");var a=e("history");e("tiny-warning");var i=r(e("mini-create-react-context")),s=r(e("tiny-invariant")),c=r(e("path-to-regexp"));e("react-is");var l=r(e("hoist-non-react-statics"));function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function p(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}var f,h,m=(f="Router",(h=i()).displayName=f,h),b=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}d(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return o.createElement(m.Provider,{children:this.props.children||null,value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}})},t}(o.Component),g=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).history=a.createMemoryHistory(t.props),t}return d(t,e),t.prototype.render=function(){return o.createElement(b,{history:this.history,children:this.props.children})},t}(o.Component),v=function(e){function t(){return e.apply(this,arguments)||this}d(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(o.Component);var y={},w=0;function E(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(y[e])return y[e];var t=c.compile(e);return w<1e4&&(y[e]=t,w++),t}(e)(t,{pretty:!0})}var _={},k=0;function T(e,t){void 0===t&&(t={}),"string"!=typeof t&&!Array.isArray(t)||(t={path:t});var n=t,r=n.path,o=n.exact,a=void 0!==o&&o,i=n.strict,s=void 0!==i&&i,l=n.sensitive,u=void 0!==l&&l;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=_[n]||(_[n]={});if(r[e])return r[e];var o=[],a={regexp:c(e,o,t),keys:o};return k<1e4&&(r[e]=a,k++),a}(n,{end:a,strict:s,sensitive:u}),o=r.regexp,i=r.keys,l=o.exec(e);if(!l)return null;var d=l[0],p=l.slice(1),f=e===d;return a&&!f?null:{path:n,url:"/"===n&&""===d?"/":d,isExact:f,params:i.reduce((function(e,t,n){return e[t.name]=p[n],e}),{})}}),null)}var S=function(e){function t(){return e.apply(this,arguments)||this}return d(t,e),t.prototype.render=function(){var e=this;return o.createElement(m.Consumer,null,(function(t){t||s(!1);var n=e.props.location||t.location,r=u({},t,{location:n,match:e.props.computedMatch?e.props.computedMatch:e.props.path?T(n.pathname,e.props):t.match}),a=e.props,i=a.children,c=a.component,l=a.render;return Array.isArray(i)&&0===i.length&&(i=null),o.createElement(m.Provider,{value:r},r.match?i?"function"==typeof i?i(r):i:c?o.createElement(c,r):l?l(r):null:"function"==typeof i?i(r):null)}))},t}(o.Component);function O(e){return"/"===e.charAt(0)?e:"/"+e}function R(e,t){if(!e)return t;var n=O(e);return 0!==t.pathname.indexOf(n)?t:u({},t,{pathname:t.pathname.substr(n.length)})}function P(e){return"string"==typeof e?e:a.createPath(e)}function x(e){return function(){s(!1)}}function A(){}var C=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handlePush=function(e){return t.navigateTo(e,"PUSH")},t.handleReplace=function(e){return t.navigateTo(e,"REPLACE")},t.handleListen=function(){return A},t.handleBlock=function(){return A},t}d(t,e);var n=t.prototype;return n.navigateTo=function(e,t){var n=this.props,r=n.basename,o=void 0===r?"":r,i=n.context,s=void 0===i?{}:i;s.action=t,s.location=function(e,t){return e?u({},t,{pathname:O(e)+t.pathname}):t}(o,a.createLocation(e)),s.url=P(s.location)},n.render=function(){var e=this.props,t=e.basename,n=void 0===t?"":t,r=e.context,i=void 0===r?{}:r,s=e.location,c=void 0===s?"/":s,l=p(e,["basename","context","location"]),d={createHref:function(e){return O(n+P(e))},action:"POP",location:R(n,a.createLocation(c)),push:this.handlePush,replace:this.handleReplace,go:x(),goBack:x(),goForward:x(),listen:this.handleListen,block:this.handleBlock};return o.createElement(b,u({},l,{history:d,staticContext:i}))},t}(o.Component),j=function(e){function t(){return e.apply(this,arguments)||this}return d(t,e),t.prototype.render=function(){var e=this;return o.createElement(m.Consumer,null,(function(t){t||s(!1);var n,r,a=e.props.location||t.location;return o.Children.forEach(e.props.children,(function(e){if(null==r&&o.isValidElement(e)){var i=(n=e).props.path||e.props.from;r=i?T(a.pathname,u({},e.props,{path:i})):t.match}})),r?o.cloneElement(n,{location:a,computedMatch:r}):null}))},t}(o.Component);var N=o.useContext;function I(){return N(m).location}n.MemoryRouter=g,n.Prompt=function(e){var t=e.message,n=e.when,r=void 0===n||n;return o.createElement(m.Consumer,null,(function(e){if(e||s(!1),!r||e.staticContext)return null;var n=e.history.block;return o.createElement(v,{onMount:function(e){e.release=n(t)},onUpdate:function(e,r){r.message!==t&&(e.release(),e.release=n(t))},onUnmount:function(e){e.release()},message:t})}))},n.Redirect=function(e){var t=e.computedMatch,n=e.to,r=e.push,i=void 0!==r&&r;return o.createElement(m.Consumer,null,(function(e){e||s(!1);var r=e.history,c=e.staticContext,l=i?r.push:r.replace,d=a.createLocation(t?"string"==typeof n?E(n,t.params):u({},n,{pathname:E(n.pathname,t.params)}):n);return c?(l(d),null):o.createElement(v,{onMount:function(){l(d)},onUpdate:function(e,t){var n=a.createLocation(t.to);a.locationsAreEqual(n,u({},d,{key:n.key}))||l(d)},to:n})}))},n.Route=S,n.Router=b,n.StaticRouter=C,n.Switch=j,n.__RouterContext=m,n.generatePath=E,n.matchPath=T,n.useHistory=function(){return N(m).history},n.useLocation=I,n.useParams=function(){var e=N(m).match;return e?e.params:{}},n.useRouteMatch=function(e){return e?T(I().pathname,e):N(m).match},n.withRouter=function(e){function t(t){var n=t.wrappedComponentRef,r=p(t,["wrappedComponentRef"]);return o.createElement(m.Consumer,null,(function(t){return t||s(!1),o.createElement(e,u({},r,t,{ref:n}))}))}var n="withRouter("+(e.displayName||e.name)+")";return t.displayName=n,t.WrappedComponent=e,l(t,e)}},{file:"/home/circleci/project/node_modules/react-router/cjs/react-router.min.js"}],[1734,{},function(e,t,n){
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var e={}.hasOwnProperty;function n(){for(var t=[],r=0;r<arguments.length;r++){var o=arguments[r];if(o){var a=typeof o;if("string"===a||"number"===a)t.push(o);else if(Array.isArray(o)&&o.length){var i=n.apply(null,o);i&&t.push(i)}else if("object"===a)for(var s in o)e.call(o,s)&&o[s]&&t.push(s)}}return t.join(" ")}void 0!==t&&t.exports?(n.default=n,t.exports=n):"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],(function(){return n})):window.classNames=n}()},{file:"/home/circleci/project/node_modules/classnames/index.js"}],[3372,{"prop-types":3233,react:3454},function(e,t,n){"use strict";var r,o=e("react"),a=(r=e("prop-types"))&&"object"==typeof r&&"default"in r?r.default:r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c="object"===("undefined"==typeof window||"undefined"==typeof window?"undefined":i(window)),l=c?document:{},u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(n.state={idle:!1,oldDate:+new Date,lastActive:+new Date,remaining:null,pageX:null,pageY:null},n.tId=null,n._handleEvent=function(e){var t=n.state,r=t.remaining,o=t.pageX,a=t.pageY,i=t.idle,s=n.props,c=s.timeout,l=s.onAction,u=s.debounce,d=s.throttle,p=s.stopOnIdle;if(u>0?n.debouncedAction(e):d>0?n.throttledAction(e):l(e),!r){if("mousemove"===e.type){if(e.pageX===o&&e.pageY===a)return;if(void 0===e.pageX&&void 0===e.pageY)return;if(n.getElapsedTime()<200)return}clearTimeout(n.tId),n.tId=null,i&&!p&&n.toggleIdleState(e),n.setState({lastActive:+new Date,pageX:e.pageX,pageY:e.pageY}),i&&p||(n.tId=setTimeout(n.toggleIdleState,c))}},e.debounce>0&&e.throttle>0)throw new Error("onAction can either be throttled or debounced (not both)");return e.debounce>0&&(n.debouncedAction=d(e.onAction,e.debounce)),e.throttle>0&&(n.throttledAction=p(e.onAction,e.throttle)),e.startOnMount||(n.state.idle=!0),n.toggleIdleState=n._toggleIdleState.bind(n),n.reset=n._reset.bind(n),n.pause=n._pause.bind(n),n.resume=n._resume.bind(n),n.getRemainingTime=n._getRemainingTime.bind(n),n.getElapsedTime=n._getElapsedTime.bind(n),n.getLastActiveTime=n._getLastActiveTime.bind(n),n.isIdle=n._isIdle.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"componentWillMount",value:function(){this._bindEvents()}},{key:"componentDidMount",value:function(){this.props.startOnMount&&this.reset()}},{key:"componentDidUpdate",value:function(e){e.debounce!==this.props.debounce&&(this.debouncedAction=d(this.props.onAction,this.props.debounce)),e.throttle!==this.props.throttle&&(this.throttledAction=p(this.props.onAction,this.props.throttle))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.tId),this._unbindEvents()}},{key:"render",value:function(){return this.props.children||null}},{key:"_bindEvents",value:function(){var e=this;if(c){var t=this.state.eventsBound,n=this.props,r=n.element,o=n.events,a=n.passive,i=n.capture;t||(o.forEach((function(t){r.addEventListener(t,e._handleEvent,{capture:i,passive:a})})),this.setState({eventsBound:!0}))}}},{key:"_unbindEvents",value:function(){var e=this;if(c){var t=this.props,n=t.element,r=t.events,o=t.passive,a=t.capture;this.state.eventsBound&&(r.forEach((function(t){n.removeEventListener(t,e._handleEvent,{capture:a,passive:o})})),this.setState({eventsBound:!1}))}}},{key:"_toggleIdleState",value:function(e){var t=this,n=this.state.idle,r=this.props,o=r.onActive,a=r.onIdle,i=r.stopOnIdle;this.setState({idle:!n},(function(){n?i||(t._bindEvents(),o(e)):(i&&(clearTimeout(t.tId),t.tId=null,t._unbindEvents()),a(e))}))}},{key:"_reset",value:function(){clearTimeout(this.tId),this.tId=null,this._bindEvents(),this.setState({idle:!1,oldDate:+new Date,lastActive:this.state.oldDate,remaining:null});var e=this.props.timeout;this.tId=setTimeout(this.toggleIdleState,e)}},{key:"_pause",value:function(){null===this.state.remaining&&(this._unbindEvents(),clearTimeout(this.tId),this.tId=null,this.setState({remaining:this.getRemainingTime()}))}},{key:"_resume",value:function(){var e=this.state,t=e.remaining,n=e.idle;null!==t&&(this._bindEvents(),n||(this.setState({remaining:null}),this.tId=setTimeout(this.toggleIdleState,t)))}},{key:"_getRemainingTime",value:function(){var e=this.state,t=e.remaining,n=e.idle,r=e.lastActive;if(n)return 0;if(null!==t)return t;var o=this.props.timeout-(+new Date-r);return o<0&&(o=0),o}},{key:"_getElapsedTime",value:function(){var e=this.state.oldDate;return+new Date-e}},{key:"_getLastActiveTime",value:function(){return this.state.lastActive}},{key:"_isIdle",value:function(){return this.state.idle}}]),t}(o.Component);function d(e,t){var n=void 0;return function(){for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];n&&clearTimeout(n),n=setTimeout((function(){e.apply(void 0,o),n=null}),t)}}function p(e,t){var n=0;return function(){var r=(new Date).getTime();if(!(r-n<t))return n=r,e.apply(void 0,arguments)}}u.propTypes={timeout:a.number,events:a.arrayOf(a.string),onIdle:a.func,onActive:a.func,onAction:a.func,debounce:a.number,throttle:a.number,element:a.oneOfType([a.object,a.element]),startOnMount:a.bool,stopOnIdle:a.bool,passive:a.bool,capture:a.bool},u.defaultProps={timeout:12e5,element:l,events:["mousemove","keydown","wheel","DOMMouseScroll","mouseWheel","mousedown","touchstart","touchmove","MSPointerDown","MSPointerMove"],onIdle:function(){},onActive:function(){},onAction:function(){},debounce:0,throttle:0,startOnMount:!0,stopOnIdle:!1,capture:!0,passive:!0},t.exports=u},{file:"/home/circleci/project/node_modules/react-idle-timer/dist/index.min.js"}],[4159,{"../../../../shared/constants/time":3919,"@babel/runtime/helpers/defineProperty":178,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,classnames:1734,"prop-types":3233,react:3454},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireWildcard"),o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(e("@babel/runtime/helpers/defineProperty")),i=o(e("classnames")),s=o(e("prop-types")),c=r(e("react")),l=e("../../../../shared/constants/time");class u extends c.Component{constructor(...e){super(...e),(0,a.default)(this,"state",{visible:!1,msg:!1,className:""})}UNSAFE_componentWillReceiveProps(e){!this.props.visible&&e.visible?this.animateIn(e.msg):this.props.visible&&!e.visible&&this.animateOut()}animateIn(e){this.setState({msg:e,visible:!0,className:"visible"})}animateOut(){this.setState({msg:null,className:"hidden"}),setTimeout((e=>{this.setState({visible:!1})}),500*l.MILLISECOND)}render(){return this.state.visible?c.default.createElement("div",{className:(0,i.default)("global-alert",this.state.className)},c.default.createElement("a",{className:"msg"},this.state.msg)):null}}u.propTypes={visible:s.default.bool.isRequired,msg:s.default.string};var d=u;n.default=d},{file:"/home/circleci/project/ui/components/ui/alert/index.js"}],[4494,{"./lock.container":4496,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./lock.container"))},{file:"/home/circleci/project/ui/pages/lock/index.js"}],[4497,{"./mobile-sync.container":4499,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./mobile-sync.container"))},{file:"/home/circleci/project/ui/pages/mobile-sync/index.js"}],[4388,{"./confirm-add-suggested-token.container":4387,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=r(e("./confirm-add-suggested-token.container")).default;n.default=o},{file:"/home/circleci/project/ui/pages/confirm-add-suggested-token/index.js"}],[4321,{"./authenticated.container":4320,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./authenticated.container"))},{file:"/home/circleci/project/ui/helpers/higher-order-components/authenticated/index.js"}],[4323,{"./initialized.container":4325,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./initialized.container"))},{file:"/home/circleci/project/ui/helpers/higher-order-components/initialized/index.js"}],[4009,{"./loading-network-screen.container":4011,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./loading-network-screen.container"))},{file:"/home/circleci/project/ui/components/app/loading-network-screen/index.js"}],[4493,{"../../components/ui/button":4165,"../../components/ui/export-text-container":4191,"../../ducks/history/history":4304,"../../store/actions":4647,"@babel/runtime/helpers/defineProperty":178,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,classnames:1734,"prop-types":3233,react:3454,"react-redux":3421},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireWildcard"),o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(e("@babel/runtime/helpers/defineProperty")),i=r(e("react")),s=e("react-redux"),c=o(e("prop-types")),l=o(e("classnames")),u=e("../../store/actions"),d=o(e("../../components/ui/export-text-container")),p=e("../../ducks/history/history"),f=o(e("../../components/ui/button"));const h="PASSWORD_PROMPT_SCREEN";class m extends i.Component{constructor(...e){super(...e),(0,a.default)(this,"state",{screen:h,password:"",seedWords:null,error:null})}componentDidMount(){const e=document.getElementById("password-box");e&&e.focus()}handleSubmit(e){e.preventDefault(),this.setState({seedWords:null,error:null}),this.props.requestRevealSeedWords(this.state.password).then((e=>this.setState({seedWords:e,screen:"REVEAL_SEED_SCREEN"}))).catch((e=>this.setState({error:e.message})))}renderWarning(){return i.default.createElement("div",{className:"page-container__warning-container"},i.default.createElement("img",{className:"page-container__warning-icon",src:"images/warning.svg",alt:""}),i.default.createElement("div",{className:"page-container__warning-message"},i.default.createElement("div",{className:"page-container__warning-title"},this.context.t("revealSeedWordsWarningTitle")),i.default.createElement("div",null,this.context.t("revealSeedWordsWarning"))))}renderContent(){return this.state.screen===h?this.renderPasswordPromptContent():this.renderRevealSeedContent()}renderPasswordPromptContent(){const{t:e}=this.context;return i.default.createElement("form",{onSubmit:e=>this.handleSubmit(e)},i.default.createElement("label",{className:"input-label",htmlFor:"password-box"},e("enterPasswordContinue")),i.default.createElement("div",{className:"input-group"},i.default.createElement("input",{type:"password",placeholder:e("password"),id:"password-box",value:this.state.password,onChange:e=>this.setState({password:e.target.value}),className:(0,l.default)("form-control",{"form-control--error":this.state.error})})),this.state.error&&i.default.createElement("div",{className:"reveal-seed__error"},this.state.error))}renderRevealSeedContent(){const{t:e}=this.context;return i.default.createElement("div",null,i.default.createElement("label",{className:"reveal-seed__label"},e("yourPrivateSeedPhrase")),i.default.createElement(d.default,{text:this.state.seedWords}))}renderFooter(){return this.state.screen===h?this.renderPasswordPromptFooter():this.renderRevealSeedFooter()}renderPasswordPromptFooter(){return i.default.createElement("div",{className:"page-container__footer"},i.default.createElement("footer",null,i.default.createElement(f.default,{type:"default",large:!0,className:"page-container__footer-button",onClick:()=>this.props.history.push(this.props.mostRecentOverviewPage)},this.context.t("cancel")),i.default.createElement(f.default,{type:"secondary",large:!0,className:"page-container__footer-button",onClick:e=>this.handleSubmit(e),disabled:""===this.state.password},this.context.t("next"))))}renderRevealSeedFooter(){return i.default.createElement("div",{className:"page-container__footer"},i.default.createElement(f.default,{type:"default",large:!0,className:"page-container__footer-button",onClick:()=>this.props.history.push(this.props.mostRecentOverviewPage)},this.context.t("close")))}render(){return i.default.createElement("div",{className:"page-container"},i.default.createElement("div",{className:"page-container__header"},i.default.createElement("div",{className:"page-container__title"},this.context.t("revealSeedWordsTitle")),i.default.createElement("div",{className:"page-container__subtitle"},this.context.t("revealSeedWordsDescription"))),i.default.createElement("div",{className:"page-container__content"},this.renderWarning(),i.default.createElement("div",{className:"reveal-seed__content"},this.renderContent())),this.renderFooter())}}m.propTypes={requestRevealSeedWords:c.default.func,history:c.default.object,mostRecentOverviewPage:c.default.string.isRequired},m.contextTypes={t:c.default.func};var b=(0,s.connect)((e=>({mostRecentOverviewPage:(0,p.getMostRecentOverviewPage)(e)})),(e=>({requestRevealSeedWords:t=>e((0,u.requestRevealSeedWords)(t))})))(m);n.default=b},{file:"/home/circleci/project/ui/pages/keychains/reveal-seed.js"}],[4230,{"./loading-screen.component":4231,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=r(e("./loading-screen.component")).default;n.default=o},{file:"/home/circleci/project/ui/components/ui/loading-screen/index.js"}],[3949,{"./app-header.container":3948,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./app-header.container"))},{file:"/home/circleci/project/ui/components/app/app-header/index.js"}],[4445,{"./create-account.component":4441,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./create-account.component"))},{file:"/home/circleci/project/ui/pages/create-account/index.js"}],[4428,{"./confirmation":4427,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./confirmation"))},{file:"/home/circleci/project/ui/pages/confirmation/index.js"}],[4385,{"./asset":4379,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./asset"))},{file:"/home/circleci/project/ui/pages/asset/index.js"}],[4502,{"./permissions-connect.container":4504,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./permissions-connect.container"))},{file:"/home/circleci/project/ui/pages/permissions-connect/index.js"}],[3986,{"../../../../app/scripts/lib/util":78,"../../../../shared/constants/app":3912,"../../../../shared/constants/network":3916,"../../../../shared/modules/network.utils":3927,"../../../ducks/alerts/invalid-custom-network":4297,"../../../helpers/constants/design-system":4314,"../../../helpers/constants/routes":4317,"../../../store/actions":4647,"../../ui/color-indicator":4173,"./dropdown":3985,"@babel/runtime/helpers/defineProperty":178,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,"prop-types":3233,react:3454,"react-redux":3421,"react-router-dom":3432,redux:3477},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireWildcard"),o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(e("@babel/runtime/helpers/defineProperty")),i=o(e("prop-types")),s=r(e("react")),c=e("react-redux"),l=e("react-router-dom"),u=e("redux"),d=r(e("../../../store/actions")),p=e("../../../ducks/alerts/invalid-custom-network"),f=e("../../../helpers/constants/routes"),h=e("../../../../shared/constants/app"),m=e("../../../../shared/constants/network"),b=e("../../../../shared/modules/network.utils"),g=e("../../../../app/scripts/lib/util"),v=o(e("../../ui/color-indicator")),y=e("../../../helpers/constants/design-system"),w=e("./dropdown");const E=["menu-icon","network-name","network-indicator","network-caret","network-component","modal-container__footer-button"],_={fontSize:"16px",lineHeight:"20px",padding:"12px 0"};class k extends s.Component{handleClick(e){const{provider:{type:t},setProviderType:n}=this.props,{metricsEvent:r}=this.context;r({eventOpts:{category:"Navigation",action:"Home",name:"Switched Networks"},customVariables:{fromNetwork:t,toNetwork:e}}),n(e)}renderCustomRpcList(e,t){return e.slice().reverse().map((e=>{const{rpcUrl:n,chainId:r,ticker:o="ETH",nickname:a=""}=e,i=t.type===m.NETWORK_TYPE_RPC&&n===t.rpcUrl;return s.default.createElement(w.DropdownMenuItem,{key:`common${n}`,closeMenu:()=>this.props.hideNetworkDropdown(),onClick:()=>{(0,b.isPrefixedFormattedHexString)(r)?this.props.setRpcTarget(n,r,o,a):this.props.displayInvalidCustomNetworkAlert(a||n)},style:{fontSize:"16px",lineHeight:"20px",padding:"12px 0"}},i?s.default.createElement("i",{className:"fa fa-check"}):s.default.createElement("div",{className:"network-check__transparent"},""),s.default.createElement(v.default,{color:y.COLORS.UI2,size:y.SIZES.LG,type:v.default.TYPES.FILLED,borderColor:i?y.COLORS.WHITE:y.COLORS.UI2}),s.default.createElement("span",{className:"network-name-item",style:{color:i?"#ffffff":"#9b9b9b"}},a||n),i?null:s.default.createElement("i",{className:"fa fa-times delete",onClick:e=>{e.stopPropagation(),this.props.showConfirmDeleteNetworkModal({target:n,onConfirm:()=>{}})}}))}))}getNetworkName(){const{provider:e}=this.props,t=e.type;let n;return n="mainnet"===t?this.context.t("mainnet"):"ropsten"===t?this.context.t("ropsten"):"kovan"===t?this.context.t("kovan"):"rinkeby"===t?this.context.t("rinkeby"):"goerli"===t?this.context.t("goerli"):e.nickname||this.context.t("unknownNetwork"),n}renderNetworkEntry(e){const{provider:{type:t}}=this.props;return s.default.createElement(w.DropdownMenuItem,{key:e,closeMenu:this.props.hideNetworkDropdown,onClick:()=>this.handleClick(e),style:_},t===e?s.default.createElement("i",{className:"fa fa-check"}):s.default.createElement("div",{className:"network-check__transparent"},""),s.default.createElement(v.default,{color:e,size:y.SIZES.LG,type:v.default.TYPES.FILLED,borderColor:t===e?y.COLORS.WHITE:e}),s.default.createElement("span",{className:"network-name-item",style:{color:t===e?"#ffffff":"#9b9b9b"}},this.context.t(e)))}render(){const{provider:{rpcUrl:e},setNetworksTabAddMode:t,setSelectedSettingsRpcUrl:n}=this.props,r=this.props.frequentRpcListDetail,o=this.props.networkDropdownOpen;return s.default.createElement(w.Dropdown,{isOpen:o,onClickOutside:e=>{const{classList:t}=e.target;-1===E.findIndex((e=>t.contains(e)))&&(e.stopPropagation(),this.props.hideNetworkDropdown())},containerClassName:"network-droppo",zIndex:55,style:{position:"absolute",top:"58px",width:"309px",zIndex:"55px"},innerStyle:{padding:"18px 8px"}},s.default.createElement("div",{className:"network-dropdown-header"},s.default.createElement("div",{className:"network-dropdown-title"},this.context.t("networks")),s.default.createElement("div",{className:"network-dropdown-divider"}),s.default.createElement("div",{className:"network-dropdown-content"},this.context.t("defaultNetwork"))),this.renderNetworkEntry("mainnet"),this.renderNetworkEntry("ropsten"),this.renderNetworkEntry("kovan"),this.renderNetworkEntry("rinkeby"),this.renderNetworkEntry("goerli"),this.renderCustomRpcList(r,this.props.provider),s.default.createElement(w.DropdownMenuItem,{closeMenu:()=>this.props.hideNetworkDropdown(),onClick:()=>{this.props.history.push((0,g.getEnvironmentType)()===h.ENVIRONMENT_TYPE_FULLSCREEN?f.NETWORKS_ROUTE:f.NETWORKS_FORM_ROUTE),n(""),t(!0)},style:_},"custom"===e?s.default.createElement("i",{className:"fa fa-check"}):s.default.createElement("div",{className:"network-check__transparent"},""),s.default.createElement(v.default,{type:v.default.TYPES.FILLED,color:y.COLORS.TRANSPARENT,borderColor:y.COLORS.UI2,size:y.SIZES.LG}),s.default.createElement("span",{className:"network-name-item",style:{color:"custom"===e?"#ffffff":"#9b9b9b"}},this.context.t("customRPC"))))}}(0,a.default)(k,"contextTypes",{t:i.default.func,metricsEvent:i.default.func}),(0,a.default)(k,"propTypes",{provider:i.default.shape({nickname:i.default.string,rpcUrl:i.default.string,type:i.default.string,ticker:i.default.string}).isRequired,setProviderType:i.default.func.isRequired,setRpcTarget:i.default.func.isRequired,hideNetworkDropdown:i.default.func.isRequired,setNetworksTabAddMode:i.default.func.isRequired,setSelectedSettingsRpcUrl:i.default.func.isRequired,frequentRpcListDetail:i.default.array.isRequired,networkDropdownOpen:i.default.bool.isRequired,history:i.default.object.isRequired,displayInvalidCustomNetworkAlert:i.default.func.isRequired,showConfirmDeleteNetworkModal:i.default.func.isRequired});var T=(0,u.compose)(l.withRouter,(0,c.connect)((function(e){return{provider:e.metamask.provider,frequentRpcListDetail:e.metamask.frequentRpcListDetail||[],networkDropdownOpen:e.appState.networkDropdownOpen}}),(function(e){return{setProviderType:t=>{e(d.setProviderType(t))},setRpcTarget:(t,n,r,o)=>{e(d.setRpcTarget(t,n,r,o))},hideNetworkDropdown:()=>e(d.hideNetworkDropdown()),setNetworksTabAddMode:t=>{e(d.setNetworksTabAddMode(t))},setSelectedSettingsRpcUrl:t=>{e(d.setSelectedSettingsRpcUrl(t))},displayInvalidCustomNetworkAlert:t=>{e((0,p.openAlert)(t))},showConfirmDeleteNetworkModal:({target:t,onConfirm:n})=>e(d.showModal({name:"CONFIRM_DELETE_NETWORK",target:t,onConfirm:n}))}})))(k);n.default=T},{file:"/home/circleci/project/ui/components/app/dropdowns/network-dropdown.js"}],[4371,{"./add-token.container":4370,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=r(e("./add-token.container")).default;n.default=o},{file:"/home/circleci/project/ui/pages/add-token/index.js"}],[3937,{"./account-menu.container":3936,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./account-menu.container"))},{file:"/home/circleci/project/ui/components/app/account-menu/index.js"}],[3942,{"./alerts":3941,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./alerts"))},{file:"/home/circleci/project/ui/components/app/alerts/index.js"}],[4097,{"./sidebar.component":4098,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./sidebar.component"))},{file:"/home/circleci/project/ui/components/app/sidebars/index.js"}],[4564,{"./settings.container":4580,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./settings.container"))},{file:"/home/circleci/project/ui/pages/settings/index.js"}],[4062,{"./modal":4066,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Modal",{enumerable:!0,get:function(){return o.default}});var o=r(e("./modal"))},{file:"/home/circleci/project/ui/components/app/modals/index.js"}],[4391,{"./confirm-add-token.container":4390,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=r(e("./confirm-add-token.container")).default;n.default=o},{file:"/home/circleci/project/ui/pages/confirm-add-token/index.js"}],[4466,{"./first-time-flow.container":4465,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./first-time-flow.container"))},{file:"/home/circleci/project/ui/pages/first-time-flow/index.js"}],[4605,{"../../../shared/constants/swaps":3918,"../../../shared/constants/transaction":3921,"../../contexts/i18n":4292,"../../ducks/swaps/swaps":4310,"../../helpers/constants/routes":4317,"../../helpers/higher-order-components/feature-toggled-route":4322,"../../hooks/useGasFeeEstimates":4349,"../../hooks/useMetricEvent":4353,"../../selectors":4642,"../../selectors/selectors":4644,"../../store/actions":4647,"./awaiting-signatures":4582,"./awaiting-swap":4585,"./build-quote":4592,"./loading-swaps-quotes":4608,"./swaps.util":4632,"./view-quote":4633,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,"bignumber.js":1636,react:3454,"react-redux":3421,"react-router-dom":3432},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault"),o=e("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e,t,n,r;const o=(0,a.useContext)(l.I18nContext),O=(0,s.useHistory)(),R=(0,i.useDispatch)(),{pathname:P}=(0,s.useLocation)(),x=P===f.AWAITING_SWAP_ROUTE,A=P===f.AWAITING_SIGNATURES_ROUTE,C=P===f.SWAPS_ERROR_ROUTE,j=P===f.LOADING_QUOTES_ROUTE,N=(0,i.useSelector)(d.getFetchParams),{destinationTokenInfo:I={}}=(null==N?void 0:N.metaData)||{},[D,M]=(0,a.useState)((null==N?void 0:N.value)||""),[U,q]=(0,a.useState)((null==N?void 0:N.slippage)||3),[L,B]=(0,a.useState)(!1),[F,W]=(0,a.useState)(null),H=(0,i.useSelector)(d.getBackgroundSwapRouteState),G=(0,i.useSelector)(u.getSelectedAccount),$=(0,i.useSelector)(d.getQuotes),K=(0,i.useSelector)(p.currentNetworkTxListSelector),V=(0,i.useSelector)(d.getTradeTxId),Y=(0,i.useSelector)(d.getApproveTxId),z=(0,i.useSelector)(d.getAggregatorMetadata),Q=(0,i.useSelector)(d.getFetchingQuotes);let Z=(0,i.useSelector)(d.getSwapsErrorKey);const J=(0,i.useSelector)(d.getSwapsFeatureIsLive),X=(0,i.useSelector)(u.getCurrentChainId),ee=(0,i.useSelector)(u.getIsSwapsChain),te=(0,i.useSelector)(d.getUseNewSwapsApi),ne=(0,i.useSelector)(p.checkNetworkAndAccountSupports1559),re=(0,i.useSelector)(d.getFromToken);ne&&(0,g.useGasFeeEstimates)();const{balance:oe,address:ae}=G,{destinationTokenAddedForSwap:ie}=N||{},se=Y&&K.find((({id:e})=>Y===e)),ce=V&&K.find((({id:e})=>V===e)),le=(null==ce?void 0:ce.txReceipt)&&(0,w.getSwapsTokensReceivedFromTxMeta)(null==I?void 0:I.symbol,ce,null==I?void 0:I.address,ae,null==I?void 0:I.decimals,se,X),ue=(null==ce?void 0:ce.status)===y.TRANSACTION_STATUSES.CONFIRMED,de=(null==se?void 0:se.status)===y.TRANSACTION_STATUSES.FAILED||"0x0"===(null==se||null===(e=se.txReceipt)||void 0===e?void 0:e.status),pe=(null==ce?void 0:ce.status)===y.TRANSACTION_STATUSES.FAILED||"0x0"===(null==ce||null===(t=ce.txReceipt)||void 0===t?void 0:t.status),fe=de||pe;fe&&Z!==h.CONTRACT_DATA_DISABLED_ERROR&&(Z=h.SWAP_FAILED_ERROR);const he=(0,a.useRef)();(0,a.useEffect)((()=>{he.current=()=>{!ie||x&&!fe||R((0,m.removeToken)(null==I?void 0:I.address))}}),[fe,R,ie,I,N,x]),(0,a.useEffect)((()=>()=>{he.current()}),[]),(0,a.useEffect)((()=>{if(L)return(0,w.fetchTokens)(X,te).then((e=>{R((0,m.setSwapsTokens)(e))})).catch((e=>console.error(e))),(0,w.fetchTopAssets)(X,te).then((e=>{R((0,d.setTopAssets)(e))})),(0,w.fetchAggregatorMetadata)(X,te).then((e=>{R((0,d.setAggregatorMetadata)(e))})),ne||R((0,d.fetchAndSetSwapsGasPriceInfo)(X)),()=>{R((0,d.prepareToLeaveSwaps)())}}),[R,X,L,te,ne]);const me=(0,i.useSelector)(u.isHardwareWallet),be=(0,i.useSelector)(u.getHardwareWalletType),ge=(0,b.useNewMetricEvent)({event:"Exited Swaps",category:"swaps",sensitiveProperties:{token_from:null==N||null===(n=N.sourceTokenInfo)||void 0===n?void 0:n.symbol,token_from_amount:null==N?void 0:N.value,request_type:null==N?void 0:N.balanceError,token_to:null==N||null===(r=N.destinationTokenInfo)||void 0===r?void 0:r.symbol,slippage:null==N?void 0:N.slippage,custom_slippage:2!==(null==N?void 0:N.slippage),current_screen:P.match(/\/swaps\/(.+)/u)[1],is_hardware_wallet:me,hardware_wallet_type:be}}),ve=(0,a.useRef)();(0,a.useEffect)((()=>{ve.current=()=>{ge()}})),(0,a.useEffect)((()=>((async()=>{await R((0,d.fetchSwapsLiveness)()),B(!0)})(),()=>{ve.current()})),[R]),(0,a.useEffect)((()=>{Z&&!C&&O.push(f.SWAPS_ERROR_ROUTE)}),[O,Z,C]);const ye=(0,a.useRef)();if((0,a.useEffect)((()=>{const e=()=>(he.current(),j&&R((0,d.prepareToLeaveSwaps)()),null);return j&&!ye.current&&(ye.current=!0,window.addEventListener("beforeunload",e)),()=>window.removeEventListener("beforeunload",e)}),[R,j]),!ee)return a.default.createElement(s.Redirect,{to:{pathname:f.DEFAULT_ROUTE}});return a.default.createElement("div",{className:"swaps"},a.default.createElement("div",{className:"swaps__container"},a.default.createElement("div",{className:"swaps__header"},a.default.createElement("div",{className:"swaps__title"},o("swap")),!x&&!A&&a.default.createElement("div",{className:"swaps__header-cancel",onClick:async()=>{he.current(),R((0,d.clearSwapsState)()),await R((0,m.resetBackgroundSwapsState)()),O.push(f.DEFAULT_ROUTE)}},o("cancel"))),a.default.createElement("div",{className:"swaps__content"},a.default.createElement(s.Switch,null,a.default.createElement(v.default,{redirectRoute:f.SWAPS_MAINTENANCE_ROUTE,flag:J,path:f.BUILD_QUOTE_ROUTE,exact:!0,render:()=>{if(ce&&!fe)return a.default.createElement(s.Redirect,{to:{pathname:f.AWAITING_SWAP_ROUTE}});if(ce&&H)return a.default.createElement(s.Redirect,{to:{pathname:f.SWAPS_ERROR_ROUTE}});if("loading"===H&&z)return a.default.createElement(s.Redirect,{to:{pathname:f.LOADING_QUOTES_ROUTE}});return a.default.createElement(T.default,{inputValue:D,onInputChange:(e,t)=>{M(e);const n=new c.default(e||0).gt(t||0);R((0,d.setBalanceError)(n)),W(re&&(0,w.countDecimals)(e)>re.decimals?"tooManyDecimals":null)},ethBalance:oe,setMaxSlippage:q,selectedAccountAddress:ae,maxSlippage:U,isFeatureFlagLoaded:L,tokenFromError:F})}}),a.default.createElement(v.default,{redirectRoute:f.SWAPS_MAINTENANCE_ROUTE,flag:J,path:f.VIEW_QUOTE_ROUTE,exact:!0,render:()=>Object.values($).length?a.default.createElement(S.default,{numberOfQuotes:Object.values($).length}):N?a.default.createElement(s.Redirect,{to:{pathname:f.SWAPS_ERROR_ROUTE}}):a.default.createElement(s.Redirect,{to:{pathname:f.BUILD_QUOTE_ROUTE}})}),a.default.createElement(s.Route,{path:f.SWAPS_ERROR_ROUTE,exact:!0,render:()=>Z?a.default.createElement(_.default,{swapComplete:!1,errorKey:Z,txHash:null==ce?void 0:ce.hash,inputValue:D,maxSlippage:U,submittedTime:null==ce?void 0:ce.submittedTime}):a.default.createElement(s.Redirect,{to:{pathname:f.BUILD_QUOTE_ROUTE}})}),a.default.createElement(v.default,{redirectRoute:f.SWAPS_MAINTENANCE_ROUTE,flag:J,path:f.LOADING_QUOTES_ROUTE,exact:!0,render:()=>z?a.default.createElement(k.default,{loadingComplete:!Q&&Boolean(Object.values($).length),onDone:async()=>{await R((0,m.setBackgroundSwapRouteState)("")),Z===h.ERROR_FETCHING_QUOTES||Z===h.QUOTES_NOT_AVAILABLE_ERROR?(R((0,m.setSwapsErrorKey)(h.QUOTES_NOT_AVAILABLE_ERROR)),O.push(f.SWAPS_ERROR_ROUTE)):O.push(f.VIEW_QUOTE_ROUTE)},aggregatorMetadata:z}):a.default.createElement(s.Redirect,{to:{pathname:f.BUILD_QUOTE_ROUTE}})}),a.default.createElement(s.Route,{path:f.SWAPS_MAINTENANCE_ROUTE,exact:!0,render:()=>!1===J?a.default.createElement(_.default,{errorKey:h.OFFLINE_FOR_MAINTENANCE}):a.default.createElement(s.Redirect,{to:{pathname:f.BUILD_QUOTE_ROUTE}})}),a.default.createElement(s.Route,{path:f.AWAITING_SIGNATURES_ROUTE,exact:!0,render:()=>a.default.createElement(E.default,null)}),a.default.createElement(s.Route,{path:f.AWAITING_SWAP_ROUTE,exact:!0,render:()=>"awaiting"===H||ce?a.default.createElement(_.default,{swapComplete:ue,txHash:null==ce?void 0:ce.hash,tokensReceived:le,submittingSwap:"awaiting"===H&&!(Y||V),inputValue:D,maxSlippage:U}):a.default.createElement(s.Redirect,{to:{pathname:f.DEFAULT_ROUTE}})})))))};var a=o(e("react")),i=e("react-redux"),s=e("react-router-dom"),c=r(e("bignumber.js")),l=e("../../contexts/i18n"),u=e("../../selectors/selectors"),d=e("../../ducks/swaps/swaps"),p=e("../../selectors"),f=e("../../helpers/constants/routes"),h=e("../../../shared/constants/swaps"),m=e("../../store/actions"),b=e("../../hooks/useMetricEvent"),g=e("../../hooks/useGasFeeEstimates"),v=r(e("../../helpers/higher-order-components/feature-toggled-route")),y=e("../../../shared/constants/transaction"),w=e("./swaps.util"),E=r(e("./awaiting-signatures")),_=r(e("./awaiting-swap")),k=r(e("./loading-swaps-quotes")),T=r(e("./build-quote")),S=r(e("./view-quote"))},{file:"/home/circleci/project/ui/pages/swaps/index.js"}],[4492,{"../../components/ui/button":4165,"../../components/ui/text-field":4273,"../../helpers/constants/routes":4317,"../../store/actions":4647,"@babel/runtime/helpers/defineProperty":178,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,ethers:2159,"prop-types":3233,react:3454,"react-redux":3421},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireWildcard"),o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(e("@babel/runtime/helpers/defineProperty")),i=r(e("react")),s=o(e("prop-types")),c=e("react-redux"),l=e("ethers"),u=e("../../store/actions"),d=e("../../helpers/constants/routes"),p=o(e("../../components/ui/text-field")),f=o(e("../../components/ui/button"));const{isValidMnemonic:h}=l.ethers.utils;class m extends i.Component{constructor(...e){super(...e),(0,a.default)(this,"state",{seedPhrase:"",showSeedPhrase:!1,password:"",confirmPassword:"",seedPhraseError:null,passwordError:null,confirmPasswordError:null}),(0,a.default)(this,"parseSeedPhrase",(e=>{var t;return(null===(t=(e||"").trim().toLowerCase().match(/\w+/gu))||void 0===t?void 0:t.join(" "))||""})),(0,a.default)(this,"onClick",(()=>{const{password:e,seedPhrase:t}=this.state,{createNewVaultAndRestore:n,leaveImportSeedScreenState:r,history:o,initializeThreeBox:a}=this.props;r(),n(e,this.parseSeedPhrase(t)).then((()=>{this.context.metricsEvent({eventOpts:{category:"Retention",action:"userEntersSeedPhrase",name:"onboardingRestoredVault"}}),a(),o.push(d.DEFAULT_ROUTE)}))})),(0,a.default)(this,"toggleShowSeedPhrase",(()=>{this.setState((({showSeedPhrase:e})=>({showSeedPhrase:!e})))}))}handleSeedPhraseChange(e){const{t:t}=this.context;let n=null;const r=this.parseSeedPhrase(e).split(/\s/u).length;e&&(r%3!=0||r<12||r>24)?n=t("seedPhraseReq"):h(e)||(n=t("invalidSeedPhrase")),this.setState({seedPhrase:e,seedPhraseError:n})}handlePasswordChange(e){const{confirmPassword:t}=this.state;let n=null,r=null;e&&e.length<8&&(r=this.context.t("passwordNotLongEnough")),t&&e!==t&&(n=this.context.t("passwordsDontMatch")),this.setState({password:e,passwordError:r,confirmPasswordError:n})}handleConfirmPasswordChange(e){const{password:t}=this.state;let n=null;t!==e&&(n=this.context.t("passwordsDontMatch")),this.setState({confirmPassword:e,confirmPasswordError:n})}hasError(){const{passwordError:e,confirmPasswordError:t,seedPhraseError:n}=this.state;return e||t||n}render(){const{seedPhrase:e,showSeedPhrase:t,password:n,confirmPassword:r,seedPhraseError:o,passwordError:a,confirmPasswordError:s}=this.state,{t:c}=this.context,{isLoading:l}=this.props,u=!e||!n||!r||l||this.hasError();return i.default.createElement("div",{className:"first-view-main-wrapper"},i.default.createElement("div",{className:"first-view-main"},i.default.createElement("div",{className:"import-account"},i.default.createElement("a",{className:"import-account__back-button",onClick:e=>{e.preventDefault(),this.props.leaveImportSeedScreenState(),this.props.history.goBack()},href:"#"},`< ${c("back")}`),i.default.createElement("div",{className:"import-account__title"},this.context.t("restoreAccountWithSeed")),i.default.createElement("div",{className:"import-account__selector-label"},this.context.t("secretPhrase")),i.default.createElement("div",{className:"import-account__input-wrapper"},i.default.createElement("label",{className:"import-account__input-label"},this.context.t("walletSeedRestore")),t?i.default.createElement("textarea",{className:"import-account__secret-phrase",onChange:e=>this.handleSeedPhraseChange(e.target.value),value:e,autoFocus:!0,placeholder:this.context.t("separateEachWord")}):i.default.createElement(p.default,{className:"import-account__textarea import-account__seedphrase",type:"password",onChange:e=>this.handleSeedPhraseChange(e.target.value),value:e,autoFocus:!0,placeholder:c("seedPhrasePlaceholderPaste")}),i.default.createElement("span",{className:"error"},o),i.default.createElement("div",{className:"import-account__checkbox-container",onClick:this.toggleShowSeedPhrase},i.default.createElement("div",{className:"import-account__checkbox",tabIndex:"0",id:"seed-checkbox",role:"checkbox",onKeyPress:this.toggleShowSeedPhrase,"aria-checked":t,"aria-labelledby":"ftf-chk1-label"},t?i.default.createElement("i",{className:"fa fa-check fa-2x"}):null),i.default.createElement("label",{htmlFor:"seed-checkbox",id:"ftf-chk1-label",className:"import-account__checkbox-label"},c("showSeedPhrase")))),i.default.createElement(p.default,{id:"password",label:c("newPassword"),type:"password",className:"first-time-flow__input",value:this.state.password,onChange:e=>this.handlePasswordChange(e.target.value),error:a,autoComplete:"new-password",margin:"normal",largeLabel:!0}),i.default.createElement(p.default,{id:"confirm-password",label:c("confirmPassword"),type:"password",className:"first-time-flow__input",value:this.state.confirmPassword,onChange:e=>this.handleConfirmPasswordChange(e.target.value),error:s,autoComplete:"confirm-password",margin:"normal",largeLabel:!0}),i.default.createElement(f.default,{type:"first-time",className:"first-time-flow__button",onClick:()=>!u&&this.onClick(),disabled:u},this.context.t("restore")))))}}(0,a.default)(m,"contextTypes",{t:s.default.func,metricsEvent:s.default.func}),(0,a.default)(m,"propTypes",{createNewVaultAndRestore:s.default.func.isRequired,leaveImportSeedScreenState:s.default.func,history:s.default.object,isLoading:s.default.bool,initializeThreeBox:s.default.func});var b=(0,c.connect)((({appState:{isLoading:e}})=>({isLoading:e})),(e=>({leaveImportSeedScreenState:()=>{e((0,u.unMarkPasswordForgotten)())},createNewVaultAndRestore:(t,n)=>e((0,u.createNewVaultAndRestore)(t,n)),initializeThreeBox:()=>e((0,u.initializeThreeBox)())})))(m);n.default=b},{file:"/home/circleci/project/ui/pages/keychains/restore-vault.js"}],[4510,{"./send":4545,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./send"))},{file:"/home/circleci/project/ui/pages/send/index.js"}],[4490,{"./home.container":4489,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./home.container"))},{file:"/home/circleci/project/ui/pages/home/index.js"}],[4424,{"./confirm-transaction.container":4423,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=r(e("./confirm-transaction.container")).default;n.default=o},{file:"/home/circleci/project/ui/pages/confirm-transaction/index.js"}],[4636,{"./unlock-page.container":4638,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=r(e("./unlock-page.container")).default;n.default=o},{file:"/home/circleci/project/ui/pages/unlock-page/index.js"}],[2598,{"./path-getter":2600,"./utils":2601},function(e,t,n){e("./path-getter");var r=e("./utils"),o="undefined"!=typeof WeakMap?WeakMap:function(){var e=[],t=[];return{set:function(n,r){e.push(n),t.push(r)},get:function(n){for(var r=0;r<e.length;r++)if(e[r]===n)return t[r]}}};n.decycle=function e(t,n,a){"use strict";var i=new o,s=!Object.prototype.hasOwnProperty.call(n,"circular"),c=!1!==n.refs;return function t(o,l,u){var d,p,f,h="function"==typeof a?a(u||"",o):o;if(n.date&&h instanceof Date)return{$jsan:"d"+h.getTime()};if(n.regex&&h instanceof RegExp)return{$jsan:"r"+r.getRegexFlags(h)+","+h.source};if(n.function&&"function"==typeof h)return{$jsan:"f"+r.stringifyFunction(h,n.function)};if(n.nan&&"number"==typeof h&&isNaN(h))return{$jsan:"n"};if(n.infinity){if(Number.POSITIVE_INFINITY===h)return{$jsan:"i"};if(Number.NEGATIVE_INFINITY===h)return{$jsan:"y"}}if(n[void 0]&&void 0===h)return{$jsan:"u"};if(n.error&&h instanceof Error)return{$jsan:"e"+h.message};if(n.symbol&&"symbol"==typeof h){var m=Symbol.keyFor(h);return void 0!==m?{$jsan:"g"+m}:{$jsan:"s"+h.toString().slice(7,-1)}}if(n.map&&"function"==typeof Map&&h instanceof Map&&"function"==typeof Array.from)return{$jsan:"m"+JSON.stringify(e(Array.from(h),n,a))};if(n.set&&"function"==typeof Set&&h instanceof Set&&"function"==typeof Array.from)return{$jsan:"l"+JSON.stringify(e(Array.from(h),n,a))};if(h&&"function"==typeof h.toJSON)try{h=h.toJSON(u)}catch(e){var b=u||"$";return"toJSON failed for '"+(i.get(h)||b)+"'"}if(!("object"!=typeof h||null===h||h instanceof Boolean||h instanceof Date||h instanceof Number||h instanceof RegExp||h instanceof String||"symbol"==typeof h||h instanceof Error)){if("object"==typeof h){var g=i.get(h);if(g){if(s&&c)return{$jsan:g};if(0===l.indexOf(g))return s?{$jsan:g}:"function"==typeof n.circular?n.circular(h,l,g):n.circular;if(c)return{$jsan:g}}i.set(h,l)}if("[object Array]"===Object.prototype.toString.apply(h))for(f=[],d=0;d<h.length;d+=1)f[d]=t(h[d],l+"["+d+"]",d);else for(p in f={},h)if(Object.prototype.hasOwnProperty.call(h,p)){var v=/^\w+$/.test(p)?"."+p:"["+JSON.stringify(p)+"]";f[p]="$jsan"===p?[t(h[p],l+v)]:t(h[p],l+v,p)}return f}return h}(t,"$")},n.retrocycle=function(e){"use strict";return function t(n){var o,a,i;if(n&&"object"==typeof n)if("[object Array]"===Object.prototype.toString.apply(n))for(o=0;o<n.length;o+=1)(a=n[o])&&"object"==typeof a&&(a.$jsan?n[o]=r.restore(a.$jsan,e):t(a));else for(i in n){if("string"==typeof n[i]&&"$jsan"===i)return r.restore(n.$jsan,e);"$jsan"===i&&(n[i]=n[i][0]),"object"==typeof n[i]&&(a=n[i])&&"object"==typeof a&&(a.$jsan?n[i]=r.restore(a.$jsan,e):t(a))}return n}(e)}},{file:"/home/circleci/project/node_modules/jsan/lib/cycle.js"}],[3611,{"./decycle":3610},function(e,t,n){var r=e("./decycle"),o=function(){return!this}();function a(e,t){this.name="AuthTokenExpiredError",this.message=e,this.expiry=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function i(e){this.name="AuthTokenInvalidError",this.message=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function s(e,t){this.name="AuthTokenNotBeforeError",this.message=e,this.date=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function c(e){this.name="AuthTokenError",this.message=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function l(e){this.name="AuthError",this.message=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function u(e,t){this.name="SilentMiddlewareBlockedError",this.message=e,this.type=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function d(e){this.name="InvalidActionError",this.message=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function p(e){this.name="InvalidArgumentsError",this.message=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function f(e){this.name="InvalidOptionsError",this.message=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function h(e){this.name="InvalidMessageError",this.message=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function m(e,t){this.name="SocketProtocolError",this.message=e,this.code=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function b(e){this.name="ServerProtocolError",this.message=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function g(e){this.name="HTTPServerError",this.message=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function v(e){this.name="ResourceLimitError",this.message=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function y(e){this.name="TimeoutError",this.message=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function w(e,t){this.name="BadConnectionError",this.message=e,this.type=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function E(e){this.name="BrokerError",this.message=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function _(e,t){this.name="ProcessExitError",this.message=e,this.code=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function k(e){this.name="UnknownError",this.message=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}a.prototype=Object.create(Error.prototype),i.prototype=Object.create(Error.prototype),s.prototype=Object.create(Error.prototype),c.prototype=Object.create(Error.prototype),l.prototype=Object.create(Error.prototype),u.prototype=Object.create(Error.prototype),d.prototype=Object.create(Error.prototype),p.prototype=Object.create(Error.prototype),f.prototype=Object.create(Error.prototype),h.prototype=Object.create(Error.prototype),m.prototype=Object.create(Error.prototype),b.prototype=Object.create(Error.prototype),g.prototype=Object.create(Error.prototype),v.prototype=Object.create(Error.prototype),y.prototype=Object.create(Error.prototype),w.prototype=Object.create(Error.prototype),E.prototype=Object.create(Error.prototype),_.prototype=Object.create(Error.prototype),k.prototype=Object.create(Error.prototype),t.exports={AuthTokenExpiredError:a,AuthTokenInvalidError:i,AuthTokenNotBeforeError:s,AuthTokenError:c,AuthError:l,SilentMiddlewareBlockedError:u,InvalidActionError:d,InvalidArgumentsError:p,InvalidOptionsError:f,InvalidMessageError:h,SocketProtocolError:m,ServerProtocolError:b,HTTPServerError:g,ResourceLimitError:v,TimeoutError:y,BadConnectionError:w,BrokerError:E,ProcessExitError:_,UnknownError:k},t.exports.socketProtocolErrorStatuses={1001:"Socket was disconnected",1002:"A WebSocket protocol error was encountered",1003:"Server terminated socket because it received invalid data",1005:"Socket closed without status code",1006:"Socket hung up",1007:"Message format was incorrect",1008:"Encountered a policy violation",1009:"Message was too big to process",1010:"Client ended the connection because the server did not comply with extension requirements",1011:"Server encountered an unexpected fatal condition",4e3:"Server ping timed out",4001:"Client pong timed out",4002:"Server failed to sign auth token",4003:"Failed to complete handshake",4004:"Client failed to save auth token",4005:"Did not receive #handshake from client before timeout",4006:"Failed to bind socket to message broker",4007:"Client connection establishment timed out",4008:"Server rejected handshake from client",4009:"Server received a message before the client handshake"},t.exports.socketProtocolIgnoreStatuses={1e3:"Socket closed normally",1001:"Socket hung up"};var T={domain:1,domainEmitter:1,domainThrown:1};t.exports.dehydrateError=function(e,t){var n;if(e&&"object"==typeof e)for(var o in n={message:e.message},t&&(n.stack=e.stack),e)T[o]||(n[o]=e[o]);else n="function"==typeof e?"[function "+(e.name||"anonymous")+"]":e;return r(n)},t.exports.hydrateError=function(e){var t=null;if(null!=e)if("object"==typeof e)for(var n in t=new Error(e.message),e)e.hasOwnProperty(n)&&(t[n]=e[n]);else t=e;return t},t.exports.decycle=r},{file:"/home/circleci/project/node_modules/sc-errors/index.js"}],[3701,{"./v1":3704,"./v4":3705},function(e,t,n){var r=e("./v1"),o=e("./v4"),a=o;a.v1=r,a.v4=o,t.exports=a},{file:"/home/circleci/project/node_modules/socketcluster-client/node_modules/uuid/index.js"}],[3693,{},function(e,t,n){(function(e){var n=function(){this._internalStorage={},this.isLocalStorageEnabled=this._checkLocalStorageEnabled()};n.prototype._checkLocalStorageEnabled=function(){var t;try{e.localStorage,e.localStorage.setItem("__scLocalStorageTest",1),e.localStorage.removeItem("__scLocalStorageTest")}catch(e){t=e}return!t},n.prototype.saveToken=function(t,n,r,o){this.isLocalStorageEnabled&&e.localStorage?e.localStorage.setItem(t,n):this._internalStorage[t]=n,o&&o(null,n)},n.prototype.removeToken=function(t,n){var r;this.loadToken(t,(function(e,t){r=t})),this.isLocalStorageEnabled&&e.localStorage?e.localStorage.removeItem(t):delete this._internalStorage[t],n&&n(null,r)},n.prototype.loadToken=function(t,n){n(null,this.isLocalStorageEnabled&&e.localStorage?e.localStorage.getItem(t):this._internalStorage[t]||null)},t.exports.AuthEngine=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{file:"/home/circleci/project/node_modules/socketcluster-client/lib/auth.js"}],[3612,{},function(e,t,n){(function(e){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=/^[ \n\r\t]*[{\[]/,o=function(e){for(var t=new Uint8Array(e),r=t.length,o="",a=0;a<r;a+=3)o+=n[t[a]>>2],o+=n[(3&t[a])<<4|t[a+1]>>4],o+=n[(15&t[a+1])<<2|t[a+2]>>6],o+=n[63&t[a+2]];return r%3==2?o=o.substring(0,o.length-1)+"=":r%3==1&&(o=o.substring(0,o.length-2)+"=="),o},a=function(t,n){if(e.ArrayBuffer&&n instanceof e.ArrayBuffer)return{base64:!0,data:o(n)};if(e.Buffer){if(n instanceof e.Buffer)return{base64:!0,data:n.toString("base64")};if(n&&"Buffer"===n.type&&Array.isArray(n.data))return{base64:!0,data:(e.Buffer.from?e.Buffer.from(n.data):new e.Buffer(n.data)).toString("base64")}}return n};t.exports.decode=function(e){if(null==e)return null;if("#1"===e||"#2"===e)return e;var t=e.toString();if(!r.test(t))return t;try{return JSON.parse(t)}catch(e){}return t},t.exports.encode=function(e){return"#1"===e||"#2"===e?e:JSON.stringify(e,a)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{file:"/home/circleci/project/node_modules/sc-formatter/index.js"}],[3699,{buffer:1713},function(e,t,n){(function(e){var n=function(){"use strict";function t(e,t){return null!=t&&e instanceof t}var n,r,o;try{n=Map}catch(e){n=function(){}}try{r=Set}catch(e){r=function(){}}try{o=Promise}catch(e){o=function(){}}function a(i,c,l,u,d){"object"==typeof c&&(l=c.depth,u=c.prototype,d=c.includeNonEnumerable,c=c.circular);var p=[],f=[],h=void 0!==e;return void 0===c&&(c=!0),void 0===l&&(l=1/0),function i(l,m){if(null===l)return null;if(0===m)return l;var b,g;if("object"!=typeof l)return l;if(t(l,n))b=new n;else if(t(l,r))b=new r;else if(t(l,o))b=new o((function(e,t){l.then((function(t){e(i(t,m-1))}),(function(e){t(i(e,m-1))}))}));else if(a.__isArray(l))b=[];else if(a.__isRegExp(l))b=new RegExp(l.source,s(l)),l.lastIndex&&(b.lastIndex=l.lastIndex);else if(a.__isDate(l))b=new Date(l.getTime());else{if(h&&e.isBuffer(l))return b=new e(l.length),l.copy(b),b;t(l,Error)?b=Object.create(l):void 0===u?(g=Object.getPrototypeOf(l),b=Object.create(g)):(b=Object.create(u),g=u)}if(c){var v=p.indexOf(l);if(-1!=v)return f[v];p.push(l),f.push(b)}for(var y in t(l,n)&&l.forEach((function(e,t){var n=i(t,m-1),r=i(e,m-1);b.set(n,r)})),t(l,r)&&l.forEach((function(e){var t=i(e,m-1);b.add(t)})),l){var w;g&&(w=Object.getOwnPropertyDescriptor(g,y)),w&&null==w.set||(b[y]=i(l[y],m-1))}if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(l);for(y=0;y<E.length;y++){var _=E[y];(!(T=Object.getOwnPropertyDescriptor(l,_))||T.enumerable||d)&&(b[_]=i(l[_],m-1),T.enumerable||Object.defineProperty(b,_,{enumerable:!1}))}}if(d){var k=Object.getOwnPropertyNames(l);for(y=0;y<k.length;y++){var T,S=k[y];(T=Object.getOwnPropertyDescriptor(l,S))&&T.enumerable||(b[S]=i(l[S],m-1),Object.defineProperty(b,S,{enumerable:!1}))}}return b}(i,l)}function i(e){return Object.prototype.toString.call(e)}function s(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return a.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},a.__objToStr=i,a.__isDate=function(e){return"object"==typeof e&&"[object Date]"===i(e)},a.__isArray=function(e){return"object"==typeof e&&"[object Array]"===i(e)},a.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===i(e)},a.__getRegExpFlags=s,a}();"object"==typeof t&&t.exports&&(t.exports=n)}).call(this,e("buffer").Buffer)},{file:"/home/circleci/project/node_modules/socketcluster-client/node_modules/clone/clone.js"}],[3695,{"sc-errors":3611},function(e,t,n){var r=e("sc-errors"),o=r.InvalidActionError,a=function(e,t){this.socket=e,this.id=t,this.sent=!1};a.prototype._respond=function(e){if(this.sent)throw new o("Response "+this.id+" has already been sent");this.sent=!0,this.socket.send(this.socket.encode(e))},a.prototype.end=function(e){if(this.id){var t={rid:this.id};void 0!==e&&(t.data=e),this._respond(t)}},a.prototype.error=function(e,t){if(this.id){var n=r.dehydrateError(e),o={rid:this.id,error:n};void 0!==t&&(o.data=t),this._respond(o)}},a.prototype.callback=function(e,t){e?this.error(e,t):this.end(t)},t.exports.Response=a},{file:"/home/circleci/project/node_modules/socketcluster-client/lib/response.js"}],[3697,{"./response":3695,"component-emitter":3700,querystring:3329,"sc-errors":3611,ws:3698},function(e,t,n){(function(n){var r,o,a=e("component-emitter"),i=e("./response").Response,s=e("querystring");n.WebSocket?(r=n.WebSocket,o=function(e,t){return new r(e)}):(r=e("ws"),o=function(e,t){return new r(e,null,t)});var c=e("sc-errors"),l=c.TimeoutError,u=c.BadConnectionError,d=function(e,t,n){var r=this;this.state=this.CLOSED,this.auth=e,this.codec=t,this.options=n,this.connectTimeout=n.connectTimeout,this.pingTimeout=n.ackTimeout,this.pingTimeoutDisabled=!!n.pingTimeoutDisabled,this.callIdGenerator=n.callIdGenerator,this.authTokenName=n.authTokenName,this._pingTimeoutTicker=null,this._callbackMap={},this._batchSendList=[],this.state=this.CONNECTING;var a=this.uri(),i=o(a,this.options);i.binaryType=this.options.binaryType,this.socket=i,i.onopen=function(){r._onOpen()},i.onclose=function(e){var t;t=null==e.code?1005:e.code,r._onClose(t,e.reason)},i.onmessage=function(e,t){r._onMessage(e.data)},i.onerror=function(e){r.state===r.CONNECTING&&r._onClose(1006)},this._connectTimeoutRef=setTimeout((function(){r._onClose(4007),r.socket.close(4007)}),this.connectTimeout)};d.prototype=Object.create(a.prototype),d.CONNECTING=d.prototype.CONNECTING="connecting",d.OPEN=d.prototype.OPEN="open",d.CLOSED=d.prototype.CLOSED="closed",d.prototype.uri=function(){var e,t=this.options.query||{},n=this.options.secure?"wss":"ws";if(this.options.timestampRequests&&(t[this.options.timestampParam]=(new Date).getTime()),(t=s.encode(t)).length&&(t="?"+t),this.options.host)e=this.options.host;else{var r="";this.options.port&&("wss"===n&&443!==this.options.port||"ws"===n&&80!==this.options.port)&&(r=":"+this.options.port),e=this.options.hostname+r}return n+"://"+e+this.options.path+t},d.prototype._onOpen=function(){var e=this;clearTimeout(this._connectTimeoutRef),this._resetPingTimeout(),this._handshake((function(t,n){var r;t?(r=n&&n.code?n.code:4003,e._onError(t),e._onClose(r,t.toString()),e.socket.close(r)):(e.state=e.OPEN,a.prototype.emit.call(e,"open",n),e._resetPingTimeout())}))},d.prototype._handshake=function(e){var t=this;this.auth.loadToken(this.authTokenName,(function(n,r){if(n)e(n);else{t.emit("#handshake",{authToken:r},{force:!0},(function(t,n){n&&(n.authToken=r,n.authError&&(n.authError=c.hydrateError(n.authError))),e(t,n)}))}}))},d.prototype._abortAllPendingEventsDueToBadConnection=function(e){for(var t in this._callbackMap)if(this._callbackMap.hasOwnProperty(t)){var n=this._callbackMap[t];delete this._callbackMap[t],clearTimeout(n.timeout),delete n.timeout;var r="Event '"+n.event+"' was aborted due to a bad connection",o=new u(r,e),a=n.callback;delete n.callback,a.call(n,o,n)}},d.prototype._onClose=function(e,t){delete this.socket.onopen,delete this.socket.onclose,delete this.socket.onmessage,delete this.socket.onerror,clearTimeout(this._connectTimeoutRef),clearTimeout(this._pingTimeoutTicker),clearTimeout(this._batchTimeout),this.state===this.OPEN?(this.state=this.CLOSED,a.prototype.emit.call(this,"close",e,t),this._abortAllPendingEventsDueToBadConnection("disconnect")):this.state===this.CONNECTING&&(this.state=this.CLOSED,a.prototype.emit.call(this,"openAbort",e,t),this._abortAllPendingEventsDueToBadConnection("connectAbort"))},d.prototype._handleEventObject=function(e,t){if(e&&null!=e.event){var n=new i(this,e.cid);a.prototype.emit.call(this,"event",e.event,e.data,n)}else if(e&&null!=e.rid){var r=this._callbackMap[e.rid];if(r&&(clearTimeout(r.timeout),delete r.timeout,delete this._callbackMap[e.rid],r.callback)){var o=c.hydrateError(e.error);r.callback(o,e.data)}}else a.prototype.emit.call(this,"event","raw",t)},d.prototype._onMessage=function(e){a.prototype.emit.call(this,"event","message",e);var t=this.decode(e);if("#1"===t)this._resetPingTimeout(),this.socket.readyState===this.socket.OPEN&&this.sendObject("#2");else if(Array.isArray(t))for(var n=t.length,r=0;r<n;r++)this._handleEventObject(t[r],e);else this._handleEventObject(t,e)},d.prototype._onError=function(e){a.prototype.emit.call(this,"error",e)},d.prototype._resetPingTimeout=function(){if(!this.pingTimeoutDisabled){var e=this;(new Date).getTime();clearTimeout(this._pingTimeoutTicker),this._pingTimeoutTicker=setTimeout((function(){e._onClose(4e3),e.socket.close(4e3)}),this.pingTimeout)}},d.prototype.getBytesReceived=function(){return this.socket.bytesReceived},d.prototype.close=function(e,t){if(e=e||1e3,this.state===this.OPEN){var n={code:e,data:t};this.emit("#disconnect",n),this._onClose(e,t),this.socket.close(e)}else this.state===this.CONNECTING&&(this._onClose(e,t),this.socket.close(e))},d.prototype.emitObject=function(e,t){var n={event:e.event,data:e.data};return e.callback&&(n.cid=e.cid=this.callIdGenerator(),this._callbackMap[e.cid]=e),this.sendObject(n,t),e.cid||null},d.prototype._handleEventAckTimeout=function(e){e.cid&&delete this._callbackMap[e.cid],delete e.timeout;var t=e.callback;if(t){delete e.callback;var n=new l("Event response for '"+e.event+"' timed out");t.call(e,n,e)}},d.prototype.emit=function(e,t,n,r){var o,a,i=this;r?(a=n,o=r):n instanceof Function?(a={},o=n):a=n;var s={event:e,data:t,callback:o};o&&!a.noTimeout&&(s.timeout=setTimeout((function(){i._handleEventAckTimeout(s)}),this.options.ackTimeout));var c=null;return(this.state===this.OPEN||a.force)&&(c=this.emitObject(s,a)),c},d.prototype.cancelPendingResponse=function(e){delete this._callbackMap[e]},d.prototype.decode=function(e){return this.codec.decode(e)},d.prototype.encode=function(e){return this.codec.encode(e)},d.prototype.send=function(e){this.socket.readyState!==this.socket.OPEN?this._onClose(1005):this.socket.send(e)},d.prototype.serializeObject=function(e){var t,n;try{t=this.encode(e)}catch(e){n=e,this._onError(n)}return n?null:t},d.prototype.sendObjectBatch=function(e){var t=this;this._batchSendList.push(e),this._batchTimeout||(this._batchTimeout=setTimeout((function(){if(delete t._batchTimeout,t._batchSendList.length){var e=t.serializeObject(t._batchSendList);null!=e&&t.send(e),t._batchSendList=[]}}),this.options.pubSubBatchDuration||0))},d.prototype.sendObjectSingle=function(e){var t=this.serializeObject(e);null!=t&&this.send(t)},d.prototype.sendObject=function(e,t){t&&t.batch?this.sendObjectBatch(e):this.sendObjectSingle(e)},t.exports.SCTransport=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{file:"/home/circleci/project/node_modules/socketcluster-client/lib/sctransport.js"}],[2831,{"./_source/linked-list.js":2830},function(e,t,n){"use strict";t.exports=e("./_source/linked-list.js")},{file:"/home/circleci/project/node_modules/linked-list/index.js"}],[3608,{"component-emitter":3609},function(e,t,n){var r=e("component-emitter"),o=function(e,t,n){r.call(this),this.PENDING="pending",this.SUBSCRIBED="subscribed",this.UNSUBSCRIBED="unsubscribed",this.name=e,this.state=this.UNSUBSCRIBED,this.client=t,this.options=n||{},this.setOptions(this.options)};(o.prototype=Object.create(r.prototype)).setOptions=function(e){e||(e={}),this.waitForAuth=e.waitForAuth||!1,this.batch=e.batch||!1,void 0!==e.data&&(this.data=e.data)},o.prototype.getState=function(){return this.state},o.prototype.subscribe=function(e){this.client.subscribe(this.name,e)},o.prototype.unsubscribe=function(){this.client.unsubscribe(this.name)},o.prototype.isSubscribed=function(e){return this.client.isSubscribed(this.name,e)},o.prototype.publish=function(e,t){this.client.publish(this.name,e,t)},o.prototype.watch=function(e){this.client.watch(this.name,e)},o.prototype.unwatch=function(e){this.client.unwatch(this.name,e)},o.prototype.watchers=function(){return this.client.watchers(this.name)},o.prototype.destroy=function(){this.client.destroyChannel(this.name)},t.exports.SCChannel=o},{file:"/home/circleci/project/node_modules/sc-channel/index.js"}],[1725,{"base64-js":1631,ieee754:2269},function(e,t,n){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
"use strict";var r=e("base64-js"),o=e("ieee754"),a="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=c,n.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},n.INSPECT_MAX_BYTES=50;var i=2147483647;function s(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return l(e,t,n)}function l(e,t,n){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|m(e,t),r=s(n),o=r.write(e,t);o!==n&&(r=r.slice(0,o));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(F(e,Uint8Array)){var t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return p(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(F(e,ArrayBuffer)||e&&F(e.buffer,ArrayBuffer))return f(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(F(e,SharedArrayBuffer)||e&&F(e.buffer,SharedArrayBuffer)))return f(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return c.from(r,t,n);var o=function(e){if(c.isBuffer(e)){var t=0|h(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!=typeof e.length||W(e.length)?s(0):p(e);if("Buffer"===e.type&&Array.isArray(e.data))return p(e.data)}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return u(e),s(e<0?0:0|h(e))}function p(e){for(var t=e.length<0?0:0|h(e.length),n=s(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function f(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,c.prototype),r}function h(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function m(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||F(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return L(e).length;default:if(o)return r?-1:q(e).length;t=(""+t).toLowerCase(),o=!0}}function b(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,n);case"utf8":case"utf-8":return O(this,t,n);case"ascii":return P(this,t,n);case"latin1":case"binary":return x(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),W(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,o){var a,i=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;i=2,s/=2,c/=2,n/=2}function l(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(o){var u=-1;for(a=n;a<s;a++)if(l(e,a)===l(t,-1===u?0:a-u)){if(-1===u&&(u=a),a-u+1===c)return u*i}else-1!==u&&(a-=a-u),u=-1}else for(n+c>s&&(n=s-c),a=n;a>=0;a--){for(var d=!0,p=0;p<c;p++)if(l(e,a+p)!==l(t,p)){d=!1;break}if(d)return a}return-1}function w(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var a=t.length;r>a/2&&(r=a/2);for(var i=0;i<r;++i){var s=parseInt(t.substr(2*i,2),16);if(W(s))return i;e[n+i]=s}return i}function E(e,t,n,r){return B(q(t,e.length-n),e,n,r)}function _(e,t,n,r){return B(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function k(e,t,n,r){return B(L(t),e,n,r)}function T(e,t,n,r){return B(function(e,t){for(var n,r,o,a=[],i=0;i<e.length&&!((t-=2)<0);++i)r=(n=e.charCodeAt(i))>>8,o=n%256,a.push(o),a.push(r);return a}(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function O(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var a,i,s,c,l=e[o],u=null,d=l>239?4:l>223?3:l>191?2:1;if(o+d<=n)switch(d){case 1:l<128&&(u=l);break;case 2:128==(192&(a=e[o+1]))&&(c=(31&l)<<6|63&a)>127&&(u=c);break;case 3:a=e[o+1],i=e[o+2],128==(192&a)&&128==(192&i)&&(c=(15&l)<<12|(63&a)<<6|63&i)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:a=e[o+1],i=e[o+2],s=e[o+3],128==(192&a)&&128==(192&i)&&128==(192&s)&&(c=(15&l)<<18|(63&a)<<12|(63&i)<<6|63&s)>65535&&c<1114112&&(u=c)}null===u?(u=65533,d=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),o+=d}return function(e){var t=e.length;if(t<=R)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=R));return n}(r)}n.kMaxLength=i,c.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,n){return l(e,t,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},c.allocUnsafe=function(e){return d(e)},c.allocUnsafeSlow=function(e){return d(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(F(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),F(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,o=0,a=Math.min(n,r);o<a;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(F(a,Uint8Array))o+a.length>r.length?c.from(a).copy(r,o):Uint8Array.prototype.set.call(r,a,o);else{if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o)}o+=a.length}return r},c.byteLength=m,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},c.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?O(this,0,e):b.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},a&&(c.prototype[a]=c.prototype.inspect),c.prototype.compare=function(e,t,n,r,o){if(F(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var a=(o>>>=0)-(r>>>=0),i=(n>>>=0)-(t>>>=0),s=Math.min(a,i),l=this.slice(r,o),u=e.slice(t,n),d=0;d<s;++d)if(l[d]!==u[d]){a=l[d],i=u[d];break}return a<i?-1:i<a?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return E(this,e,t,n);case"ascii":case"latin1":case"binary":return _(this,e,t,n);case"base64":return k(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;function P(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function x(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function A(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",a=t;a<n;++a)o+=H[e[a]];return o}function C(e,t,n){for(var r=e.slice(t,n),o="",a=0;a<r.length-1;a+=2)o+=String.fromCharCode(r[a]+256*r[a+1]);return o}function j(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,n,r,o,a){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function I(e,t,n,r,o,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(e,t,n,r,a){return t=+t,n>>>=0,a||I(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function M(e,t,n,r,a){return t=+t,n>>>=0,a||I(e,0,n,8),o.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||j(e,t,this.length);for(var r=this[e],o=1,a=0;++a<t&&(o*=256);)r+=this[e+a]*o;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||j(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||j(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||j(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||j(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||j(e,t,this.length);for(var r=this[e],o=1,a=0;++a<t&&(o*=256);)r+=this[e+a]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||j(e,t,this.length);for(var r=t,o=1,a=this[e+--r];r>0&&(o*=256);)a+=this[e+--r]*o;return a>=(o*=128)&&(a-=Math.pow(2,8*t)),a},c.prototype.readInt8=function(e,t){return e>>>=0,t||j(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||j(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){e>>>=0,t||j(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return e>>>=0,t||j(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||j(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||j(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||j(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||N(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,a=0;for(this[t]=255&e;++a<n&&(o*=256);)this[t+a]=e/o&255;return t+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||N(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,a=1;for(this[t+o]=255&e;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var o=Math.pow(2,8*n-1);N(this,e,t,n,o-1,-o)}var a=0,i=1,s=0;for(this[t]=255&e;++a<n&&(i*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/i>>0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var o=Math.pow(2,8*n-1);N(this,e,t,n,o-1,-o)}var a=n-1,i=1,s=0;for(this[t+a]=255&e;--a>=0&&(i*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/i>>0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeFloatLE=function(e,t,n){return D(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return D(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return M(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return M(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),o},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var o=e.charCodeAt(0);("utf8"===r&&o<128||"latin1"===r)&&(e=o)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var i=c.isBuffer(e)?e:c.from(e,r),s=i.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<n-t;++a)this[a+t]=i[a%s]}return this};var U=/[^+/0-9A-Za-z-_]/g;function q(e,t){var n;t=t||1/0;for(var r=e.length,o=null,a=[],i=0;i<r;++i){if((n=e.charCodeAt(i))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(i+1===r){(t-=3)>-1&&a.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&a.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function L(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function B(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function F(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function W(e){return e!=e}var H=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,o=0;o<16;++o)t[r+o]=e[n]+e[o];return t}()},{file:"/home/circleci/project/node_modules/buffer/index.js"}],[3488,{},function(e,t,n){t.exports={refs:!1,date:!0,function:!0,regex:!0,undefined:!0,error:!0,symbol:!0,map:!0,set:!0,nan:!0,infinity:!0}},{file:"/home/circleci/project/node_modules/remotedev-serialize/constants/options.js"}],[3489,{},function(e,t,n){function r(e,t,n){return{data:n?e[n]():e,__serializedType__:t}}t.exports={mark:r,extract:function(e,t){return{data:Object.assign({},e),__serializedType__:t}},refer:function(e,t,n,o){var a=r(e,t,n);if(!o)return a;for(var i=0;i<o.length;i++){var s=o[i];if("function"==typeof s&&e instanceof s)return a.__serializedRef__=i,a}return a}}},{file:"/home/circleci/project/node_modules/remotedev-serialize/helpers/index.js"}],[2975,{"./_baseGetTag":2868,"./_getPrototype":2907,"./isObjectLike":2974},function(e,t,n){var r=e("./_baseGetTag"),o=e("./_getPrototype"),a=e("./isObjectLike"),i=Function.prototype,s=Object.prototype,c=i.toString,l=s.hasOwnProperty,u=c.call(Object);t.exports=function(e){if(!a(e)||"[object Object]"!=r(e))return!1;var t=o(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==u}},{file:"/home/circleci/project/node_modules/lodash/isPlainObject.js"}],[2987,{"./_baseFlatten":2863,"./_baseRest":2885,"./_baseUniq":2890,"./isArrayLikeObject":2969},function(e,t,n){var r=e("./_baseFlatten"),o=e("./_baseRest"),a=e("./_baseUniq"),i=e("./isArrayLikeObject"),s=o((function(e){return a(r(e,1,i,!0))}));t.exports=s},{file:"/home/circleci/project/node_modules/lodash/union.js"}],[2960,{"./_baseDifference":2861,"./_baseFlatten":2863,"./_baseRest":2885,"./isArrayLikeObject":2969},function(e,t,n){var r=e("./_baseDifference"),o=e("./_baseFlatten"),a=e("./_baseRest"),i=e("./isArrayLikeObject"),s=a((function(e,t){return i(e)?r(e,o(t,1,i,!0)):[]}));t.exports=s},{file:"/home/circleci/project/node_modules/lodash/difference.js"}],[2860,{"./_defineProperty":2898},function(e,t,n){var r=e("./_defineProperty");t.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},{file:"/home/circleci/project/node_modules/lodash/_baseAssignValue.js"}],[2865,{"./_baseFor":2864,"./keys":2978},function(e,t,n){var r=e("./_baseFor"),o=e("./keys");t.exports=function(e,t){return e&&r(e,t,o)}},{file:"/home/circleci/project/node_modules/lodash/_baseForOwn.js"}],[2879,{"./_baseMatches":2881,"./_baseMatchesProperty":2882,"./identity":2964,"./isArray":2967,"./property":2983},function(e,t,n){var r=e("./_baseMatches"),o=e("./_baseMatchesProperty"),a=e("./identity"),i=e("./isArray"),s=e("./property");t.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?i(e)?o(e[0],e[1]):r(e):s(e)}},{file:"/home/circleci/project/node_modules/lodash/_baseIteratee.js"}],[3424,{},function(e,t,n){"use strict";n.__esModule=!0,n.default=function(e){if("object"!=typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}},{file:"/home/circleci/project/node_modules/react-redux/lib/utils/isPlainObject.js"}],[3429,{},function(e,t,n){"use strict";n.__esModule=!0,n.default=function(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}},{file:"/home/circleci/project/node_modules/react-redux/lib/utils/warning.js"}],[3495,{"./cjs/resolve-pathname.js":3493,"./cjs/resolve-pathname.min.js":3494},function(e,t,n){"use strict";t.exports=e("./cjs/resolve-pathname.min.js")},{file:"/home/circleci/project/node_modules/resolve-pathname/index.js"}],[3836,{"./cjs/value-equal.js":3834,"./cjs/value-equal.min.js":3835},function(e,t,n){"use strict";t.exports=e("./cjs/value-equal.min.js")},{file:"/home/circleci/project/node_modules/value-equal/index.js"}],[3441,{"./cjs/history.js":3439,"./cjs/history.min.js":3440},function(e,t,n){"use strict";t.exports=e("./cjs/history.min.js")},{file:"/home/circleci/project/node_modules/react-router/node_modules/history/index.js"}],[3207,{isarray:3208},function(e,t,n){var r=e("isarray");t.exports=f,t.exports.parse=a,t.exports.compile=function(e,t){return s(a(e,t))},t.exports.tokensToFunction=s,t.exports.tokensToRegExp=p;var o=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,i=0,s="",u=t&&t.delimiter||"/";null!=(n=o.exec(e));){var d=n[0],p=n[1],f=n.index;if(s+=e.slice(i,f),i=f+d.length,p)s+=p[1];else{var h=e[i],m=n[2],b=n[3],g=n[4],v=n[5],y=n[6],w=n[7];s&&(r.push(s),s="");var E=null!=m&&null!=h&&h!==m,_="+"===y||"*"===y,k="?"===y||"*"===y,T=n[2]||u,S=g||v;r.push({name:b||a++,prefix:m||"",delimiter:T,optional:k,repeat:_,partial:E,asterisk:!!w,pattern:S?l(S):w?".*":"[^"+c(T)+"]+?"})}}return i<e.length&&(s+=e.substr(i)),s&&r.push(s),r}function i(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,o){for(var a="",s=n||{},c=(o||{}).pretty?i:encodeURIComponent,l=0;l<e.length;l++){var u=e[l];if("string"!=typeof u){var d,p=s[u.name];if(null==p){if(u.optional){u.partial&&(a+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(r(p)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var f=0;f<p.length;f++){if(d=c(p[f]),!t[l].test(d))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(d)+"`");a+=(0===f?u.prefix:u.delimiter)+d}}else{if(d=u.asterisk?encodeURI(p).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):c(p),!t[l].test(d))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+d+'"');a+=u.prefix+d}}else a+=u}return a}}function c(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function u(e,t){return e.keys=t,e}function d(e){return e.sensitive?"":"i"}function p(e,t,n){r(t)||(n=t||n,t=[]);for(var o=(n=n||{}).strict,a=!1!==n.end,i="",s=0;s<e.length;s++){var l=e[s];if("string"==typeof l)i+=c(l);else{var p=c(l.prefix),f="(?:"+l.pattern+")";t.push(l),l.repeat&&(f+="(?:"+p+f+")*"),i+=f=l.optional?l.partial?p+"("+f+")?":"(?:"+p+"("+f+"))?":p+"("+f+")"}}var h=c(n.delimiter||"/"),m=i.slice(-h.length)===h;return o||(i=(m?i.slice(0,-h.length):i)+"(?:"+h+"(?=$))?"),i+=a?"$":o&&m?"":"(?="+h+"|$)",u(new RegExp("^"+i,d(n)),t)}function f(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return u(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],o=0;o<e.length;o++)r.push(f(e[o],t,n).source);return u(new RegExp("(?:"+r.join("|")+")",d(n)),t)}(e,t,n):function(e,t,n){return p(a(e,n),t,n)}(e,t,n)}},{file:"/home/circleci/project/node_modules/path-to-regexp/index.js"}],[3002,{"@babel/runtime/helpers/inheritsLoose":183,gud:2228,"prop-types":3233,react:3454,"tiny-warning":3757},function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var o=e("react"),a=r(o),i=r(e("@babel/runtime/helpers/inheritsLoose")),s=r(e("prop-types")),c=r(e("gud")),l=(r(e("tiny-warning")),1073741823);function u(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var d=a.createContext||function(e,t){var n,r,a="__create-react-context-"+c()+"__",d=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=u(t.props.value),t}i(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,o=e.value;((a=r)===(i=o)?0!==a||1/a==1/i:a!=a&&i!=i)?n=0:(n="function"==typeof t?t(r,o):l,0!==(n|=0)&&this.emitter.set(e.value,n))}var a,i},r.render=function(){return this.props.children},n}(o.Component);d.childContextTypes=((n={})[a]=s.object.isRequired,n);var p=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!=((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}i(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?l:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?l:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(o.Component);return p.contextTypes=((r={})[a]=s.object,r),{Provider:d,Consumer:p}};t.exports=d},{file:"/home/circleci/project/node_modules/mini-create-react-context/dist/cjs/index.js"}],[4496,{"../../store/actions":4647,"./lock.component":4495,"@babel/runtime/helpers/interopRequireDefault":184,"react-redux":3421,"react-router-dom":3432,redux:3477},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=e("redux"),a=e("react-redux"),i=e("react-router-dom"),s=e("../../store/actions"),c=r(e("./lock.component"));var l=(0,o.compose)(i.withRouter,(0,a.connect)((e=>{const{metamask:{isUnlocked:t}}=e;return{isUnlocked:t}}),(e=>({lockMetamask:()=>e((0,s.lockMetamask)())}))))(c.default);n.default=l},{file:"/home/circleci/project/ui/pages/lock/lock.container.js"}],[4499,{"../../ducks/history/history":4304,"../../selectors":4642,"../../store/actions":4647,"./mobile-sync.component":4498,"@babel/runtime/helpers/interopRequireDefault":184,"react-redux":3421},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=e("react-redux"),a=e("../../store/actions"),i=e("../../ducks/history/history"),s=e("../../selectors"),c=r(e("./mobile-sync.component"));var l=(0,o.connect)((e=>{const{metamask:{selectedAddress:t}}=e;return{mostRecentOverviewPage:(0,i.getMostRecentOverviewPage)(e),selectedAddress:t,keyrings:(0,s.getMetaMaskKeyrings)(e)}}),(e=>({requestRevealSeedWords:t=>e((0,a.requestRevealSeedWords)(t)),fetchInfoToSync:()=>e((0,a.fetchInfoToSync)()),displayWarning:t=>e((0,a.displayWarning)(t||null)),exportAccounts:(t,n)=>e((0,a.exportAccounts)(t,n))})))(c.default);n.default=l},{file:"/home/circleci/project/ui/pages/mobile-sync/mobile-sync.container.js"}],[4387,{"../../ducks/history/history":4304,"../../store/actions":4647,"./confirm-add-suggested-token.component":4386,"@babel/runtime/helpers/defineProperty":178,"@babel/runtime/helpers/interopRequireDefault":184,"react-redux":3421,"react-router-dom":3432,redux:3477},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=r(e("@babel/runtime/helpers/defineProperty")),a=e("react-redux"),i=e("redux"),s=e("react-router-dom"),c=e("../../store/actions"),l=e("../../ducks/history/history"),u=r(e("./confirm-add-suggested-token.component"));function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=(0,i.compose)(s.withRouter,(0,a.connect)((e=>{const{metamask:{pendingTokens:t,suggestedTokens:n,tokens:r}}=e,o=p(p({},t),n);return{mostRecentOverviewPage:(0,l.getMostRecentOverviewPage)(e),pendingTokens:o,tokens:r}}),(e=>({addToken:({address:t,symbol:n,decimals:r,image:o})=>e((0,c.addToken)(t,n,Number(r),o)),removeSuggestedTokens:()=>e((0,c.removeSuggestedTokens)())}))))(u.default);n.default=f},{file:"/home/circleci/project/ui/pages/confirm-add-suggested-token/confirm-add-suggested-token.container.js"}],[4320,{"./authenticated.component":4319,"@babel/runtime/helpers/interopRequireDefault":184,"react-redux":3421},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=e("react-redux"),a=r(e("./authenticated.component"));var i=(0,o.connect)((e=>{const{metamask:{isUnlocked:t,completedOnboarding:n}}=e;return{isUnlocked:t,completedOnboarding:n}}))(a.default);n.default=i},{file:"/home/circleci/project/ui/helpers/higher-order-components/authenticated/authenticated.container.js"}],[4325,{"./initialized.component":4324,"@babel/runtime/helpers/interopRequireDefault":184,"react-redux":3421},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=e("react-redux"),a=r(e("./initialized.component"));var i=(0,o.connect)((e=>{const{metamask:{completedOnboarding:t}}=e;return{completedOnboarding:t}}))(a.default);n.default=i},{file:"/home/circleci/project/ui/helpers/higher-order-components/initialized/initialized.container.js"}],[4011,{"../../../../shared/constants/network":3916,"../../../selectors":4642,"../../../store/actions":4647,"./loading-network-screen.component":4010,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,"react-redux":3421},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault"),o=e("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-redux"),i=e("../../../../shared/constants/network"),s=o(e("../../../store/actions")),c=e("../../../selectors"),l=r(e("./loading-network-screen.component"));var u=(0,a.connect)((e=>{const{loadingMessage:t}=e.appState,{provider:n}=e.metamask,{rpcUrl:r,chainId:o,ticker:a,nickname:s,type:l}=n,u=l===i.NETWORK_TYPE_RPC?[r,o,a,s]:[n.type];return{isNetworkLoading:(0,c.isNetworkLoading)(e),loadingMessage:t,setProviderArgs:u,provider:n,providerId:(0,c.getNetworkIdentifier)(e)}}),(e=>({setProviderType:t=>{e(s.setProviderType(t))},rollbackToPreviousProvider:()=>e(s.rollbackToPreviousProvider()),showNetworkDropdown:()=>e(s.showNetworkDropdown())})))(l.default);n.default=u},{file:"/home/circleci/project/ui/components/app/loading-network-screen/loading-network-screen.container.js"}],[4165,{"./button.component":4164,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=r(e("./button.component")).default;n.default=o},{file:"/home/circleci/project/ui/components/ui/button/index.js"}],[4191,{"./export-text-container.component":4190,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=r(e("./export-text-container.component")).default;n.default=o},{file:"/home/circleci/project/ui/components/ui/export-text-container/index.js"}],[4231,{"../spinner":4267,"@babel/runtime/helpers/defineProperty":178,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,"prop-types":3233,react:3454},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireWildcard"),o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(e("@babel/runtime/helpers/defineProperty")),i=r(e("react")),s=o(e("prop-types")),c=o(e("../spinner"));class l extends i.Component{renderMessage(){const{loadingMessage:e}=this.props;return e?(0,i.isValidElement)(e)?e:i.default.createElement("span",null,e):null}render(){return i.default.createElement("div",{className:"loading-overlay"},this.props.header,i.default.createElement("div",{className:"loading-overlay__container"},this.props.showLoadingSpinner&&i.default.createElement(c.default,{color:"#F7C06C",className:"loading-overlay__spinner"}),this.renderMessage()))}}(0,a.default)(l,"defaultProps",{loadingMessage:null,showLoadingSpinner:!0}),(0,a.default)(l,"propTypes",{loadingMessage:s.default.oneOfType([s.default.string,s.default.element]),showLoadingSpinner:s.default.bool,header:s.default.element});var u=l;n.default=u},{file:"/home/circleci/project/ui/components/ui/loading-screen/loading-screen.component.js"}],[3948,{"../../../store/actions":4647,"./app-header.component":3947,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,"react-redux":3421,"react-router-dom":3432,redux:3477},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault"),o=e("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-redux"),i=e("react-router-dom"),s=e("redux"),c=o(e("../../../store/actions")),l=r(e("./app-header.component"));var u=(0,s.compose)(i.withRouter,(0,a.connect)((e=>{const{appState:t,metamask:n}=e,{networkDropdownOpen:r}=t,{selectedAddress:o,isUnlocked:a,isAccountMenuOpen:i}=n;return{networkDropdownOpen:r,selectedAddress:o,isUnlocked:a,isAccountMenuOpen:i}}),(e=>({showNetworkDropdown:()=>e(c.showNetworkDropdown()),hideNetworkDropdown:()=>e(c.hideNetworkDropdown()),toggleAccountMenu:()=>e(c.toggleAccountMenu())}))))(l.default);n.default=u},{file:"/home/circleci/project/ui/components/app/app-header/app-header.container.js"}],[4441,{"../../helpers/constants/routes":4317,"./connect-hardware":4439,"./import-account":4442,"./new-account.container":4447,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,react:3454,"react-router-dom":3432},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault"),o=e("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(e("react")),i=e("react-router-dom"),s=e("../../helpers/constants/routes"),c=r(e("./new-account.container")),l=r(e("./import-account")),u=r(e("./connect-hardware"));class d extends a.Component{render(){return a.default.createElement("div",{className:"new-account"},a.default.createElement("div",{className:"new-account__form"},a.default.createElement(i.Switch,null,a.default.createElement(i.Route,{exact:!0,path:s.NEW_ACCOUNT_ROUTE,component:c.default}),a.default.createElement(i.Route,{exact:!0,path:s.IMPORT_ACCOUNT_ROUTE,component:l.default}),a.default.createElement(i.Route,{exact:!0,path:s.CONNECT_HARDWARE_ROUTE,component:u.default}))))}}n.default=d},{file:"/home/circleci/project/ui/pages/create-account/create-account.component.js"}],[4427,{"../../components/app/metamask-template-renderer":4016,"../../components/app/network-display/network-display":4082,"../../components/ui/box":4161,"../../components/ui/callout":4167,"../../components/ui/chip":4171,"../../components/ui/site-icon":4263,"../../helpers/constants/design-system":4314,"../../helpers/constants/routes":4317,"../../helpers/utils/util":4341,"../../hooks/useI18nContext":4351,"../../hooks/useOriginMetadata":4354,"../../selectors":4642,"./components/confirmation-footer":4426,"./templates":4430,"@babel/runtime/helpers/defineProperty":178,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,immer:2278,lodash:2979,react:3454,"react-redux":3421,"react-router-dom":3432},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireWildcard"),o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,g.useI18nContext)(),t=(0,s.useDispatch)(),n=(0,c.useHistory)(),r=(0,s.useSelector)(y.getUnapprovedTemplatedConfirmations,l.isEqual),[o,a]=(0,i.useState)(0),u=r[o],S=(0,v.useOriginMetadata)(null==u?void 0:u.origin),[O,P]=function(e){const[t,n]=(0,i.useReducer)(R,{});(0,i.useEffect)((()=>{let t=!0;return e&&(0,T.getTemplateAlerts)(e).then((r=>{t&&r&&n({type:"set",confirmationId:e.id,alerts:r})})),()=>{t=!1}}),[e]);const r=(0,i.useCallback)((t=>{n({type:"dismiss",confirmationId:e.id,alertId:t})}),[e]);return[t,r]}(u),x=(0,i.useMemo)((()=>u?(0,T.getTemplateValues)(u,e,t):{}),[u,e,t]);if((0,i.useEffect)((()=>{0===r.length?n.push(m.DEFAULT_ROUTE):r.length<=o&&a(r.length-1)}),[r,n,o]),!u)return null;return i.default.createElement("div",{className:"confirmation-page"},r.length>1&&i.default.createElement("div",{className:"confirmation-page__navigation"},i.default.createElement("p",null,e("xOfYPending",[o+1,r.length])),o>0&&i.default.createElement("button",{className:"confirmation-page__navigation-button",onClick:()=>a(o-1)},i.default.createElement("i",{className:"fas fa-chevron-left"})),i.default.createElement("button",{className:"confirmation-page__navigation-button",disabled:o+1===r.length,onClick:()=>a(o+1)},i.default.createElement("i",{className:"fas fa-chevron-right"}))),i.default.createElement("div",{className:"confirmation-page__content"},i.default.createElement(d.default,{justifyContent:"center"},i.default.createElement(w.default,{colored:!1,indicatorSize:E.SIZES.XS,labelProps:{color:E.COLORS.BLACK}})),i.default.createElement(d.default,{justifyContent:"center",padding:[1,4,4]},i.default.createElement(p.default,{label:(0,b.stripHttpsScheme)(S.origin),leftIcon:i.default.createElement(h.default,{icon:S.icon,name:S.hostname,size:32})})),i.default.createElement(f.default,{sections:x.content})),i.default.createElement(k.default,{alerts:O[u.id]&&Object.values(O[u.id]).filter((e=>!1===e.dismissed)).map(((e,t,n)=>i.default.createElement(_.default,{key:e.id,severity:e.severity,dismiss:()=>P(e.id),isFirst:0===t,isLast:t===n.length-1,isMultiple:n.length>1},i.default.createElement(f.default,{sections:e.content})))),onApprove:x.onApprove,onCancel:x.onCancel,approveText:x.approvalText,cancelText:x.cancelText}))};var a=o(e("@babel/runtime/helpers/defineProperty")),i=r(e("react")),s=e("react-redux"),c=e("react-router-dom"),l=e("lodash"),u=e("immer"),d=o(e("../../components/ui/box")),p=o(e("../../components/ui/chip")),f=o(e("../../components/app/metamask-template-renderer")),h=o(e("../../components/ui/site-icon")),m=e("../../helpers/constants/routes"),b=e("../../helpers/utils/util"),g=e("../../hooks/useI18nContext"),v=e("../../hooks/useOriginMetadata"),y=e("../../selectors"),w=o(e("../../components/app/network-display/network-display")),E=e("../../helpers/constants/design-system"),_=o(e("../../components/ui/callout")),k=o(e("./components/confirmation-footer")),T=e("./templates");function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const R=(0,u.produce)(((e,t)=>{var n;switch(t.type){case"dismiss":null!=e&&null!==(n=e[t.confirmationId])&&void 0!==n&&n[t.alertId]&&(e[t.confirmationId][t.alertId].dismissed=!0);break;case"set":e[t.confirmationId]||(e[t.confirmationId]={}),t.alerts.forEach((n=>{e[t.confirmationId][n.id]=O(O({},n),{},{dismissed:!1})}));break;default:throw new Error("You must provide a type when dispatching an action for alertState")}}))},{file:"/home/circleci/project/ui/pages/confirmation/confirmation.js"}],[4379,{"../../ducks/metamask/metamask":4307,"../../helpers/constants/routes":4317,"./components/native-asset":4383,"./components/token-asset":4384,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,react:3454,"react-redux":3421,"react-router-dom":3432},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault"),o=e("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(e("react")),i=e("react-redux"),s=e("react-router-dom"),c=e("../../ducks/metamask/metamask"),l=e("../../helpers/constants/routes"),u=r(e("./components/native-asset")),d=r(e("./components/token-asset"));var p=()=>{const e=(0,i.useSelector)((e=>e.metamask.nativeCurrency)),t=(0,i.useSelector)(c.getTokens),{asset:n}=(0,s.useParams)(),r=t.find((({address:e})=>e===n));let o;return(0,a.useEffect)((()=>{document.querySelector(".app").scroll(0,0)}),[]),o=r?a.default.createElement(d.default,{token:r}):n===e?a.default.createElement(u.default,{nativeCurrency:e}):a.default.createElement(s.Redirect,{to:{pathname:l.DEFAULT_ROUTE}}),a.default.createElement("div",{className:"main-container asset__container"},o)};n.default=p},{file:"/home/circleci/project/ui/pages/asset/asset.js"}],[4504,{"../../ducks/metamask/metamask":4307,"../../helpers/constants/routes":4317,"../../helpers/utils/util":4341,"../../selectors":4642,"../../store/actions":4647,"./permissions-connect.component":4503,"@babel/runtime/helpers/defineProperty":178,"@babel/runtime/helpers/interopRequireDefault":184,"prop-types":3233,"react-redux":3421},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=r(e("@babel/runtime/helpers/defineProperty")),a=e("react-redux"),i=r(e("prop-types")),s=e("../../selectors"),c=e("../../ducks/metamask/metamask"),l=e("../../helpers/utils/util"),u=e("../../store/actions"),d=e("../../helpers/constants/routes"),p=r(e("./permissions-connect.component"));function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const m=(0,a.connect)(((e,t)=>{var n;const{match:{params:{id:r}},location:{pathname:o}}=t,a=(0,s.getPermissionsRequests)(e),i=(0,s.getSelectedAddress)(e),u=a.find((e=>e.metadata.id===r)),{metadata:p={}}=u||{},{origin:f}=p,m=(0,c.getNativeCurrency)(e),b=(0,s.getDomainMetadata)(e);let g=null;if(f)if(b[f])g=h(h({},b[f]),{},{origin:f});else{const e=new URL(f);g={host:e.host,name:e.hostname,origin:f}}const v=(0,s.getAccountsWithLabels)(e),y=(0,s.getLastConnectedInfo)(e)||{},w=(null===(n=y[f])||void 0===n?void 0:n.accounts)||{};Object.keys(w).forEach((e=>{w[e]=(0,l.formatDate)(w[e],"yyyy-MM-dd")}));const E=`${d.CONNECT_ROUTE}/${r}`,_=`${d.CONNECT_ROUTE}/${r}${d.CONNECT_CONFIRM_PERMISSIONS_ROUTE}`;let k="";if(o===E)k="1";else{if(o!==_)throw new Error("Incorrect path for permissions-connect component");k="2"}return{permissionsRequest:u,permissionsRequestId:r,accounts:v,currentAddress:i,origin:f,newAccountNumber:v.length+1,nativeCurrency:m,addressLastConnectedMap:w,lastConnectedInfo:y,connectPath:E,confirmPermissionPath:_,page:k,targetDomainMetadata:g}}),(e=>({approvePermissionsRequest:(t,n)=>e((0,u.approvePermissionsRequest)(t,n)),rejectPermissionsRequest:t=>e((0,u.rejectPermissionsRequest)(t)),showNewAccountModal:({onCreateNewAccount:t,newAccountNumber:n})=>e((0,u.showModal)({name:"NEW_ACCOUNT",onCreateNewAccount:t,newAccountNumber:n})),getRequestAccountTabIds:()=>e((0,u.getRequestAccountTabIds)()),getCurrentWindowTab:()=>e((0,u.getCurrentWindowTab)())})))(p.default);m.propTypes={history:i.default.object.isRequired,match:i.default.shape({params:i.default.shape({id:i.default.string}).isRequired}).isRequired};var b=m;n.default=b},{file:"/home/circleci/project/ui/pages/permissions-connect/permissions-connect.container.js"}],[4173,{"./color-indicator":4172,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./color-indicator"))},{file:"/home/circleci/project/ui/components/ui/color-indicator/index.js"}],[3985,{"../menu-droppo":4015,"@babel/runtime/helpers/defineProperty":178,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,"prop-types":3233,react:3454},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireWildcard"),o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.DropdownMenuItem=n.Dropdown=void 0;var a=o(e("@babel/runtime/helpers/defineProperty")),i=r(e("react")),s=o(e("prop-types")),c=o(e("../menu-droppo"));function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class d extends i.Component{render(){const{containerClassName:e,isOpen:t,onClickOutside:n,style:r,innerStyle:o,children:a,useCssTransition:s}=this.props,l=u({borderRadius:"4px",padding:"8px 16px",background:"rgba(0, 0, 0, 0.8)",boxShadow:"rgba(0, 0, 0, 0.15) 0px 2px 2px 2px"},o);return i.default.createElement(c.default,{containerClassName:e,useCssTransition:s,isOpen:t,zIndex:55,onClickOutside:n,style:r,innerStyle:l},i.default.createElement("style",null,"\n            li.dropdown-menu-item:hover {\n              color:rgb(225, 225, 225);\n              background-color: rgba(255, 255, 255, 0.05);\n              border-radius: 4px;\n            }\n            li.dropdown-menu-item { color: rgb(185, 185, 185); }\n          "),a)}}n.Dropdown=d,d.defaultProps={useCssTransition:!1},d.propTypes={isOpen:s.default.bool.isRequired,children:s.default.node,style:s.default.object.isRequired,onClickOutside:s.default.func,innerStyle:s.default.object,useCssTransition:s.default.bool,containerClassName:s.default.string};class p extends i.Component{render(){const{onClick:e,closeMenu:t,children:n,style:r}=this.props;return i.default.createElement("li",{className:"dropdown-menu-item",onClick:()=>{e(),t()},onKeyPress:n=>{"Enter"===n.key&&(e(),t())},style:u({listStyle:"none",padding:"8px 0px",fontSize:"18px",fontStyle:"normal",cursor:"pointer",display:"flex",justifyContent:"flex-start",alignItems:"center",color:"white"},r),tabIndex:"0"},n)}}n.DropdownMenuItem=p,p.propTypes={closeMenu:s.default.func.isRequired,onClick:s.default.func.isRequired,children:s.default.node,style:s.default.object}},{file:"/home/circleci/project/ui/components/app/dropdowns/dropdown.js"}],[4370,{"../../ducks/history/history":4304,"../../selectors/selectors":4644,"../../store/actions":4647,"./add-token.component":4369,"@babel/runtime/helpers/interopRequireDefault":184,"react-redux":3421},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=e("react-redux"),a=e("../../store/actions"),i=e("../../ducks/history/history"),s=e("../../selectors/selectors"),c=r(e("./add-token.component"));var l=(0,o.connect)((e=>{const{metamask:{identities:t,tokens:n,pendingTokens:r,provider:{chainId:o}}}=e;return{identities:t,mostRecentOverviewPage:(0,i.getMostRecentOverviewPage)(e),tokens:n,pendingTokens:r,showSearchTab:(0,s.getIsMainnet)(e)||!1,chainId:o,rpcPrefs:(0,s.getRpcPrefsForCurrentProvider)(e)}}),(e=>({setPendingTokens:t=>e((0,a.setPendingTokens)(t)),clearPendingTokens:()=>e((0,a.clearPendingTokens)())})))(c.default);n.default=l},{file:"/home/circleci/project/ui/pages/add-token/add-token.container.js"}],[3936,{"../../../selectors":4642,"../../../store/actions":4647,"./account-menu.component":3935,"@babel/runtime/helpers/interopRequireDefault":184,"react-redux":3421,"react-router-dom":3432,redux:3477},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=e("react-redux"),a=e("redux"),i=e("react-router-dom"),s=e("../../../store/actions"),c=e("../../../selectors"),l=r(e("./account-menu.component"));var u=(0,a.compose)(i.withRouter,(0,o.connect)((function(e){const{metamask:{isAccountMenuOpen:t}}=e,n=(0,c.getMetaMaskAccountsOrdered)(e),r=(0,c.getOriginOfCurrentTab)(e),o=(0,c.getSelectedAddress)(e);return{isAccountMenuOpen:t,addressConnectedDomainMap:(0,c.getAddressConnectedDomainMap)(e),originOfCurrentTab:r,selectedAddress:o,keyrings:(0,c.getMetaMaskKeyrings)(e),accounts:n,shouldShowAccountsSearch:n.length>=5}}),(function(e){return{toggleAccountMenu:()=>e((0,s.toggleAccountMenu)()),showAccountDetail:t=>{e((0,s.showAccountDetail)(t)),e((0,s.hideSidebar)()),e((0,s.toggleAccountMenu)())},lockMetamask:()=>{e((0,s.lockMetamask)()),e((0,s.hideWarning)()),e((0,s.hideSidebar)()),e((0,s.toggleAccountMenu)())}}})))(l.default);n.default=u},{file:"/home/circleci/project/ui/components/app/account-menu/account-menu.container.js"}],[3941,{"../../../ducks/alerts/invalid-custom-network":4297,"../../../ducks/alerts/unconnected-account":4298,"./invalid-custom-network-alert":3943,"./unconnected-account-alert":3945,"@babel/runtime/helpers/interopRequireDefault":184,"prop-types":3233,react:3454,"react-redux":3421},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=r(e("react")),a=e("react-redux"),i=r(e("prop-types")),s=e("../../../ducks/alerts/unconnected-account"),c=e("../../../ducks/alerts/invalid-custom-network"),l=r(e("./invalid-custom-network-alert")),u=r(e("./unconnected-account-alert"));const d=({history:e})=>{const t=(0,a.useSelector)(c.alertIsOpen),n=(0,a.useSelector)(s.alertIsOpen);return t?o.default.createElement(l.default,{history:e}):n?o.default.createElement(u.default,null):null};d.propTypes={history:i.default.object.isRequired};var p=d;n.default=p},{file:"/home/circleci/project/ui/components/app/alerts/alerts.js"}],[4098,{"../../../../shared/constants/time":3919,"../gas-customization/gas-modal-page-container":4002,"@babel/runtime/helpers/defineProperty":178,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,"prop-types":3233,react:3454,"react-transition-group/CSSTransitionGroup":3446},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireWildcard"),o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(e("@babel/runtime/helpers/defineProperty")),i=r(e("react")),s=o(e("prop-types")),c=o(e("react-transition-group/CSSTransitionGroup")),l=o(e("../gas-customization/gas-modal-page-container")),u=e("../../../../shared/constants/time");class d extends i.Component{renderOverlay(){const{onOverlayClose:e}=this.props;return i.default.createElement("div",{className:"sidebar-overlay",onClick:()=>{null==e||e(),this.props.hideSidebar()}})}renderSidebarContent(){const{type:e,sidebarProps:t={}}=this.props,{transaction:n={},onSubmit:r,hideBasic:o}=t;switch(e){case"customize-gas":return i.default.createElement("div",{className:"sidebar-left"},i.default.createElement(l.default,{transaction:n,onSubmit:r,hideBasic:o}));default:return null}}componentDidUpdate(e){!e.sidebarShouldClose&&this.props.sidebarShouldClose&&this.props.hideSidebar()}render(){const{transitionName:e,sidebarOpen:t,sidebarShouldClose:n}=this.props,r=t&&!n;return i.default.createElement("div",null,i.default.createElement(c.default,{transitionName:e,transitionEnterTimeout:300*u.MILLISECOND,transitionLeaveTimeout:200*u.MILLISECOND},r?this.renderSidebarContent():null),r?this.renderOverlay():null)}}n.default=d,(0,a.default)(d,"propTypes",{sidebarOpen:s.default.bool,hideSidebar:s.default.func,sidebarShouldClose:s.default.bool,transitionName:s.default.string,type:s.default.string,sidebarProps:s.default.object,onOverlayClose:s.default.func}),(0,a.default)(d,"contextTypes",{t:s.default.func})},{file:"/home/circleci/project/ui/components/app/sidebars/sidebar.component.js"}],[4580,{"../../../app/scripts/lib/util":78,"../../../shared/constants/app":3912,"../../../shared/modules/hexstring-utils":3926,"../../ducks/history/history":4304,"../../helpers/constants/routes":4317,"../../selectors":4642,"./settings.component":4579,"@babel/runtime/helpers/interopRequireDefault":184,"react-redux":3421,"react-router-dom":3432,redux:3477},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=e("redux"),a=e("react-redux"),i=e("react-router-dom"),s=e("../../selectors"),c=e("../../../shared/constants/app"),l=e("../../../app/scripts/lib/util"),u=e("../../ducks/history/history"),d=e("../../../shared/modules/hexstring-utils"),p=e("../../helpers/constants/routes"),f=r(e("./settings.component"));const h={[p.ABOUT_US_ROUTE]:"about",[p.ADVANCED_ROUTE]:"advanced",[p.ALERTS_ROUTE]:"alerts",[p.GENERAL_ROUTE]:"general",[p.CONTACT_ADD_ROUTE]:"newContact",[p.CONTACT_EDIT_ROUTE]:"editContact",[p.CONTACT_LIST_ROUTE]:"contacts",[p.CONTACT_VIEW_ROUTE]:"viewContact",[p.NETWORKS_ROUTE]:"networks",[p.NETWORKS_FORM_ROUTE]:"networks",[p.SECURITY_ROUTE]:"securityAndPrivacy"};var m=(0,o.compose)(i.withRouter,(0,a.connect)(((e,t)=>{const{location:n}=t,{pathname:r}=n,o=r.match(/[^/]+$/u)[0],a=o.includes("0x"),i=Boolean(r.match(p.CONTACT_ADD_ROUTE)),f=Boolean(r.match(p.CONTACT_EDIT_ROUTE)),m=Boolean(r.match(p.NETWORKS_FORM_ROUTE)),b=(0,l.getEnvironmentType)()===c.ENVIRONMENT_TYPE_POPUP,g=h[r];let v=p.SETTINGS_ROUTE;f?v=`${p.CONTACT_VIEW_ROUTE}/${o}`:a||i?v=p.CONTACT_LIST_ROUTE:m&&(v=p.NETWORKS_ROUTE);return{isAddressEntryPage:a,backRoute:v,currentPath:r,isPopup:b,pathnameI18nKey:g,addressName:(0,s.getAddressBookEntryName)(e,!(0,d.isBurnAddress)(o)&&(0,d.isValidHexAddress)(o,{mixedCaseUseChecksum:!0})?o:""),initialBreadCrumbRoute:undefined,initialBreadCrumbKey:undefined,mostRecentOverviewPage:(0,u.getMostRecentOverviewPage)(e)}})))(f.default);n.default=m},{file:"/home/circleci/project/ui/pages/settings/settings.container.js"}],[4066,{"../../../../app/scripts/lib/util":78,"../../../../shared/constants/app":3912,"../../../ducks/gas/gas.duck":4303,"../../../helpers/utils/is-mobile-view":4335,"../../../pages/swaps/swaps-gas-customization-modal":4629,"../../../store/actions":4647,"../gas-customization/gas-modal-page-container":4002,"./account-details-modal":4027,"./add-to-addressbook-modal":4033,"./cancel-transaction":4038,"./confirm-delete-network":4041,"./confirm-remove-account":4044,"./confirm-reset-account":4047,"./customize-nonce":4049,"./deposit-ether-modal":4052,"./edit-approval-permission":4055,"./export-private-key-modal":4058,"./fade-modal":4059,"./hide-token-confirmation-modal":4061,"./metametrics-opt-in-modal":4063,"./new-account-modal":4067,"./qr-scanner":4070,"./reject-transactions":4073,"./transaction-confirmed":4076,"@babel/runtime/helpers/defineProperty":178,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,"prop-types":3233,react:3454,"react-redux":3421},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireWildcard"),o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(e("@babel/runtime/helpers/defineProperty")),i=o(e("prop-types")),s=r(e("react")),c=e("react-redux"),l=r(e("../../../store/actions")),u=e("../../../ducks/gas/gas.duck"),d=o(e("../../../helpers/utils/is-mobile-view")),p=e("../../../../app/scripts/lib/util"),f=e("../../../../shared/constants/app"),h=o(e("../gas-customization/gas-modal-page-container")),m=o(e("../../../pages/swaps/swaps-gas-customization-modal")),b=o(e("./deposit-ether-modal")),g=o(e("./account-details-modal")),v=o(e("./export-private-key-modal")),y=o(e("./hide-token-confirmation-modal")),w=o(e("./qr-scanner")),E=o(e("./confirm-remove-account")),_=o(e("./confirm-reset-account")),k=o(e("./transaction-confirmed")),T=o(e("./cancel-transaction")),S=o(e("./fade-modal")),O=o(e("./metametrics-opt-in-modal")),R=o(e("./reject-transactions")),P=o(e("./confirm-delete-network")),x=o(e("./add-to-addressbook-modal")),A=o(e("./edit-approval-permission")),C=o(e("./new-account-modal")),j=o(e("./customize-nonce"));function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const D={transform:"translate3d(-50%, 0, 0px)",border:"1px solid #CCCFD1",borderRadius:"8px",backgroundColor:"#FFFFFF",boxShadow:"0 2px 22px 0 rgba(0,0,0,0.2)"},M=I(I({},D),{},{width:"344px",top:"15%"}),U=I(I({},D),{},{width:"309px",top:"12.5%"}),q={mobileModalStyle:{width:"95%",boxShadow:"rgba(0, 0, 0, 0.15) 0px 2px 2px 2px",borderRadius:"4px",top:"10%",transform:"none",left:"0",right:"0",margin:"0 auto"},laptopModalStyle:{width:"360px",boxShadow:"rgba(0, 0, 0, 0.15) 0px 2px 2px 2px",borderRadius:"4px",top:"10%",transform:"none",left:"0",right:"0",margin:"0 auto"},contentStyle:{borderRadius:"4px"}},L={DEPOSIT_ETHER:{contents:s.default.createElement(b.default,null),onHide:e=>e.hideWarning(),mobileModalStyle:{width:"100%",height:"100%",transform:"none",left:"0",right:"0",margin:"0 auto",boxShadow:"0 0 7px 0 rgba(0,0,0,0.08)",top:"0",display:"flex"},laptopModalStyle:{width:"initial",maxWidth:"850px",top:"calc(10% + 10px)",left:"0",right:"0",margin:"0 auto",boxShadow:"0 0 6px 0 rgba(0,0,0,0.3)",borderRadius:"7px",transform:"none",height:"calc(80% - 20px)",overflowY:"hidden"},contentStyle:{borderRadius:"7px",height:"100%"}},ADD_TO_ADDRESSBOOK:{contents:s.default.createElement(x.default,null),mobileModalStyle:{width:"95%",top:"10%",boxShadow:"rgba(0, 0, 0, 0.15) 0px 2px 2px 2px",transform:"none",left:"0",right:"0",margin:"0 auto",borderRadius:"10px"},laptopModalStyle:{width:"375px",top:"10%",boxShadow:"rgba(0, 0, 0, 0.15) 0px 2px 2px 2px",transform:"none",left:"0",right:"0",margin:"0 auto",borderRadius:"10px"},contentStyle:{borderRadius:"10px"}},NEW_ACCOUNT:{contents:s.default.createElement(C.default,null),mobileModalStyle:{width:"95%",top:"10%",boxShadow:"rgba(0, 0, 0, 0.15) 0px 2px 2px 2px",transform:"none",left:"0",right:"0",margin:"0 auto",borderRadius:"10px"},laptopModalStyle:{width:"375px",top:"10%",boxShadow:"rgba(0, 0, 0, 0.15) 0px 2px 2px 2px",transform:"none",left:"0",right:"0",margin:"0 auto",borderRadius:"10px"},contentStyle:{borderRadius:"10px"}},ACCOUNT_DETAILS:I({contents:s.default.createElement(g.default,null)},q),EXPORT_PRIVATE_KEY:I({contents:s.default.createElement(v.default,null)},q),HIDE_TOKEN_CONFIRMATION:{contents:s.default.createElement(y.default,null),mobileModalStyle:{width:"95%",top:(0,p.getEnvironmentType)()===f.ENVIRONMENT_TYPE_POPUP?"52vh":"36.5vh"},laptopModalStyle:{width:"449px",top:"calc(33% + 45px)"}},METAMETRICS_OPT_IN_MODAL:{contents:s.default.createElement(O.default,null),mobileModalStyle:I(I({},U),{},{width:"100%",height:"100%",top:"0px"}),laptopModalStyle:I(I({},M),{},{top:"10%"}),contentStyle:{borderRadius:"8px"}},CONFIRM_RESET_ACCOUNT:{contents:s.default.createElement(_.default,null),mobileModalStyle:I({},U),laptopModalStyle:I({},M),contentStyle:{borderRadius:"8px"}},CONFIRM_REMOVE_ACCOUNT:{contents:s.default.createElement(E.default,null),mobileModalStyle:I({},U),laptopModalStyle:I({},M),contentStyle:{borderRadius:"8px"}},CONFIRM_DELETE_NETWORK:{contents:s.default.createElement(P.default,null),mobileModalStyle:I({},U),laptopModalStyle:I({},M),contentStyle:{borderRadius:"8px"}},LEGACY_CUSTOMIZE_GAS:{contents:s.default.createElement(h.default,null),mobileModalStyle:{width:"100vw",height:"100vh",top:"0",transform:"none",left:"0",right:"0",margin:"0 auto"},laptopModalStyle:{width:"auto",height:"0px",top:"80px",left:"0px",transform:"none",margin:"0 auto",position:"relative"},contentStyle:{borderRadius:"8px"},customOnHideOpts:{action:u.resetCustomData,args:[]}},CUSTOMIZE_METASWAP_GAS:{contents:s.default.createElement(m.default,null),mobileModalStyle:{width:"100vw",height:"100vh",top:"0",transform:"none",left:"0",right:"0",margin:"0 auto"},laptopModalStyle:{width:"auto",height:"0px",top:"80px",left:"0px",transform:"none",margin:"0 auto",position:"relative"},contentStyle:{borderRadius:"8px"}},EDIT_APPROVAL_PERMISSION:{contents:s.default.createElement(A.default,null),mobileModalStyle:{width:"95vw",height:"100vh",top:"50px",transform:"none",left:"0",right:"0",margin:"0 auto"},laptopModalStyle:{width:"auto",height:"0px",top:"80px",left:"0px",transform:"none",margin:"0 auto",position:"relative"},contentStyle:{borderRadius:"8px"}},TRANSACTION_CONFIRMED:{disableBackdropClick:!0,contents:s.default.createElement(k.default,null),mobileModalStyle:I({},U),laptopModalStyle:I({},M),contentStyle:{borderRadius:"8px"}},QR_SCANNER:{contents:s.default.createElement(w.default,null),mobileModalStyle:I({},U),laptopModalStyle:I({},M),contentStyle:{borderRadius:"8px"}},CANCEL_TRANSACTION:{contents:s.default.createElement(T.default,null),mobileModalStyle:I({},U),laptopModalStyle:I({},M),contentStyle:{borderRadius:"8px"}},REJECT_TRANSACTIONS:{contents:s.default.createElement(R.default,null),mobileModalStyle:I({},U),laptopModalStyle:I({},M),contentStyle:{borderRadius:"8px"}},CUSTOMIZE_NONCE:{contents:s.default.createElement(j.default,null),mobileModalStyle:I({},U),laptopModalStyle:I({},M),contentStyle:{borderRadius:"8px"}},DEFAULT:{contents:[],mobileModalStyle:{},laptopModalStyle:{}}},B={backgroundColor:"rgba(0, 0, 0, 0.5)"};class F extends s.Component{hide(){this.modalRef.hide()}show(){this.modalRef.show()}UNSAFE_componentWillReceiveProps(e,t){e.active?this.show():this.props.active&&this.hide()}render(){const e=L[this.props.modalState.name||"DEFAULT"],{contents:t,disableBackdropClick:n=!1}=e,r=e[(0,d.default)()?"mobileModalStyle":"laptopModalStyle"],o=e.contentStyle||{};return s.default.createElement(S.default,{keyboard:!1,onHide:()=>{e.onHide&&e.onHide({hideWarning:this.props.hideWarning}),this.props.hideModal(e.customOnHideOpts)},ref:e=>{this.modalRef=e},modalStyle:r,contentStyle:o,backdropStyle:B,closeOnClick:!n},t)}}(0,a.default)(F,"propTypes",{active:i.default.bool.isRequired,hideModal:i.default.func.isRequired,hideWarning:i.default.func.isRequired,modalState:i.default.object.isRequired});var W=(0,c.connect)((function(e){return{active:e.appState.modal.open,modalState:e.appState.modal.modalState}}),(function(e){return{hideModal:t=>{e(l.hideModal()),t&&t.action&&e(t.action(...t.args))},hideWarning:()=>{e(l.hideWarning())}}}))(F);n.default=W},{file:"/home/circleci/project/ui/components/app/modals/modal.js"}],[4390,{"../../ducks/history/history":4304,"../../store/actions":4647,"./confirm-add-token.component":4389,"@babel/runtime/helpers/interopRequireDefault":184,"react-redux":3421},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=e("react-redux"),a=e("../../store/actions"),i=e("../../ducks/history/history"),s=r(e("./confirm-add-token.component"));var c=(0,o.connect)((e=>{const{metamask:{pendingTokens:t}}=e;return{mostRecentOverviewPage:(0,i.getMostRecentOverviewPage)(e),pendingTokens:t}}),(e=>({addTokens:t=>e((0,a.addTokens)(t)),clearPendingTokens:()=>e((0,a.clearPendingTokens)())})))(s.default);n.default=c},{file:"/home/circleci/project/ui/pages/confirm-add-token/confirm-add-token.container.js"}],[4465,{"../../helpers/constants/routes":4317,"../../selectors":4642,"../../store/actions":4647,"./first-time-flow.component":4464,"@babel/runtime/helpers/interopRequireDefault":184,"react-redux":3421},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=e("react-redux"),a=e("../../selectors"),i=e("../../store/actions"),s=e("../../helpers/constants/routes"),c=r(e("./first-time-flow.component"));var l=(0,o.connect)(((e,t)=>{const{metamask:{completedOnboarding:n,isInitialized:r,isUnlocked:o,seedPhraseBackedUp:i}}=e,c=Boolean(t.location.pathname.match(s.INITIALIZE_BACKUP_SEED_PHRASE_ROUTE));return{completedOnboarding:n,isInitialized:r,isUnlocked:o,nextRoute:(0,a.getFirstTimeFlowTypeRoute)(e),showingSeedPhraseBackupAfterOnboarding:c,seedPhraseBackedUp:i}}),(e=>({createNewAccount:t=>e((0,i.createNewVaultAndGetSeedPhrase)(t)),createNewAccountFromSeed:(t,n)=>e((0,i.createNewVaultAndRestore)(t,n)),unlockAccount:t=>e((0,i.unlockAndGetSeedPhrase)(t)),verifySeedPhrase:()=>(0,i.verifySeedPhrase)()})))(c.default);n.default=l},{file:"/home/circleci/project/ui/pages/first-time-flow/first-time-flow.container.js"}],[4353,{"../contexts/metametrics":4293,"../contexts/metametrics.new":4294,"./useEqualityCheck":4347,react:3454},function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.useMetricEvent=function(e={},t={}){const n=(0,r.useContext)(o.MetaMetricsContext);return(0,r.useCallback)((()=>n(e,t)),[e,n,t])},n.useNewMetricEvent=function(e,t){const n=(0,i.useEqualityCheck)(e),o=(0,i.useEqualityCheck)(t),s=(0,r.useContext)(a.MetaMetricsContext);return(0,r.useCallback)((()=>s(n,o)),[s,n,o])};var r=e("react"),o=e("../contexts/metametrics"),a=e("../contexts/metametrics.new"),i=e("./useEqualityCheck")},{file:"/home/circleci/project/ui/hooks/useMetricEvent.js"}],[4349,{"../ducks/metamask/metamask":4307,"./useSafeGasEstimatePolling":4356,"react-redux":3421},function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.useGasFeeEstimates=function(){const e=(0,r.useSelector)(o.getGasEstimateType),t=(0,r.useSelector)(o.getGasFeeEstimates),n=(0,r.useSelector)(o.getEstimatedGasFeeTimeBounds),i=(0,r.useSelector)(o.getIsGasEstimatesLoading);return(0,a.useSafeGasEstimatePolling)(),{gasFeeEstimates:t,gasEstimateType:e,estimatedGasFeeTimeBounds:n,isGasEstimatesLoading:i}};var r=e("react-redux"),o=e("../ducks/metamask/metamask"),a=e("./useSafeGasEstimatePolling")},{file:"/home/circleci/project/ui/hooks/useGasFeeEstimates.js"}],[4322,{"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/objectWithoutProperties":193,"prop-types":3233,react:3454,"react-router-dom":3432},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var o=r(e("@babel/runtime/helpers/objectWithoutProperties")),a=r(e("react")),i=r(e("prop-types")),s=e("react-router-dom");function c(e){let{flag:t,redirectRoute:n}=e,r=(0,o.default)(e,["flag","redirectRoute"]);return t?a.default.createElement(s.Route,r):a.default.createElement(s.Redirect,{to:{pathname:n}})}c.propTypes={flag:i.default.bool.isRequired,redirectRoute:i.default.string.isRequired}},{file:"/home/circleci/project/ui/helpers/higher-order-components/feature-toggled-route.js"}],[4582,{"./awaiting-signatures":4581,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./awaiting-signatures"))},{file:"/home/circleci/project/ui/pages/swaps/awaiting-signatures/index.js"}],[4608,{"./loading-swaps-quotes":4609,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./loading-swaps-quotes"))},{file:"/home/circleci/project/ui/pages/swaps/loading-swaps-quotes/index.js"}],[4585,{"./awaiting-swap":4584,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./awaiting-swap"))},{file:"/home/circleci/project/ui/pages/swaps/awaiting-swap/index.js"}],[4633,{"./view-quote":4635,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./view-quote"))},{file:"/home/circleci/project/ui/pages/swaps/view-quote/index.js"}],[4592,{"./build-quote":4591,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./build-quote"))},{file:"/home/circleci/project/ui/pages/swaps/build-quote/index.js"}],[4273,{"./text-field.component":4274,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=r(e("./text-field.component")).default;n.default=o},{file:"/home/circleci/project/ui/components/ui/text-field/index.js"}],[4545,{"../../ducks/metamask/metamask":4307,"../../ducks/send":4308,"../../hooks/useMetricEvent":4353,"../../selectors":4642,"../../store/actions":4647,"./send-content":4517,"./send-content/add-recipient":4516,"./send-content/add-recipient/ens-input":4515,"./send-footer":4539,"./send-header":4542,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,react:3454,"react-redux":3421,"react-router-dom":3432},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault"),o=e("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,s.useHistory)(),t=(0,i.useSelector)(l.getCurrentChainId),n=(0,i.useSelector)(c.getSendStage),r=(0,i.useSelector)(v),o=(0,i.useSelector)(c.getIsUsingMyAccountForRecipientSearch),y=(0,i.useSelector)(c.getRecipient),w=(0,i.useSelector)(u.getSendHexDataFeatureFlagState),E=(0,i.useSelector)(c.getRecipientUserInput),_=(0,s.useLocation)(),k=(0,p.useMetricEvent)({eventOpts:{category:"Transactions",action:"Edit Screen",name:"Used QR scanner"}}),T=(0,i.useDispatch)(),S=(0,a.useCallback)((()=>{T((0,c.resetSendState)())}),[T]);let O;(0,a.useEffect)((()=>{void 0!==t&&(T((0,c.initializeSendState)()),window.addEventListener("beforeunload",S))}),[t,T,S]),(0,a.useEffect)((()=>{if("?scan=true"===_.search){T((0,d.showQrScanner)());const e=window.location.href.split("?")[0];window.history.pushState({},null,`${e}`),window.location.hash="#send"}}),[_,T]),(0,a.useEffect)((()=>()=>{T((0,c.resetSendState)()),window.removeEventListener("beforeunload",S)}),[T,S]),O=[c.SEND_STAGES.EDIT,c.SEND_STAGES.DRAFT].includes(n)?a.default.createElement(a.default.Fragment,null,a.default.createElement(m.default,{showHexData:w,gasIsExcessive:r}),a.default.createElement(b.default,{key:"send-footer",history:e})):a.default.createElement(h.default,null);return a.default.createElement("div",{className:"page-container"},a.default.createElement(f.default,{history:e}),a.default.createElement(g.default,{userInput:E,className:"send__to-row",onChange:e=>T((0,c.updateRecipientUserInput)(e)),onValidAddressTyped:e=>T((0,c.updateRecipient)({address:e,nickname:""})),internalSearch:o,selectedAddress:y.address,selectedName:y.nickname,onPaste:e=>(0,c.updateRecipient)({address:e,nickname:""}),onReset:()=>T((0,c.resetRecipientInput)()),scanQrCode:()=>{k(),T((0,d.showQrScanner)())}}),O)};var a=o(e("react")),i=e("react-redux"),s=e("react-router-dom"),c=e("../../ducks/send"),l=e("../../selectors"),u=e("../../ducks/metamask/metamask"),d=e("../../store/actions"),p=e("../../hooks/useMetricEvent"),f=r(e("./send-header")),h=r(e("./send-content/add-recipient")),m=r(e("./send-content")),b=r(e("./send-footer")),g=r(e("./send-content/add-recipient/ens-input"));const v=e=>(0,l.isCustomPriceExcessive)(e,!0)},{file:"/home/circleci/project/ui/pages/send/send.js"}],[4489,{"../../../app/scripts/lib/util":78,"../../../shared/constants/alerts":3911,"../../../shared/constants/app":3912,"../../ducks/app/app":4299,"../../ducks/metamask/metamask":4307,"../../ducks/swaps/swaps":4310,"../../selectors":4642,"../../store/actions":4647,"./home.component":4488,"@babel/runtime/helpers/interopRequireDefault":184,"react-redux":3421,"react-router-dom":3432,redux:3477},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=e("redux"),a=e("react-redux"),i=e("react-router-dom"),s=e("../../selectors"),c=e("../../store/actions"),l=e("../../ducks/app/app"),u=e("../../ducks/metamask/metamask"),d=e("../../ducks/swaps/swaps"),p=e("../../../app/scripts/lib/util"),f=e("../../../shared/constants/app"),h=e("../../../shared/constants/alerts"),m=r(e("./home.component"));var b=(0,o.compose)(i.withRouter,(0,a.connect)((e=>{const{metamask:t,appState:n}=e,{suggestedTokens:r,seedPhraseBackedUp:o,tokens:a,threeBoxSynced:i,showRestorePrompt:c,selectedAddress:l,connectedStatusPopoverHasBeenShown:m,defaultHomeActiveTabName:b,swapsState:g,dismissSeedBackUpReminder:v}=t,y=(0,s.getCurrentEthBalance)(e),{forgottenPassword:w,threeBoxLastUpdated:E}=n,_=(0,s.getTotalUnapprovedCount)(e),k=(0,d.getSwapsFeatureIsLive)(e),T=(0,s.getUnapprovedTemplatedConfirmations)(e),S=(0,p.getEnvironmentType)(),O=S===f.ENVIRONMENT_TYPE_POPUP,R=S===f.ENVIRONMENT_TYPE_NOTIFICATION,P=(0,s.getFirstPermissionRequest)(e),x=P&&P.metadata?P.metadata.id:null,A=(0,s.getOriginOfCurrentTab)(e),C=O&&(0,u.getWeb3ShimUsageAlertEnabledness)(e)&&(0,s.activeTabHasPermissions)(e)&&(0,s.getWeb3ShimUsageStateForOrigin)(e,A)===h.WEB3_SHIM_USAGE_ALERT_STATES.RECORDED;return{forgottenPassword:w,suggestedTokens:r,swapsEnabled:k,unconfirmedTransactionsCount:(0,s.unconfirmedTransactionsCountSelector)(e),shouldShowSeedPhraseReminder:!1===o&&(parseInt(y,16)>0||a.length>0)&&!1===v,isPopup:O,isNotification:R,threeBoxSynced:i,showRestorePrompt:c,selectedAddress:l,threeBoxLastUpdated:E,firstPermissionsRequestId:x,totalUnapprovedCount:_,connectedStatusPopoverHasBeenShown:m,defaultHomeActiveTabName:b,haveSwapsQuotes:Boolean(Object.values(g.quotes||{}).length),swapsFetchParams:g.fetchParams,showAwaitingSwapScreen:"awaiting"===g.routeState,isMainnet:(0,s.getIsMainnet)(e),originOfCurrentTab:A,shouldShowWeb3ShimUsageNotification:C,pendingConfirmations:T,infuraBlocked:(0,s.getInfuraBlocked)(e),notificationsToShow:(0,s.getSortedNotificationsToShow)(e).length>0,showWhatsNewPopup:(0,s.getShowWhatsNewPopup)(e),showRecoveryPhraseReminder:(0,s.getShowRecoveryPhraseReminder)(e),seedPhraseBackedUp:o}}),(e=>({turnThreeBoxSyncingOn:()=>e((0,c.turnThreeBoxSyncingOn)()),setupThreeBox:()=>{e((0,c.getThreeBoxLastUpdated)()).then((t=>{t?e((0,l.setThreeBoxLastUpdated)(t)):(e((0,c.setShowRestorePromptToFalse)()),e((0,c.turnThreeBoxSyncingOn)()))}))},restoreFromThreeBox:t=>e((0,c.restoreFromThreeBox)(t)),setShowRestorePromptToFalse:()=>e((0,c.setShowRestorePromptToFalse)()),setConnectedStatusPopoverHasBeenShown:()=>e((0,c.setConnectedStatusPopoverHasBeenShown)()),onTabClick:t=>e((0,c.setDefaultHomeActiveTabName)(t)),setWeb3ShimUsageAlertDismissed:e=>(0,c.setWeb3ShimUsageAlertDismissed)(e),disableWeb3ShimUsageAlert:()=>(0,c.setAlertEnabledness)(h.ALERT_TYPES.web3ShimUsage,!1),hideWhatsNewPopup:()=>e((0,l.hideWhatsNewPopup)()),setRecoveryPhraseReminderHasBeenShown:()=>e((0,c.setRecoveryPhraseReminderHasBeenShown)()),setRecoveryPhraseReminderLastShown:t=>e((0,c.setRecoveryPhraseReminderLastShown)(t))}))))(m.default);n.default=b},{file:"/home/circleci/project/ui/pages/home/home.container.js"}],[4423,{"../../ducks/confirm-transaction/confirm-transaction.duck":4300,"../../ducks/history/history":4304,"../../ducks/send":4308,"../../helpers/utils/transactions.util":4339,"../../selectors":4642,"../../store/actions":4647,"./confirm-transaction.component":4422,"@babel/runtime/helpers/interopRequireDefault":184,"react-redux":3421,"react-router-dom":3432,redux:3477},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=e("react-redux"),a=e("redux"),i=e("react-router-dom"),s=e("../../ducks/confirm-transaction/confirm-transaction.duck"),c=e("../../helpers/utils/transactions.util"),l=e("../../store/actions"),u=e("../../selectors"),d=e("../../ducks/history/history"),p=e("../../ducks/send"),f=r(e("./confirm-transaction.component"));var h=(0,a.compose)(i.withRouter,(0,o.connect)(((e,t)=>{const{metamask:{unapprovedTxs:n}}=e,{match:{params:r={}}}=t,{id:o}=r,a=(0,p.getSendTo)(e),i=(0,u.unconfirmedTransactionsListSelector)(e),s=i.length,l=s?n[o]||i[0]:{},{id:f,type:h}=l;return{totalUnapprovedCount:s,sendTo:a,unapprovedTxs:n,id:o,mostRecentOverviewPage:(0,d.getMostRecentOverviewPage)(e),paramsTransactionId:o&&String(o),transactionId:f&&String(f),transaction:l,isTokenMethodAction:(0,c.isTokenMethodAction)(h)}}),(e=>({setTransactionToConfirm:t=>{e((0,s.setTransactionToConfirm)(t))},clearConfirmTransaction:()=>e((0,s.clearConfirmTransaction)()),getContractMethodData:t=>e((0,l.getContractMethodData)(t)),getTokenParams:t=>e((0,l.getTokenParams)(t)),setDefaultHomeActiveTabName:t=>e((0,l.setDefaultHomeActiveTabName)(t))}))))(f.default);n.default=h},{file:"/home/circleci/project/ui/pages/confirm-transaction/confirm-transaction.container.js"}],[4638,{"../../../app/scripts/lib/util":78,"../../../shared/constants/app":3912,"../../helpers/constants/routes":4317,"../../store/actions":4647,"./unlock-page.component":4637,"@babel/runtime/helpers/defineProperty":178,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/objectWithoutProperties":193,"react-redux":3421,"react-router-dom":3432,redux:3477},function(e,t,n){(function(t){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=r(e("@babel/runtime/helpers/defineProperty")),a=r(e("@babel/runtime/helpers/objectWithoutProperties")),i=e("react-redux"),s=e("react-router-dom"),c=e("redux"),l=e("../../../app/scripts/lib/util"),u=e("../../../shared/constants/app"),d=e("../../helpers/constants/routes"),p=e("../../store/actions"),f=r(e("./unlock-page.component"));function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=(0,c.compose)(s.withRouter,(0,i.connect)((e=>{const{metamask:{isUnlocked:t}}=e;return{isUnlocked:t}}),(e=>({forgotPassword:()=>e((0,p.forgotPassword)()),tryUnlockMetamask:t=>e((0,p.tryUnlockMetamask)(t)),markPasswordForgotten:()=>e((0,p.markPasswordForgotten)()),forceUpdateMetamaskState:()=>(0,p.forceUpdateMetamaskState)(e),showOptInModal:()=>e((0,p.showModal)({name:"METAMETRICS_OPT_IN_MODAL"}))})),((e,n,r)=>{const{markPasswordForgotten:o,tryUnlockMetamask:i}=n,s=(0,a.default)(n,["markPasswordForgotten","tryUnlockMetamask"]),{history:c,onSubmit:p}=r,f=(0,a.default)(r,["history","onSubmit"]);return m(m(m(m({},e),s),f),{},{onRestore:async()=>{await o(),c.push(d.RESTORE_VAULT_ROUTE),(0,l.getEnvironmentType)()===u.ENVIRONMENT_TYPE_POPUP&&t.platform.openExtensionInBrowser(d.RESTORE_VAULT_ROUTE)},onSubmit:p||(async e=>{await i(e),c.push(d.DEFAULT_ROUTE)}),history:c})})))(f.default);n.default=b}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{file:"/home/circleci/project/ui/pages/unlock-page/unlock-page.container.js"}],[2600,{},function(e,t,n){t.exports=function(e,t){if("$"!==t)for(var n=function(e){var t,n=/(?:\.(\w+))|(?:\[(\d+)\])|(?:\["((?:[^\\"]|\\.)*)"\])/g,r=[];for(;t=n.exec(e);)r.push(t[1]||t[2]||t[3]);return r}(t),r=0;r<n.length;r++)t=n[r].toString().replace(/\\"/g,'"'),void 0===e[t]&&r!==n.length-1||(e=e[t]);return e}},{file:"/home/circleci/project/node_modules/jsan/lib/path-getter.js"}],[2601,{"./":2599,"./path-getter":2600},function(e,t,n){var r=e("./path-getter"),o=e("./");n.getRegexFlags=function(e){var t="";return e.ignoreCase&&(t+="i"),e.global&&(t+="g"),e.multiline&&(t+="m"),t},n.stringifyFunction=function(e,t){if("function"==typeof t)return t(e);var n=e.toString(),r=n.match(/^[^{]*{|^[^=]*=>/),o=r?r[0]:"<function> ",a="}"===n[n.length-1]?"}":"";return o.replace(/\r\n|\n/g," ").replace(/\s+/g," ")+" /* ... */ "+a},n.restore=function(e,t){var n=e[0],a=e.slice(1);switch(n){case"$":return r(t,e);case"r":var i=a.indexOf(","),s=a.slice(0,i),c=a.slice(i+1);return RegExp(c,s);case"d":return new Date(+a);case"f":var l=function(){throw new Error("can't run jsan parsed function")};return l.toString=function(){return a},l;case"u":return;case"e":var u=new Error(a);return u.stack="Stack is unavailable for jsan parsed errors",u;case"s":return Symbol(a);case"g":return Symbol.for(a);case"m":return new Map(o.parse(a));case"l":return new Set(o.parse(a));case"n":return NaN;case"i":return 1/0;case"y":return-1/0;default:return console.warn("unknown type",e),e}}},{file:"/home/circleci/project/node_modules/jsan/lib/utils.js"}],[3610,{},function(e,t,n){t.exports=function(e){var t=[],n=[];return function e(r,o){var a,i,s;if(!("object"!=typeof r||null===r||r instanceof Boolean||r instanceof Date||r instanceof Number||r instanceof RegExp||r instanceof String)){for(a=0;a<t.length;a+=1)if(t[a]===r)return{$ref:n[a]};if(t.push(r),n.push(o),"[object Array]"===Object.prototype.toString.apply(r))for(s=[],a=0;a<r.length;a+=1)s[a]=e(r[a],o+"["+a+"]");else for(i in s={},r)Object.prototype.hasOwnProperty.call(r,i)&&(s[i]=e(r[i],o+"["+JSON.stringify(i)+"]"));return s}return r}(e,"$")}},{file:"/home/circleci/project/node_modules/sc-errors/decycle.js"}],[3705,{"./lib/bytesToUuid":3702,"./lib/rng":3703},function(e,t,n){var r=e("./lib/rng"),o=e("./lib/bytesToUuid");t.exports=function(e,t,n){var a=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||r)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var s=0;s<16;++s)t[a+s]=i[s];return t||o(i)}},{file:"/home/circleci/project/node_modules/socketcluster-client/node_modules/uuid/v4.js"}],[3704,{"./lib/bytesToUuid":3702,"./lib/rng":3703},function(e,t,n){var r,o,a=e("./lib/rng"),i=e("./lib/bytesToUuid"),s=0,c=0;t.exports=function(e,t,n){var l=t&&n||0,u=t||[],d=(e=e||{}).node||r,p=void 0!==e.clockseq?e.clockseq:o;if(null==d||null==p){var f=a();null==d&&(d=r=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==p&&(p=o=16383&(f[6]<<8|f[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:c+1,b=h-s+(m-c)/1e4;if(b<0&&void 0===e.clockseq&&(p=p+1&16383),(b<0||h>s)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,c=m,o=p;var g=(1e4*(268435455&(h+=122192928e5))+m)%4294967296;u[l++]=g>>>24&255,u[l++]=g>>>16&255,u[l++]=g>>>8&255,u[l++]=255&g;var v=h/4294967296*1e4&268435455;u[l++]=v>>>8&255,u[l++]=255&v,u[l++]=v>>>24&15|16,u[l++]=v>>>16&255,u[l++]=p>>>8|128,u[l++]=255&p;for(var y=0;y<6;++y)u[l+y]=d[y];return t||i(u)}},{file:"/home/circleci/project/node_modules/socketcluster-client/node_modules/uuid/v1.js"}],[3698,{},function(e,t,n){var r,o=(r="undefined"!=typeof WorkerGlobalScope?self:"undefined"!=typeof window&&window||function(){return this}()).WebSocket||r.MozWebSocket;function a(e,t,n){return t?new o(e,t):new o(e)}o&&(a.prototype=o.prototype),t.exports=o?a:null},{file:"/home/circleci/project/node_modules/socketcluster-client/lib/ws-browser.js"}],[2830,{},function(e,t,n){"use strict";var r,o;function a(){if(arguments.length)return a.from(arguments)}function i(){}r="An argument without append, prepend, or detach methods was given to `List",o=a.prototype,a.of=function(){return a.from.call(this,arguments)},a.from=function(e){var t,n,r,o=new this;if(e&&(t=e.length))for(n=-1;++n<t;)null!=(r=e[n])&&o.append(r);return o},o.head=null,o.tail=null,o.toArray=function(){for(var e=this.head,t=[];e;)t.push(e),e=e.next;return t},o.prepend=function(e){if(!e)return!1;if(!e.append||!e.prepend||!e.detach)throw new Error(r+"#prepend`.");var t,n;return(n=(t=this).head)?n.prepend(e):(e.detach(),e.list=t,t.head=e,e)},o.append=function(e){if(!e)return!1;if(!e.append||!e.prepend||!e.detach)throw new Error(r+"#append`.");var t,n,o;return(o=(t=this).tail)?o.append(e):(n=t.head)?n.append(e):(e.detach(),e.list=t,t.head=e,e)},a.Item=i;var s=i.prototype;s.next=null,s.prev=null,s.list=null,s.detach=function(){var e=this,t=e.list,n=e.prev,r=e.next;return t?(t.tail===e&&(t.tail=n),t.head===e&&(t.head=r),t.tail===t.head&&(t.tail=null),n&&(n.next=r),r&&(r.prev=n),e.prev=e.next=e.list=null,e):e},s.prepend=function(e){if(!(e&&e.append&&e.prepend&&e.detach))throw new Error(r+"Item#prepend`.");var t=this,n=t.list,o=t.prev;return!!n&&(e.detach(),o&&(e.prev=o,o.next=e),e.next=t,e.list=n,t.prev=e,t===n.head&&(n.head=e),n.tail||(n.tail=t),e)},s.append=function(e){if(!(e&&e.append&&e.prepend&&e.detach))throw new Error(r+"Item#append`.");var t=this,n=t.list,o=t.next;return!!n&&(e.detach(),o&&(e.next=o,o.prev=e),e.prev=t,e.list=n,t.next=e,t!==n.tail&&n.tail||(n.tail=e),e)},t.exports=a},{file:"/home/circleci/project/node_modules/linked-list/_source/linked-list.js"}],[3609,{},function(e,t,n){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}void 0!==t&&(t.exports=r),r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<r.length;o++)if((n=r[o])===t||n.fn===t){r.splice(o,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,t);return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{file:"/home/circleci/project/node_modules/sc-channel/node_modules/component-emitter/index.js"}],[2907,{"./_overArg":2942},function(e,t,n){var r=e("./_overArg")(Object.getPrototypeOf,Object);t.exports=r},{file:"/home/circleci/project/node_modules/lodash/_getPrototype.js"}],[2863,{"./_arrayPush":2857,"./_isFlattenable":2918},function(e,t,n){var r=e("./_arrayPush"),o=e("./_isFlattenable");t.exports=function e(t,n,a,i,s){var c=-1,l=t.length;for(a||(a=o),s||(s=[]);++c<l;){var u=t[c];n>0&&a(u)?n>1?e(u,n-1,a,i,s):r(s,u):i||(s[s.length]=u)}return s}},{file:"/home/circleci/project/node_modules/lodash/_baseFlatten.js"}],[2885,{"./_overRest":2943,"./_setToString":2948,"./identity":2964},function(e,t,n){var r=e("./identity"),o=e("./_overRest"),a=e("./_setToString");t.exports=function(e,t){return a(o(e,t,r),e+"")}},{file:"/home/circleci/project/node_modules/lodash/_baseRest.js"}],[2969,{"./isArrayLike":2968,"./isObjectLike":2974},function(e,t,n){var r=e("./isArrayLike"),o=e("./isObjectLike");t.exports=function(e){return o(e)&&r(e)}},{file:"/home/circleci/project/node_modules/lodash/isArrayLikeObject.js"}],[2890,{"./_SetCache":2846,"./_arrayIncludes":2853,"./_arrayIncludesWith":2854,"./_cacheHas":2892,"./_createSet":2897,"./_setToArray":2947},function(e,t,n){var r=e("./_SetCache"),o=e("./_arrayIncludes"),a=e("./_arrayIncludesWith"),i=e("./_cacheHas"),s=e("./_createSet"),c=e("./_setToArray");t.exports=function(e,t,n){var l=-1,u=o,d=e.length,p=!0,f=[],h=f;if(n)p=!1,u=a;else if(d>=200){var m=t?null:s(e);if(m)return c(m);p=!1,u=i,h=new r}else h=t?[]:f;e:for(;++l<d;){var b=e[l],g=t?t(b):b;if(b=n||0!==b?b:0,p&&g==g){for(var v=h.length;v--;)if(h[v]===g)continue e;t&&h.push(g),f.push(b)}else u(h,g,n)||(h!==f&&h.push(g),f.push(b))}return f}},{file:"/home/circleci/project/node_modules/lodash/_baseUniq.js"}],[2861,{"./_SetCache":2846,"./_arrayIncludes":2853,"./_arrayIncludesWith":2854,"./_arrayMap":2856,"./_baseUnary":2889,"./_cacheHas":2892},function(e,t,n){var r=e("./_SetCache"),o=e("./_arrayIncludes"),a=e("./_arrayIncludesWith"),i=e("./_arrayMap"),s=e("./_baseUnary"),c=e("./_cacheHas");t.exports=function(e,t,n,l){var u=-1,d=o,p=!0,f=e.length,h=[],m=t.length;if(!f)return h;n&&(t=i(t,s(n))),l?(d=a,p=!1):t.length>=200&&(d=c,p=!1,t=new r(t));e:for(;++u<f;){var b=e[u],g=null==n?b:n(b);if(b=l||0!==b?b:0,p&&g==g){for(var v=m;v--;)if(t[v]===g)continue e;h.push(b)}else d(t,g,l)||h.push(b)}return h}},{file:"/home/circleci/project/node_modules/lodash/_baseDifference.js"}],[2898,{"./_getNative":2906},function(e,t,n){var r=e("./_getNative"),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();t.exports=o},{file:"/home/circleci/project/node_modules/lodash/_defineProperty.js"}],[2864,{"./_createBaseFor":2896},function(e,t,n){var r=e("./_createBaseFor")();t.exports=r},{file:"/home/circleci/project/node_modules/lodash/_baseFor.js"}],[2983,{"./_baseProperty":2883,"./_basePropertyDeep":2884,"./_isKey":2920,"./_toKey":2957},function(e,t,n){var r=e("./_baseProperty"),o=e("./_basePropertyDeep"),a=e("./_isKey"),i=e("./_toKey");t.exports=function(e){return a(e)?r(i(e)):o(e)}},{file:"/home/circleci/project/node_modules/lodash/property.js"}],[2881,{"./_baseIsMatch":2875,"./_getMatchData":2905,"./_matchesStrictComparable":2936},function(e,t,n){var r=e("./_baseIsMatch"),o=e("./_getMatchData"),a=e("./_matchesStrictComparable");t.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},{file:"/home/circleci/project/node_modules/lodash/_baseMatches.js"}],[2882,{"./_baseIsEqual":2873,"./_isKey":2920,"./_isStrictComparable":2924,"./_matchesStrictComparable":2936,"./_toKey":2957,"./get":2962,"./hasIn":2963},function(e,t,n){var r=e("./_baseIsEqual"),o=e("./get"),a=e("./hasIn"),i=e("./_isKey"),s=e("./_isStrictComparable"),c=e("./_matchesStrictComparable"),l=e("./_toKey");t.exports=function(e,t){return i(e)&&s(t)?c(l(e),t):function(n){var i=o(n,e);return void 0===i&&i===t?a(n,e):r(t,i,3)}}},{file:"/home/circleci/project/node_modules/lodash/_baseMatchesProperty.js"}],[3494,{},function(e,t,n){"use strict";function r(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}t.exports=function(e,t){void 0===t&&(t="");var n,a=e&&e.split("/")||[],i=t&&t.split("/")||[],s=e&&r(e),c=t&&r(t),l=s||c;if(e&&r(e)?i=a:a.length&&(i.pop(),i=i.concat(a)),!i.length)return"/";if(i.length){var u=i[i.length-1];n="."===u||".."===u||""===u}else n=!1;for(var d=0,p=i.length;0<=p;p--){var f=i[p];"."===f?o(i,p):".."===f?(o(i,p),d++):d&&(o(i,p),d--)}if(!l)for(;d--;d)i.unshift("..");!l||""===i[0]||i[0]&&r(i[0])||i.unshift("");var h=i.join("/");return n&&"/"!==h.substr(-1)&&(h+="/"),h}},{file:"/home/circleci/project/node_modules/resolve-pathname/cjs/resolve-pathname.min.js"}],[3493,{},function(e,t,n){"use strict";function r(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}t.exports=function(e,t){void 0===t&&(t="");var n,a=e&&e.split("/")||[],i=t&&t.split("/")||[],s=e&&r(e),c=t&&r(t),l=s||c;if(e&&r(e)?i=a:a.length&&(i.pop(),i=i.concat(a)),!i.length)return"/";if(i.length){var u=i[i.length-1];n="."===u||".."===u||""===u}else n=!1;for(var d=0,p=i.length;p>=0;p--){var f=i[p];"."===f?o(i,p):".."===f?(o(i,p),d++):d&&(o(i,p),d--)}if(!l)for(;d--;d)i.unshift("..");!l||""===i[0]||i[0]&&r(i[0])||i.unshift("");var h=i.join("/");return n&&"/"!==h.substr(-1)&&(h+="/"),h}},{file:"/home/circleci/project/node_modules/resolve-pathname/cjs/resolve-pathname.js"}],[3835,{},function(e,t,n){"use strict";function r(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}t.exports=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"!=typeof t&&"object"!=typeof n)return!1;var o=r(t),a=r(n);return o!==t||a!==n?e(o,a):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}},{file:"/home/circleci/project/node_modules/value-equal/cjs/value-equal.min.js"}],[3834,{},function(e,t,n){"use strict";function r(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}t.exports=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"==typeof t||"object"==typeof n){var o=r(t),a=r(n);return o!==t||a!==n?e(o,a):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1}},{file:"/home/circleci/project/node_modules/value-equal/cjs/value-equal.js"}],[3440,{"resolve-pathname":3495,"tiny-invariant":3756,"tiny-warning":3757,"value-equal":3836},function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e("resolve-pathname")),a=r(e("value-equal"));e("tiny-warning");var i=r(e("tiny-invariant"));function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e){return"/"===e.charAt(0)?e:"/"+e}function l(e){return"/"===e.charAt(0)?e.substr(1):e}function u(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function d(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function p(e){var t=e||"/",n="",r="",o=t.indexOf("#");-1!==o&&(r=t.substr(o),t=t.substr(0,o));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}function f(e){var t=e.pathname,n=e.search,r=e.hash,o=t||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}function h(e,t,n,r){var a;"string"==typeof e?(a=p(e)).state=t:(void 0===(a=s({},e)).pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==t&&void 0===a.state&&(a.state=t));try{a.pathname=decodeURI(a.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(a.key=n),r?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=o(a.pathname,r.pathname)):a.pathname=r.pathname:a.pathname||(a.pathname="/"),a}function m(){var e=null,t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,o){if(null!=e){var a="function"==typeof e?e(t,n):e;"string"==typeof a?"function"==typeof r?r(a,o):o(!0):o(!1!==a)}else o(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var b=!("undefined"==typeof window||!window.document||!window.document.createElement);function g(e,t){t(window.confirm(e))}var v="popstate",y="hashchange";function w(){try{return window.history.state||{}}catch(e){return{}}}var E="hashchange",_={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+l(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:l,decodePath:c},slash:{encodePath:c,decodePath:c}};function k(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function T(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function S(e){window.location.replace(k(window.location.href)+"#"+e)}function O(e,t,n){return Math.min(Math.max(e,t),n)}n.createBrowserHistory=function(e){void 0===e&&(e={}),b||i(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,a=o.forceRefresh,l=void 0!==a&&a,p=o.getUserConfirmation,E=void 0===p?g:p,_=o.keyLength,k=void 0===_?6:_,T=e.basename?d(c(e.basename)):"";function S(e){var t=e||{},n=t.key,r=t.state,o=window.location,a=o.pathname+o.search+o.hash;return T&&(a=u(a,T)),h(a,r,n)}function O(){return Math.random().toString(36).substr(2,k)}var R=m();function P(e){s(B,e),B.length=t.length,R.notifyListeners(B.location,B.action)}function x(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||j(S(e.state))}function A(){j(S(w()))}var C=!1;function j(e){C?(C=!1,P()):R.confirmTransitionTo(e,"POP",E,(function(t){t?P({action:"POP",location:e}):function(e){var t=B.location,n=I.indexOf(t.key);-1===n&&(n=0);var r=I.indexOf(e.key);-1===r&&(r=0);var o=n-r;o&&(C=!0,M(o))}(e)}))}var N=S(w()),I=[N.key];function D(e){return T+f(e)}function M(e){t.go(e)}var U=0;function q(e){1===(U+=e)&&1===e?(window.addEventListener(v,x),r&&window.addEventListener(y,A)):0===U&&(window.removeEventListener(v,x),r&&window.removeEventListener(y,A))}var L=!1,B={length:t.length,action:"POP",location:N,createHref:D,push:function(e,r){var o=h(e,r,O(),B.location);R.confirmTransitionTo(o,"PUSH",E,(function(e){if(e){var r=D(o),a=o.key,i=o.state;if(n)if(t.pushState({key:a,state:i},null,r),l)window.location.href=r;else{var s=I.indexOf(B.location.key),c=I.slice(0,s+1);c.push(o.key),I=c,P({action:"PUSH",location:o})}else window.location.href=r}}))},replace:function(e,r){var o="REPLACE",a=h(e,r,O(),B.location);R.confirmTransitionTo(a,o,E,(function(e){if(e){var r=D(a),i=a.key,s=a.state;if(n)if(t.replaceState({key:i,state:s},null,r),l)window.location.replace(r);else{var c=I.indexOf(B.location.key);-1!==c&&(I[c]=a.key),P({action:o,location:a})}else window.location.replace(r)}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=R.setPrompt(e);return L||(q(1),L=!0),function(){return L&&(L=!1,q(-1)),t()}},listen:function(e){var t=R.appendListener(e);return q(1),function(){q(-1),t()}}};return B},n.createHashHistory=function(e){void 0===e&&(e={}),b||i(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,o=void 0===r?g:r,a=n.hashType,l=void 0===a?"slash":a,p=e.basename?d(c(e.basename)):"",v=_[l],y=v.encodePath,w=v.decodePath;function O(){var e=w(T());return p&&(e=u(e,p)),h(e)}var R=m();function P(e){s(B,e),B.length=t.length,R.notifyListeners(B.location,B.action)}var x=!1,A=null;function C(){var e=T(),t=y(e);if(e!==t)S(t);else{var n=O(),r=B.location;if(!x&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(A===f(n))return;A=null,function(e){x?(x=!1,P()):R.confirmTransitionTo(e,"POP",o,(function(t){t?P({action:"POP",location:e}):function(e){var t=B.location,n=D.lastIndexOf(f(t));-1===n&&(n=0);var r=D.lastIndexOf(f(e));-1===r&&(r=0);var o=n-r;o&&(x=!0,M(o))}(e)}))}(n)}}var j=T(),N=y(j);j!==N&&S(N);var I=O(),D=[f(I)];function M(e){t.go(e)}var U=0;function q(e){1===(U+=e)&&1===e?window.addEventListener(E,C):0===U&&window.removeEventListener(E,C)}var L=!1,B={length:t.length,action:"POP",location:I,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=k(window.location.href)),n+"#"+y(p+f(e))},push:function(e,t){var n=h(e,void 0,void 0,B.location);R.confirmTransitionTo(n,"PUSH",o,(function(e){if(e){var t=f(n),r=y(p+t);if(T()!==r){A=t,function(e){window.location.hash=e}(r);var o=D.lastIndexOf(f(B.location)),a=D.slice(0,o+1);a.push(t),D=a,P({action:"PUSH",location:n})}else P()}}))},replace:function(e,t){var n="REPLACE",r=h(e,void 0,void 0,B.location);R.confirmTransitionTo(r,n,o,(function(e){if(e){var t=f(r),o=y(p+t);T()!==o&&(A=t,S(o));var a=D.indexOf(f(B.location));-1!==a&&(D[a]=t),P({action:n,location:r})}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=R.setPrompt(e);return L||(q(1),L=!0),function(){return L&&(L=!1,q(-1)),t()}},listen:function(e){var t=R.appendListener(e);return q(1),function(){q(-1),t()}}};return B},n.createMemoryHistory=function(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,r=t.initialEntries,o=void 0===r?["/"]:r,a=t.initialIndex,i=void 0===a?0:a,c=t.keyLength,l=void 0===c?6:c,u=m();function d(e){s(w,e),w.length=w.entries.length,u.notifyListeners(w.location,w.action)}function p(){return Math.random().toString(36).substr(2,l)}var b=O(i,0,o.length-1),g=o.map((function(e){return h(e,void 0,"string"==typeof e?p():e.key||p())})),v=f;function y(e){var t=O(w.index+e,0,w.entries.length-1),r=w.entries[t];u.confirmTransitionTo(r,"POP",n,(function(e){e?d({action:"POP",location:r,index:t}):d()}))}var w={length:g.length,action:"POP",location:g[b],index:b,entries:g,createHref:v,push:function(e,t){var r=h(e,t,p(),w.location);u.confirmTransitionTo(r,"PUSH",n,(function(e){if(e){var t=w.index+1,n=w.entries.slice(0);n.length>t?n.splice(t,n.length-t,r):n.push(r),d({action:"PUSH",location:r,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",o=h(e,t,p(),w.location);u.confirmTransitionTo(o,r,n,(function(e){e&&(w.entries[w.index]=o,d({action:r,location:o}))}))},go:y,goBack:function(){y(-1)},goForward:function(){y(1)},canGo:function(e){var t=w.index+e;return 0<=t&&t<w.entries.length},block:function(e){return void 0===e&&(e=!1),u.setPrompt(e)},listen:function(e){return u.appendListener(e)}};return w},n.createLocation=h,n.locationsAreEqual=function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&a(e.state,t.state)},n.parsePath=p,n.createPath=f},{file:"/home/circleci/project/node_modules/react-router/node_modules/history/cjs/history.min.js"}],[3439,{"resolve-pathname":3495,"tiny-invariant":3756,"tiny-warning":3757,"value-equal":3836},function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e("resolve-pathname")),a=r(e("value-equal")),i=r(e("tiny-warning")),s=r(e("tiny-invariant"));function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e){return"/"===e.charAt(0)?e:"/"+e}function u(e){return"/"===e.charAt(0)?e.substr(1):e}function d(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}function p(e,t){return d(e,t)?e.substr(t.length):e}function f(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function h(e){var t=e||"/",n="",r="",o=t.indexOf("#");-1!==o&&(r=t.substr(o),t=t.substr(0,o));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}function m(e){var t=e.pathname,n=e.search,r=e.hash,o=t||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}function b(e,t,n,r){var a;"string"==typeof e?(a=h(e)).state=t:(void 0===(a=c({},e)).pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==t&&void 0===a.state&&(a.state=t));try{a.pathname=decodeURI(a.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(a.key=n),r?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=o(a.pathname,r.pathname)):a.pathname=r.pathname:a.pathname||(a.pathname="/"),a}function g(){var e=null;var t=[];return{setPrompt:function(t){return i(null==e,"A history supports only one prompt at a time"),e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,o){if(null!=e){var a="function"==typeof e?e(t,n):e;"string"==typeof a?"function"==typeof r?r(a,o):(i(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),o(!0)):o(!1!==a)}else o(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var v=!("undefined"==typeof window||!window.document||!window.document.createElement);function y(e,t){t(window.confirm(e))}var w="popstate",E="hashchange";function _(){try{return window.history.state||{}}catch(e){return{}}}var k="hashchange",T={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+u(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:u,decodePath:l},slash:{encodePath:l,decodePath:l}};function S(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function O(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function R(e){window.location.replace(S(window.location.href)+"#"+e)}function P(e,t,n){return Math.min(Math.max(e,t),n)}n.createBrowserHistory=function(e){void 0===e&&(e={}),v||s(!1,"Browser history needs a DOM");var t,n=window.history,r=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,o=!(-1===window.navigator.userAgent.indexOf("Trident")),a=e,u=a.forceRefresh,h=void 0!==u&&u,k=a.getUserConfirmation,T=void 0===k?y:k,S=a.keyLength,O=void 0===S?6:S,R=e.basename?f(l(e.basename)):"";function P(e){var t=e||{},n=t.key,r=t.state,o=window.location,a=o.pathname+o.search+o.hash;return i(!R||d(a,R),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+a+'" to begin with "'+R+'".'),R&&(a=p(a,R)),b(a,r,n)}function x(){return Math.random().toString(36).substr(2,O)}var A=g();function C(e){c(H,e),H.length=n.length,A.notifyListeners(H.location,H.action)}function j(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||D(P(e.state))}function N(){D(P(_()))}var I=!1;function D(e){if(I)I=!1,C();else{A.confirmTransitionTo(e,"POP",T,(function(t){t?C({action:"POP",location:e}):function(e){var t=H.location,n=U.indexOf(t.key);-1===n&&(n=0);var r=U.indexOf(e.key);-1===r&&(r=0);var o=n-r;o&&(I=!0,L(o))}(e)}))}}var M=P(_()),U=[M.key];function q(e){return R+m(e)}function L(e){n.go(e)}var B=0;function F(e){1===(B+=e)&&1===e?(window.addEventListener(w,j),o&&window.addEventListener(E,N)):0===B&&(window.removeEventListener(w,j),o&&window.removeEventListener(E,N))}var W=!1,H={length:n.length,action:"POP",location:M,createHref:q,push:function(e,t){i(!("object"==typeof e&&void 0!==e.state&&void 0!==t),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var o="PUSH",a=b(e,t,x(),H.location);A.confirmTransitionTo(a,o,T,(function(e){if(e){var t=q(a),s=a.key,c=a.state;if(r)if(n.pushState({key:s,state:c},null,t),h)window.location.href=t;else{var l=U.indexOf(H.location.key),u=U.slice(0,l+1);u.push(a.key),U=u,C({action:o,location:a})}else i(void 0===c,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=t}}))},replace:function(e,t){i(!("object"==typeof e&&void 0!==e.state&&void 0!==t),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var o="REPLACE",a=b(e,t,x(),H.location);A.confirmTransitionTo(a,o,T,(function(e){if(e){var t=q(a),s=a.key,c=a.state;if(r)if(n.replaceState({key:s,state:c},null,t),h)window.location.replace(t);else{var l=U.indexOf(H.location.key);-1!==l&&(U[l]=a.key),C({action:o,location:a})}else i(void 0===c,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(t)}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&(e=!1);var t=A.setPrompt(e);return W||(F(1),W=!0),function(){return W&&(W=!1,F(-1)),t()}},listen:function(e){var t=A.appendListener(e);return F(1),function(){F(-1),t()}}};return H},n.createHashHistory=function(e){void 0===e&&(e={}),v||s(!1,"Hash history needs a DOM");var t=window.history,n=-1===window.navigator.userAgent.indexOf("Firefox"),r=e,o=r.getUserConfirmation,a=void 0===o?y:o,u=r.hashType,h=void 0===u?"slash":u,w=e.basename?f(l(e.basename)):"",E=T[h],_=E.encodePath,P=E.decodePath;function x(){var e=P(O());return i(!w||d(e,w),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+e+'" to begin with "'+w+'".'),w&&(e=p(e,w)),b(e)}var A=g();function C(e){c(H,e),H.length=t.length,A.notifyListeners(H.location,H.action)}var j=!1,N=null;function I(){var e,t,n=O(),r=_(n);if(n!==r)R(r);else{var o=x(),i=H.location;if(!j&&(t=o,(e=i).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(N===m(o))return;N=null,function(e){if(j)j=!1,C();else{var t="POP";A.confirmTransitionTo(e,t,a,(function(n){n?C({action:t,location:e}):function(e){var t=H.location,n=q.lastIndexOf(m(t));-1===n&&(n=0);var r=q.lastIndexOf(m(e));-1===r&&(r=0);var o=n-r;o&&(j=!0,L(o))}(e)}))}}(o)}}var D=O(),M=_(D);D!==M&&R(M);var U=x(),q=[m(U)];function L(e){i(n,"Hash history go(n) causes a full page reload in this browser"),t.go(e)}var B=0;function F(e){1===(B+=e)&&1===e?window.addEventListener(k,I):0===B&&window.removeEventListener(k,I)}var W=!1,H={length:t.length,action:"POP",location:U,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=S(window.location.href)),n+"#"+_(w+m(e))},push:function(e,t){i(void 0===t,"Hash history cannot push state; it is ignored");var n="PUSH",r=b(e,void 0,void 0,H.location);A.confirmTransitionTo(r,n,a,(function(e){if(e){var t=m(r),o=_(w+t);if(O()!==o){N=t,function(e){window.location.hash=e}(o);var a=q.lastIndexOf(m(H.location)),s=q.slice(0,a+1);s.push(t),q=s,C({action:n,location:r})}else i(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),C()}}))},replace:function(e,t){i(void 0===t,"Hash history cannot replace state; it is ignored");var n="REPLACE",r=b(e,void 0,void 0,H.location);A.confirmTransitionTo(r,n,a,(function(e){if(e){var t=m(r),o=_(w+t);O()!==o&&(N=t,R(o));var a=q.indexOf(m(H.location));-1!==a&&(q[a]=t),C({action:n,location:r})}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&(e=!1);var t=A.setPrompt(e);return W||(F(1),W=!0),function(){return W&&(W=!1,F(-1)),t()}},listen:function(e){var t=A.appendListener(e);return F(1),function(){F(-1),t()}}};return H},n.createMemoryHistory=function(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,r=t.initialEntries,o=void 0===r?["/"]:r,a=t.initialIndex,s=void 0===a?0:a,l=t.keyLength,u=void 0===l?6:l,d=g();function p(e){c(E,e),E.length=E.entries.length,d.notifyListeners(E.location,E.action)}function f(){return Math.random().toString(36).substr(2,u)}var h=P(s,0,o.length-1),v=o.map((function(e){return b(e,void 0,"string"==typeof e?f():e.key||f())})),y=m;function w(e){var t=P(E.index+e,0,E.entries.length-1),r=E.entries[t];d.confirmTransitionTo(r,"POP",n,(function(e){e?p({action:"POP",location:r,index:t}):p()}))}var E={length:v.length,action:"POP",location:v[h],index:h,entries:v,createHref:y,push:function(e,t){i(!("object"==typeof e&&void 0!==e.state&&void 0!==t),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var r="PUSH",o=b(e,t,f(),E.location);d.confirmTransitionTo(o,r,n,(function(e){if(e){var t=E.index+1,n=E.entries.slice(0);n.length>t?n.splice(t,n.length-t,o):n.push(o),p({action:r,location:o,index:t,entries:n})}}))},replace:function(e,t){i(!("object"==typeof e&&void 0!==e.state&&void 0!==t),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var r="REPLACE",o=b(e,t,f(),E.location);d.confirmTransitionTo(o,r,n,(function(e){e&&(E.entries[E.index]=o,p({action:r,location:o}))}))},go:w,goBack:function(){w(-1)},goForward:function(){w(1)},canGo:function(e){var t=E.index+e;return t>=0&&t<E.entries.length},block:function(e){return void 0===e&&(e=!1),d.setPrompt(e)},listen:function(e){return d.appendListener(e)}};return E},n.createLocation=b,n.locationsAreEqual=function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&a(e.state,t.state)},n.parsePath=h,n.createPath=m},{file:"/home/circleci/project/node_modules/react-router/node_modules/history/cjs/history.js"}],[3208,{},function(e,t,n){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{file:"/home/circleci/project/node_modules/path-to-regexp/node_modules/isarray/index.js"}],[2228,{},function(e,t,n){(function(e){"use strict";var n="__global_unique_id__";t.exports=function(){return e[n]=(e[n]||0)+1}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{file:"/home/circleci/project/node_modules/gud/index.js"}],[4495,{"../../components/ui/loading-screen":4230,"../../helpers/constants/routes":4317,"@babel/runtime/helpers/defineProperty":178,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,"prop-types":3233,react:3454},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireWildcard"),o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(e("@babel/runtime/helpers/defineProperty")),i=r(e("react")),s=o(e("prop-types")),c=o(e("../../components/ui/loading-screen")),l=e("../../helpers/constants/routes");class u extends i.PureComponent{componentDidMount(){const{lockMetamask:e,isUnlocked:t,history:n}=this.props;t?e().then((()=>n.push(l.DEFAULT_ROUTE))):n.replace(l.DEFAULT_ROUTE)}render(){return i.default.createElement(c.default,null)}}n.default=u,(0,a.default)(u,"propTypes",{history:s.default.object,isUnlocked:s.default.bool,lockMetamask:s.default.func})},{file:"/home/circleci/project/ui/pages/lock/lock.component.js"}],[4498,{"../../../shared/constants/time":3919,"../../components/ui/button":4165,"../../components/ui/loading-screen":4230,"@babel/runtime/helpers/defineProperty":178,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,classnames:1734,"prop-types":3233,pubnub:3253,"qrcode-generator":3326,react:3454},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireWildcard"),o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(e("@babel/runtime/helpers/defineProperty")),i=r(e("react")),s=o(e("prop-types")),c=o(e("classnames")),l=o(e("pubnub")),u=o(e("qrcode-generator")),d=o(e("../../components/ui/button")),p=o(e("../../components/ui/loading-screen")),f=e("../../../shared/constants/time");const h="PASSWORD_PROMPT_SCREEN",m=30*f.SECOND,b=2*f.MINUTE;class g extends i.Component{constructor(...e){super(...e),(0,a.default)(this,"state",{screen:h,password:"",seedWords:null,importedAccounts:[],error:null,syncing:!1,completed:!1,channelName:void 0,cipherKey:void 0}),(0,a.default)(this,"syncing",!1)}componentDidMount(){const e=document.getElementById("password-box");e&&e.focus()}startIdleTimeout(){this.idleTimeout=setTimeout((()=>{this.clearTimeouts(),this.goBack()}),b)}handleSubmit(e){e.preventDefault(),this.setState({seedWords:null,error:null}),this.props.requestRevealSeedWords(this.state.password).then((e=>{this.startKeysGeneration(),this.startIdleTimeout(),this.exportAccounts().then((t=>{this.setState({seedWords:e,importedAccounts:t,screen:"REVEAL_SEED_SCREEN"})}))})).catch((e=>this.setState({error:e.message})))}async exportAccounts(){const e=[];this.props.keyrings.forEach((t=>{"Simple Key Pair"===t.type&&e.push(t.accounts[0])}));return await this.props.exportAccounts(this.state.password,e)}startKeysGeneration(){this.keysGenerationTimeout&&clearTimeout(this.keysGenerationTimeout),this.disconnectWebsockets(),this.generateCipherKeyAndChannelName(),this.initWebsockets(),this.keysGenerationTimeout=setTimeout((()=>{this.startKeysGeneration()}),m)}goBack(){const{history:e,mostRecentOverviewPage:t}=this.props;e.push(t)}clearTimeouts(){this.keysGenerationTimeout&&clearTimeout(this.keysGenerationTimeout),this.idleTimeout&&clearTimeout(this.idleTimeout)}generateCipherKeyAndChannelName(){this.cipherKey=`${this.props.selectedAddress.substr(-4)}-${l.default.generateUUID()}`,this.channelName=`mm-${l.default.generateUUID()}`,this.setState({cipherKey:this.cipherKey,channelName:this.channelName})}initWithCipherKeyAndChannelName(e,t){this.cipherKey=e,this.channelName=t}initWebsockets(){this.disconnectWebsockets(),this.pubnub=new l.default({subscribeKey:"sub-c-16009c7a-31b6-11e9-a223-2ae0221900a7",publishKey:"pub-c-c839b707-d27a-442d-b273-df1cb0c69e9e",cipherKey:this.cipherKey,ssl:!0}),this.pubnubListener={message:e=>{const{channel:t,message:n}=e;t===this.channelName&&n&&("start-sync"===n.event?this.startSyncing():"connection-info"===n.event?(this.keysGenerationTimeout&&clearTimeout(this.keysGenerationTimeout),this.disconnectWebsockets(),this.initWithCipherKeyAndChannelName(n.cipher,n.channel),this.initWebsockets()):"end-sync"===n.event&&(this.disconnectWebsockets(),this.setState({syncing:!1,completed:!0})))}},this.pubnub.addListener(this.pubnubListener),this.pubnub.subscribe({channels:[this.channelName],withPresence:!1})}disconnectWebsockets(){this.pubnub&&this.pubnubListener&&this.pubnub.removeListener(this.pubnubListener)}calculatePayloadSize(e,t){return encodeURIComponent(e+JSON.stringify(t)).length+100}chunkString(e,t){const n=Math.ceil(e.length/t),r=new Array(n);let o=0;for(let a=0;a<n;a+=1)r[a]=e.substr(o,t),o+=t;return r}notifyError(e){return new Promise(((t,n)=>{this.pubnub.publish({message:{event:"error-sync",data:e},channel:this.channelName,sendByPost:!1,storeInHistory:!1},((e,r)=>{e.error?n(r):t()}))}))}async startSyncing(){if(this.syncing)return;this.syncing=!0,this.setState({syncing:!0});const{accounts:e,network:t,preferences:n,transactions:r}=await this.props.fetchInfoToSync(),o=JSON.stringify({accounts:e,network:t,preferences:n,transactions:r,udata:{pwd:this.state.password,seed:this.state.seedWords,importedAccounts:this.state.importedAccounts}}),a=this.chunkString(o,17e3),i=a.length;try{for(let e=0;e<i;e++)await this.sendMessage(a[e],e+1,i)}catch(e){this.props.displayWarning("Sync failed :("),this.setState({syncing:!1}),this.syncing=!1,this.notifyError(e.toString())}}sendMessage(e,t,n){return new Promise(((r,o)=>{this.pubnub.publish({message:{event:"syncing-data",data:e,totalPkg:n,currentPkg:t},channel:this.channelName,sendByPost:!1,storeInHistory:!1},((e,t)=>{e.error?o(t):r()}))}))}componentWillUnmount(){this.clearTimeouts(),this.disconnectWebsockets()}renderWarning(e){return i.default.createElement("div",{className:"page-container__warning-container"},i.default.createElement("div",{className:"page-container__warning-message"},i.default.createElement("div",null,e)))}renderContent(){const{syncing:e,completed:t,screen:n}=this.state,{t:r}=this.context;return e?i.default.createElement(p.default,{loadingMessage:r("syncInProgress")}):t?i.default.createElement("div",{className:"reveal-seed__content"},i.default.createElement("label",{className:"reveal-seed__label",style:{width:"100%",textAlign:"center"}},r("syncWithMobileComplete"))):n===h?i.default.createElement("div",null,this.renderWarning(this.context.t("mobileSyncWarning"))):i.default.createElement("div",null,this.renderWarning(this.context.t("syncWithMobileBeCareful")),i.default.createElement("div",{className:"reveal-seed__content"},this.renderRevealSeedContent()))}renderPasswordPromptContent(){const{t:e}=this.context;return i.default.createElement("form",{onSubmit:e=>this.handleSubmit(e)},i.default.createElement("label",{className:"input-label",htmlFor:"password-box"},e("enterPasswordContinue")),i.default.createElement("div",{className:"input-group"},i.default.createElement("input",{type:"password",placeholder:e("password"),id:"password-box",value:this.state.password,onChange:e=>this.setState({password:e.target.value}),className:(0,c.default)("form-control",{"form-control--error":this.state.error})})),this.state.error&&i.default.createElement("div",{className:"reveal-seed__error"},this.state.error))}renderRevealSeedContent(){const e=(0,u.default)(0,"M");e.addData(`metamask-sync:${this.state.channelName}|@|${this.state.cipherKey}`),e.make();const{t:t}=this.context;return i.default.createElement("div",null,i.default.createElement("label",{className:"reveal-seed__label",style:{width:"100%",textAlign:"center"}},t("syncWithMobileScanThisCode")),i.default.createElement("div",{style:{display:"flex",justifyContent:"center"},dangerouslySetInnerHTML:{__html:e.createTableTag(4)}}))}renderFooter(){return this.state.screen===h?this.renderPasswordPromptFooter():this.renderRevealSeedFooter()}renderPasswordPromptFooter(){const{t:e}=this.context,{password:t}=this.state;return i.default.createElement("div",{className:"new-account-import-form__buttons",style:{padding:30,marginTop:0}},i.default.createElement(d.default,{type:"default",large:!0,className:"new-account-create-form__button",onClick:()=>this.goBack()},e("cancel")),i.default.createElement(d.default,{type:"secondary",large:!0,className:"new-account-create-form__button",onClick:e=>this.handleSubmit(e),disabled:""===t},e("next")))}renderRevealSeedFooter(){const{t:e}=this.context;return i.default.createElement("div",{className:"page-container__footer",style:{padding:30}},i.default.createElement(d.default,{type:"default",large:!0,className:"page-container__footer-button",onClick:()=>this.goBack()},e("close")))}render(){const{t:e}=this.context,{screen:t}=this.state;return i.default.createElement("div",{className:"page-container"},i.default.createElement("div",{className:"page-container__header"},i.default.createElement("div",{className:"page-container__title"},e("syncWithMobileTitle")),t===h?i.default.createElement("div",{className:"page-container__subtitle"},e("syncWithMobileDesc")):null,t===h?i.default.createElement("div",{className:"page-container__subtitle"},e("syncWithMobileDescNewUsers")):null),i.default.createElement("div",{className:"page-container__content"},this.renderContent()),this.renderFooter())}}n.default=g,(0,a.default)(g,"contextTypes",{t:s.default.func}),(0,a.default)(g,"propTypes",{history:s.default.object.isRequired,selectedAddress:s.default.string.isRequired,displayWarning:s.default.func.isRequired,fetchInfoToSync:s.default.func.isRequired,mostRecentOverviewPage:s.default.string.isRequired,requestRevealSeedWords:s.default.func.isRequired,exportAccounts:s.default.func.isRequired,keyrings:s.default.array})},{file:"/home/circleci/project/ui/pages/mobile-sync/mobile-sync.component.js"}],[4386,{"../../../app/scripts/lib/util":78,"../../../shared/constants/app":3912,"../../components/ui/button":4165,"../../components/ui/identicon":4219,"../../components/ui/token-balance":4277,"@babel/runtime/helpers/defineProperty":178,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,"prop-types":3233,react:3454},function(e,t,n){(function(t){"use strict";var r=e("@babel/runtime/helpers/interopRequireWildcard"),o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(e("@babel/runtime/helpers/defineProperty")),i=r(e("react")),s=o(e("prop-types")),c=o(e("../../components/ui/button")),l=o(e("../../components/ui/identicon")),u=o(e("../../components/ui/token-balance")),d=e("../../../app/scripts/lib/util"),p=e("../../../shared/constants/app");class f extends i.Component{componentDidMount(){this._checkPendingTokens()}componentDidUpdate(){this._checkPendingTokens()}_checkPendingTokens(){const{mostRecentOverviewPage:e,pendingTokens:n={},history:r}=this.props;Object.keys(n).length>0||((0,d.getEnvironmentType)()===p.ENVIRONMENT_TYPE_NOTIFICATION?t.platform.closeCurrentWindow():r.push(e))}getTokenName(e,t){return void 0===e?t:`${e} (${t})`}render(){const{addToken:e,pendingTokens:t,tokens:n,removeSuggestedTokens:r,history:o,mostRecentOverviewPage:a}=this.props,s=t[Object.keys(t)[0]],d=this.checkTokenDuplicates(t,n),p=this.checkNameReuse(t,n);return i.default.createElement("div",{className:"page-container"},i.default.createElement("div",{className:"page-container__header"},i.default.createElement("div",{className:"page-container__title"},this.context.t("addSuggestedTokens")),i.default.createElement("div",{className:"page-container__subtitle"},this.context.t("likeToAddTokens")),d?i.default.createElement("div",{className:"warning"},this.context.t("knownTokenWarning")):null,p?i.default.createElement("div",{className:"warning"},this.context.t("reusedTokenNameWarning")):null),i.default.createElement("div",{className:"page-container__content"},i.default.createElement("div",{className:"confirm-add-token"},i.default.createElement("div",{className:"confirm-add-token__header"},i.default.createElement("div",{className:"confirm-add-token__token"},this.context.t("token")),i.default.createElement("div",{className:"confirm-add-token__balance"},this.context.t("balance"))),i.default.createElement("div",{className:"confirm-add-token__token-list"},Object.entries(t).map((([e,t])=>{const{name:n,symbol:r,image:o}=t;return i.default.createElement("div",{className:"confirm-add-token__token-list-item",key:e},i.default.createElement("div",{className:"confirm-add-token__token confirm-add-token__data"},i.default.createElement(l.default,{className:"confirm-add-token__token-icon",diameter:48,address:e,image:o}),i.default.createElement("div",{className:"confirm-add-token__name"},this.getTokenName(n,r))),i.default.createElement("div",{className:"confirm-add-token__balance"},i.default.createElement(u.default,{token:t})))}))))),i.default.createElement("div",{className:"page-container__footer"},i.default.createElement("footer",null,i.default.createElement(c.default,{type:"default",large:!0,className:"page-container__footer-button",onClick:()=>{r().then((()=>o.push(a)))}},this.context.t("cancel")),i.default.createElement(c.default,{type:"secondary",large:!0,className:"page-container__footer-button",disabled:0===t.length,onClick:()=>{e(s).then((()=>r())).then((()=>{this.context.trackEvent({event:"Token Added",category:"Wallet",sensitiveProperties:{token_symbol:s.symbol,token_contract_address:s.address,token_decimal_precision:s.decimals,unlisted:s.unlisted,source:"dapp"}})})).then((()=>o.push(a)))}},this.context.t("addToken")))))}checkTokenDuplicates(e,t){const n=Object.keys(e),r=t.map((e=>e.address));return n.filter((e=>r.includes(e))).length>0}checkNameReuse(e,t){return Object.keys(e).map((t=>e[t])).filter((e=>t.filter((t=>t.symbol===e.symbol)).filter((t=>t.address!==e.address)).length>0)).length>0}}n.default=f,(0,a.default)(f,"contextTypes",{t:s.default.func,trackEvent:s.default.func}),(0,a.default)(f,"propTypes",{history:s.default.object,addToken:s.default.func,mostRecentOverviewPage:s.default.string.isRequired,pendingTokens:s.default.object,removeSuggestedTokens:s.default.func,tokens:s.default.array})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{file:"/home/circleci/project/ui/pages/confirm-add-suggested-token/confirm-add-suggested-token.component.js"}],[4319,{"../../constants/routes":4317,"@babel/runtime/helpers/interopRequireDefault":184,"prop-types":3233,react:3454,"react-router-dom":3432},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var o=r(e("react")),a=r(e("prop-types")),i=e("react-router-dom"),s=e("../../constants/routes");function c(e){const{isUnlocked:t,completedOnboarding:n}=e;switch(!0){case t&&n:return o.default.createElement(i.Route,e);case!n:return o.default.createElement(i.Redirect,{to:{pathname:s.INITIALIZE_ROUTE}});default:return o.default.createElement(i.Redirect,{to:{pathname:s.UNLOCK_ROUTE}})}}c.propTypes={isUnlocked:a.default.bool,completedOnboarding:a.default.bool}},{file:"/home/circleci/project/ui/helpers/higher-order-components/authenticated/authenticated.component.js"}],[4324,{"../../constants/routes":4317,"@babel/runtime/helpers/interopRequireDefault":184,"prop-types":3233,react:3454,"react-router-dom":3432},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var o=r(e("react")),a=r(e("prop-types")),i=e("react-router-dom"),s=e("../../constants/routes");function c(e){return e.completedOnboarding?o.default.createElement(i.Route,e):o.default.createElement(i.Redirect,{to:{pathname:s.INITIALIZE_ROUTE}})}c.propTypes={completedOnboarding:a.default.bool}},{file:"/home/circleci/project/ui/helpers/higher-order-components/initialized/initialized.component.js"}],[4010,{"../../../../shared/constants/time":3919,"../../ui/button":4165,"../../ui/loading-screen":4230,"@babel/runtime/helpers/defineProperty":178,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,"prop-types":3233,react:3454},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireWildcard"),o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(e("@babel/runtime/helpers/defineProperty")),i=r(e("react")),s=o(e("prop-types")),c=o(e("../../ui/button")),l=o(e("../../ui/loading-screen")),u=e("../../../../shared/constants/time");class d extends i.PureComponent{constructor(...e){super(...e),(0,a.default)(this,"state",{showErrorScreen:!1}),(0,a.default)(this,"componentDidMount",(()=>{this.cancelCallTimeout=setTimeout(this.cancelCall,this.props.cancelTime||15*u.SECOND)})),(0,a.default)(this,"getConnectingLabel",(function(e){if(e)return e;const{provider:t,providerId:n}=this.props,r=t.type;let o;return o="mainnet"===r?this.context.t("connectingToMainnet"):"ropsten"===r?this.context.t("connectingToRopsten"):"kovan"===r?this.context.t("connectingToKovan"):"rinkeby"===r?this.context.t("connectingToRinkeby"):"goerli"===r?this.context.t("connectingToGoerli"):this.context.t("connectingTo",[n]),o})),(0,a.default)(this,"renderErrorScreenContent",(()=>{const{showNetworkDropdown:e,setProviderArgs:t,setProviderType:n}=this.props;return i.default.createElement("div",{className:"loading-overlay__error-screen"},i.default.createElement("span",{className:"loading-overlay__emoji"},""),i.default.createElement("span",null,this.context.t("somethingWentWrong")),i.default.createElement("div",{className:"loading-overlay__error-buttons"},i.default.createElement(c.default,{type:"default",onClick:()=>{window.clearTimeout(this.cancelCallTimeout),e()}},this.context.t("switchNetworks")),i.default.createElement(c.default,{type:"primary",onClick:()=>{this.setState({showErrorScreen:!1}),n(...t),window.clearTimeout(this.cancelCallTimeout),this.cancelCallTimeout=setTimeout(this.cancelCall,this.props.cancelTime||15*u.SECOND)}},this.context.t("tryAgain"))))})),(0,a.default)(this,"cancelCall",(()=>{const{isNetworkLoading:e}=this.props;e&&this.setState({showErrorScreen:!0})})),(0,a.default)(this,"componentDidUpdate",(e=>{const{provider:t}=this.props,{provider:n}=e;t.type!==n.type&&(window.clearTimeout(this.cancelCallTimeout),this.setState({showErrorScreen:!1}),this.cancelCallTimeout=setTimeout(this.cancelCall,this.props.cancelTime||15*u.SECOND))})),(0,a.default)(this,"componentWillUnmount",(()=>{window.clearTimeout(this.cancelCallTimeout)}))}render(){const{rollbackToPreviousProvider:e}=this.props;return i.default.createElement(l.default,{header:i.default.createElement("div",{className:"page-container__header-close",onClick:e}),showLoadingSpinner:!this.state.showErrorScreen,loadingMessage:this.state.showErrorScreen?this.renderErrorScreenContent():this.getConnectingLabel(this.props.loadingMessage)})}}n.default=d,(0,a.default)(d,"contextTypes",{t:s.default.func}),(0,a.default)(d,"propTypes",{loadingMessage:s.default.string,cancelTime:s.default.number,provider:s.default.oneOfType([s.default.string,s.default.object]),providerId:s.default.oneOfType([s.default.string,s.default.number]),showNetworkDropdown:s.default.func,setProviderArgs:s.default.array,setProviderType:s.default.func,rollbackToPreviousProvider:s.default.func,isNetworkLoading:s.default.bool})},{file:"/home/circleci/project/ui/components/app/loading-network-screen/loading-network-screen.component.js"}],[4164,{"@babel/runtime/helpers/extends":179,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/objectWithoutProperties":193,classnames:1734,"prop-types":3233,react:3454},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=r(e("@babel/runtime/helpers/extends")),a=r(e("@babel/runtime/helpers/objectWithoutProperties")),i=r(e("react")),s=r(e("prop-types")),c=r(e("classnames"));const l="btn-default",u={default:l,primary:"btn-primary",secondary:"btn-secondary",warning:"btn-warning",danger:"btn-danger","danger-primary":"btn-danger-primary",link:"btn-link",confirm:"btn-primary",raised:"btn-raised","first-time":"btn--first-time"},d=e=>{let{type:t,submit:n,large:r,children:s,icon:d,rounded:p,className:f}=e,h=(0,a.default)(e,["type","submit","large","children","icon","rounded","className"]),m="button";var b,g,v;("link"===t?m="a":n&&(h.type="submit"),"function"==typeof h.onClick)&&(null!==(b=h.onKeyUp)&&void 0!==b||(h.onKeyUp=e=>{"Enter"===e.key&&h.onClick()}),null!==(g=h.role)&&void 0!==g||(h.role="button"),null!==(v=h.tabIndex)&&void 0!==v||(h.tabIndex=0));return i.default.createElement(m,(0,o.default)({className:(0,c.default)("button",u[t]||l,r&&"btn--large",p&&"btn--rounded",f)},h),d&&i.default.createElement("span",{className:"button__icon"},d),s)};d.propTypes={type:s.default.string,submit:s.default.bool,large:s.default.bool,rounded:s.default.bool,className:s.default.string,children:s.default.node,icon:s.default.node},d.defaultProps={submit:!1};var p=d;n.default=p},{file:"/home/circleci/project/ui/components/ui/button/button.component.js"}],[4190,{"../../../helpers/utils/util":4341,"../../../hooks/useCopyToClipboard":4344,"../../../hooks/useI18nContext":4351,"../icon/copy-icon.component":4203,"@babel/runtime/helpers/interopRequireDefault":184,"prop-types":3233,react:3454},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=r(e("react")),a=r(e("prop-types")),i=e("../../../helpers/utils/util"),s=r(e("../icon/copy-icon.component")),c=e("../../../hooks/useI18nContext"),l=e("../../../hooks/useCopyToClipboard");function u({text:e=""}){const t=(0,c.useI18nContext)(),[n,r]=(0,l.useCopyToClipboard)();return o.default.createElement("div",{className:"export-text-container"},o.default.createElement("div",{className:"export-text-container__text-container"},o.default.createElement("div",{className:"export-text-container__text notranslate"},e)),o.default.createElement("div",{className:"export-text-container__buttons-container"},o.default.createElement("div",{className:"export-text-container__button export-text-container__button--copy",onClick:()=>{r(e)}},o.default.createElement(s.default,{size:17,color:"#3098DC"}),o.default.createElement("div",{className:"export-text-container__button-text"},t(n?"copiedExclamation":"copyToClipboard"))),o.default.createElement("div",{className:"export-text-container__button",onClick:()=>(0,i.exportAsFile)("",e)},o.default.createElement("img",{src:"images/download.svg",alt:""}),o.default.createElement("div",{className:"export-text-container__button-text"},t("saveAsCsvFile")))))}u.propTypes={text:a.default.string};var d=o.default.memo(u);n.default=d},{file:"/home/circleci/project/ui/components/ui/export-text-container/export-text-container.component.js"}],[4267,{"./spinner.component":4268,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=r(e("./spinner.component")).default;n.default=o},{file:"/home/circleci/project/ui/components/ui/spinner/index.js"}],[3947,{"../../../helpers/constants/routes":4317,"../../ui/identicon":4219,"../../ui/metafox-logo":4239,"../network-display":4081,"@babel/runtime/helpers/defineProperty":178,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,classnames:1734,"prop-types":3233,react:3454},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireWildcard"),o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(e("@babel/runtime/helpers/defineProperty")),i=r(e("react")),s=o(e("prop-types")),c=o(e("classnames")),l=o(e("../../ui/identicon")),u=o(e("../../ui/metafox-logo")),d=e("../../../helpers/constants/routes"),p=o(e("../network-display"));class f extends i.PureComponent{handleNetworkIndicatorClick(e){e.preventDefault(),e.stopPropagation();const{networkDropdownOpen:t,showNetworkDropdown:n,hideNetworkDropdown:r,disabled:o,disableNetworkIndicator:a}=this.props;o||a||(!1===t?(this.context.metricsEvent({eventOpts:{category:"Navigation",action:"Home",name:"Opened Network Menu"}}),n()):r())}renderAccountMenu(){const{isUnlocked:e,toggleAccountMenu:t,selectedAddress:n,disabled:r,isAccountMenuOpen:o}=this.props;return e&&i.default.createElement("div",{className:(0,c.default)("account-menu__icon",{"account-menu__icon--disabled":r}),onClick:()=>{r||(!o&&this.context.metricsEvent({eventOpts:{category:"Navigation",action:"Home",name:"Opened Main Menu"}}),t())}},i.default.createElement(l.default,{address:n,diameter:32,addBorder:!0}))}render(){const{history:e,isUnlocked:t,hideNetworkIndicator:n,disableNetworkIndicator:r,disabled:o,onClick:a}=this.props;return i.default.createElement("div",{className:(0,c.default)("app-header",{"app-header--back-drop":t})},i.default.createElement("div",{className:"app-header__contents"},i.default.createElement(u.default,{unsetIconHeight:!0,onClick:async()=>{a&&await a(),e.push(d.DEFAULT_ROUTE)}}),i.default.createElement("div",{className:"app-header__account-menu-container"},!n&&i.default.createElement("div",{className:"app-header__network-component-wrapper"},i.default.createElement(p.default,{colored:!1,outline:!0,iconClassName:"app-header__network-down-arrow",onClick:e=>this.handleNetworkIndicatorClick(e),disabled:o||r})),this.renderAccountMenu())))}}n.default=f,(0,a.default)(f,"propTypes",{history:s.default.object,networkDropdownOpen:s.default.bool,showNetworkDropdown:s.default.func,hideNetworkDropdown:s.default.func,toggleAccountMenu:s.default.func,selectedAddress:s.default.string,isUnlocked:s.default.bool,hideNetworkIndicator:s.default.bool,disabled:s.default.bool,disableNetworkIndicator:s.default.bool,isAccountMenuOpen:s.default.bool,onClick:s.default.func}),(0,a.default)(f,"contextTypes",{t:s.default.func,metricsEvent:s.default.func})},{file:"/home/circleci/project/ui/components/app/app-header/app-header.component.js"}],[4447,{"../../ducks/history/history":4304,"../../store/actions":4647,"./new-account.component":4446,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,"react-redux":3421},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault"),o=e("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-redux"),i=o(e("../../store/actions")),s=e("../../ducks/history/history"),c=r(e("./new-account.component"));var l=(0,a.connect)((e=>{const{metamask:{identities:t={}}}=e;return{newAccountNumber:Object.keys(t).length+1,mostRecentOverviewPage:(0,s.getMostRecentOverviewPage)(e)}}),(e=>({createAccount:t=>e(i.addNewAccount()).then((n=>{t&&e(i.setAccountLabel(n,t))}))})))(c.default);n.default=l},{file:"/home/circleci/project/ui/pages/create-account/new-account.container.js"}],[4442,{"../../../components/ui/dropdown":4185,"./json":4443,"./private-key":4444,"@babel/runtime/helpers/defineProperty":178,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,"prop-types":3233,react:3454},function(e,t,n){(function(t){"use strict";var r=e("@babel/runtime/helpers/interopRequireWildcard"),o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(e("@babel/runtime/helpers/defineProperty")),i=r(e("react")),s=o(e("prop-types")),c=o(e("../../../components/ui/dropdown")),l=o(e("./json")),u=o(e("./private-key"));class d extends i.Component{constructor(...e){super(...e),(0,a.default)(this,"state",{})}getMenuItemTexts(){return[this.context.t("privateKey"),this.context.t("jsonFile")]}renderImportView(){const{type:e}=this.state,t=this.getMenuItemTexts();switch(e||t[0]){case this.context.t("privateKey"):return i.default.createElement(u.default,null);case this.context.t("jsonFile"):default:return i.default.createElement(l.default,null)}}render(){const e=this.getMenuItemTexts(),{type:n}=this.state;return i.default.createElement("div",{className:"new-account-import-form"},i.default.createElement("div",{className:"new-account-import-disclaimer"},i.default.createElement("span",null,this.context.t("importAccountMsg")),i.default.createElement("span",{style:{cursor:"pointer",textDecoration:"underline"},onClick:()=>{t.platform.openTab({url:"https://metamask.zendesk.com/hc/en-us/articles/360015289932"})}},this.context.t("here"))),i.default.createElement("div",{className:"new-account-import-form__select-section"},i.default.createElement("div",{className:"new-account-import-form__select-label"},this.context.t("selectType")),i.default.createElement(c.default,{className:"new-account-import-form__select",options:e.map((e=>({value:e}))),selectedOption:n||e[0],onChange:e=>{this.setState({type:e})}})),this.renderImportView())}}n.default=d,(0,a.default)(d,"contextTypes",{t:s.default.func})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{file:"/home/circleci/project/ui/pages/create-account/import-account/index.js"}],[4439,{"../../../../shared/constants/time":3919,"../../../ducks/history/history":4304,"../../../helpers/utils/util":4341,"../../../selectors":4642,"../../../store/actions":4647,"./account-list":4438,"./select-hardware":4440,"@babel/runtime/helpers/defineProperty":178,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,"prop-types":3233,react:3454,"react-redux":3421},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireWildcard"),o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(e("@babel/runtime/helpers/defineProperty")),i=r(e("react")),s=o(e("prop-types")),c=e("react-redux"),l=r(e("../../../store/actions")),u=e("../../../selectors"),d=e("../../../helpers/utils/util"),p=e("../../../ducks/history/history"),f=e("../../../../shared/constants/time"),h=o(e("./select-hardware")),m=o(e("./account-list"));const b="U2F",g="m/44'/60'/0'",v=[{name:"Ledger Live",value:"m/44'/60'/0'/0/0"},{name:"Legacy (MEW / MyCrypto)",value:g},{name:"BIP44 Standard (e.g. MetaMask, Trezor)",value:"m/44'/60'/0'/0"}];class y extends i.Component{constructor(...e){super(...e),(0,a.default)(this,"state",{error:null,selectedAccounts:[],accounts:[],browserSupported:!0,unlocked:!1,device:null}),(0,a.default)(this,"connectToHardwareWallet",(e=>{this.setState({device:e}),this.state.accounts.length||this.getPage(e,0,this.props.defaultHdPaths[e])})),(0,a.default)(this,"onPathChange",(e=>{this.props.setHardwareWalletDefaultHdPath({device:this.state.device,path:e}),this.setState({selectedAccounts:[]}),this.getPage(this.state.device,0,e)})),(0,a.default)(this,"onAccountChange",(e=>{let{selectedAccounts:t}=this.state;t.includes(e)?t=t.filter((t=>e!==t)):t.push(e),this.setState({selectedAccounts:t,error:null})})),(0,a.default)(this,"onAccountRestriction",(()=>{this.setState({error:this.context.t("ledgerAccountRestriction")})})),(0,a.default)(this,"getPage",((e,t,n)=>{this.props.connectHardware(e,t,n).then((t=>{if(t.length){0!==this.state.accounts.length||this.state.unlocked||this.showTemporaryAlert();const n=t.map((e=>{var t;const n=e.address.toLowerCase(),r=(null===(t=this.props.accounts[n])||void 0===t?void 0:t.balance)||null;return e.balance=r?(0,d.formatBalance)(r,6):"...",e}));this.setState({accounts:n,unlocked:!0,device:e,error:null})}})).catch((e=>{const t="string"==typeof e?e:e.message;"Window blocked"===t?this.setState({browserSupported:!1,error:null}):t.includes(b)?this.setState({error:b}):"LEDGER_LOCKED"===t||"LEDGER_WRONG_APP"===t?this.setState({error:this.context.t("ledgerLocked")}):t.includes("timeout")?this.setState({error:this.context.t("ledgerTimeout")}):"Window closed"!==t&&"Popup closed"!==t&&this.setState({error:t})}))})),(0,a.default)(this,"onForgetDevice",(e=>{this.props.forgetDevice(e).then((e=>{this.setState({error:null,selectedAccounts:[],accounts:[],unlocked:!1})})).catch((e=>{this.setState({error:e.message})}))})),(0,a.default)(this,"onUnlockAccounts",((e,t)=>{const{history:n,mostRecentOverviewPage:r,unlockHardwareWalletAccounts:o}=this.props,{selectedAccounts:a}=this.state;0===a.length&&this.setState({error:this.context.t("accountSelectionRequired")});const i=g===t?this.context.t("hardwareWalletLegacyDescription"):"";return o(a,e,t||null,i).then((t=>{this.context.metricsEvent({eventOpts:{category:"Accounts",action:"Connected Hardware Wallet",name:`Connected Account with: ${e}`}}),n.push(r)})).catch((e=>{this.context.metricsEvent({eventOpts:{category:"Accounts",action:"Connected Hardware Wallet",name:"Error connecting hardware wallet"},customVariables:{error:e.message}}),this.setState({error:e.message})}))})),(0,a.default)(this,"onCancel",(()=>{const{history:e,mostRecentOverviewPage:t}=this.props;e.push(t)}))}UNSAFE_componentWillReceiveProps(e){const{accounts:t}=e,n=this.state.accounts.map((e=>{var n;const r=e.address.toLowerCase(),o=(null===(n=t[r])||void 0===n?void 0:n.balance)||null;return e.balance=o?(0,d.formatBalance)(o,6):"...",e}));this.setState({accounts:n})}componentDidMount(){this.checkIfUnlocked()}async checkIfUnlocked(){for(const e of["trezor","ledger"]){const t=this.props.defaultHdPaths[e];await this.props.checkHardwareStatus(e,t)&&(this.setState({unlocked:!0}),this.getPage(e,0,t))}}showTemporaryAlert(){this.props.showAlert(this.context.t("hardwareWalletConnected")),setTimeout((e=>{this.props.hideAlert()}),5*f.SECOND)}renderError(){return this.state.error===b?i.default.createElement("p",{className:"hw-connect__error"},this.context.t("troubleConnectingToWallet",[this.state.device,i.default.createElement("a",{href:"https://metamask.zendesk.com/hc/en-us/articles/360020394612-How-to-connect-a-Trezor-or-Ledger-Hardware-Wallet",key:"hardware-connection-guide",target:"_blank",rel:"noopener noreferrer",className:"hw-connect__link",style:{marginLeft:"5px",marginRight:"5px"}},this.context.t("walletConnectionGuide"))])):this.state.error?i.default.createElement("span",{className:"hw-connect__error"},this.state.error):null}renderContent(){return this.state.accounts.length?i.default.createElement(m.default,{onPathChange:this.onPathChange,selectedPath:this.props.defaultHdPaths[this.state.device],device:this.state.device,accounts:this.state.accounts,connectedAccounts:this.props.connectedAccounts,selectedAccounts:this.state.selectedAccounts,onAccountChange:this.onAccountChange,chainId:this.props.chainId,rpcPrefs:this.props.rpcPrefs,getPage:this.getPage,onUnlockAccounts:this.onUnlockAccounts,onForgetDevice:this.onForgetDevice,onCancel:this.onCancel,onAccountRestriction:this.onAccountRestriction,hdPaths:v}):i.default.createElement(h.default,{connectToHardwareWallet:this.connectToHardwareWallet,browserSupported:this.state.browserSupported,useLedgerLive:this.props.useLedgerLive})}render(){return i.default.createElement(i.default.Fragment,null,this.renderError(),this.renderContent())}}y.propTypes={connectHardware:s.default.func,checkHardwareStatus:s.default.func,forgetDevice:s.default.func,showAlert:s.default.func,hideAlert:s.default.func,unlockHardwareWalletAccounts:s.default.func,setHardwareWalletDefaultHdPath:s.default.func,history:s.default.object,chainId:s.default.string,rpcPrefs:s.default.object,accounts:s.default.object,connectedAccounts:s.default.array.isRequired,defaultHdPaths:s.default.object,mostRecentOverviewPage:s.default.string.isRequired,useLedgerLive:s.default.bool.isRequired};y.contextTypes={t:s.default.func,metricsEvent:s.default.func};var w=(0,c.connect)((e=>({chainId:(0,u.getCurrentChainId)(e),rpcPrefs:(0,u.getRpcPrefsForCurrentProvider)(e),accounts:(0,u.getMetaMaskAccounts)(e),connectedAccounts:(0,u.getMetaMaskAccountsConnected)(e),defaultHdPaths:e.appState.defaultHdPaths,mostRecentOverviewPage:(0,p.getMostRecentOverviewPage)(e),useLedgerLive:e.metamask.useLedgerLive})),(e=>({setHardwareWalletDefaultHdPath:({device:t,path:n})=>e(l.setHardwareWalletDefaultHdPath({device:t,path:n})),connectHardware:(t,n,r)=>e(l.connectHardware(t,n,r)),checkHardwareStatus:(t,n)=>e(l.checkHardwareStatus(t,n)),forgetDevice:t=>e(l.forgetDevice(t)),unlockHardwareWalletAccounts:(t,n,r,o)=>e(l.unlockHardwareWalletAccounts(t,n,r,o)),showAlert:t=>e(l.showAlert(t)),hideAlert:()=>e(l.hideAlert())})))(y);n.default=w},{file:"/home/circleci/project/ui/pages/create-account/connect-hardware/index.js"}],[4351,{"../contexts/i18n":4292,react:3454},function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.useI18nContext=function(){return(0,r.useContext)(o.I18nContext)};var r=e("react"),o=e("../contexts/i18n")},{file:"/home/circleci/project/ui/hooks/useI18nContext.js"}],[4354,{"../selectors":4642,"@babel/runtime/helpers/defineProperty":178,"@babel/runtime/helpers/interopRequireDefault":184,"react-redux":3421},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.useOriginMetadata=function(e){const t=(0,a.useSelector)(i.getDomainMetadata);if(!e)return null;const n=new URL(e),r={host:n.host,hostname:n.hostname,origin:e};if(null!=t&&t[e])return c(c({},r),t[e]);return r};var o=r(e("@babel/runtime/helpers/defineProperty")),a=e("react-redux"),i=e("../selectors");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},{file:"/home/circleci/project/ui/hooks/useOriginMetadata.js"}],[4171,{"./chip":4170,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./chip"))},{file:"/home/circleci/project/ui/components/ui/chip/index.js"}],[4161,{"./box":4160,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./box"))},{file:"/home/circleci/project/ui/components/ui/box/index.js"}],[4167,{"./callout":4166,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./callout"))},{file:"/home/circleci/project/ui/components/ui/callout/index.js"}],[4082,{"../../../../shared/constants/network":3916,"../../../helpers/constants/design-system":4314,"../../../hooks/useI18nContext":4351,"../../../selectors":4642,"../../ui/chip/chip":4170,"../../ui/color-indicator":4173,"../../ui/loading-indicator":4228,"@babel/runtime/helpers/defineProperty":178,"@babel/runtime/helpers/interopRequireDefault":184,classnames:1734,"prop-types":3233,react:3454,"react-redux":3421},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=v;var o=r(e("@babel/runtime/helpers/defineProperty")),a=r(e("react")),i=r(e("prop-types")),s=r(e("classnames")),c=e("react-redux"),l=e("../../../../shared/constants/network"),u=r(e("../../ui/loading-indicator")),d=r(e("../../ui/color-indicator")),p=e("../../../helpers/constants/design-system"),f=r(e("../../ui/chip/chip")),h=e("../../../hooks/useI18nContext"),m=e("../../../selectors");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v({colored:e,outline:t,iconClassName:n,indicatorSize:r,disabled:o,labelProps:i,targetNetwork:b,onClick:v}){const y=(0,c.useSelector)(m.isNetworkLoading),w=(0,c.useSelector)((e=>({nickname:e.metamask.provider.nickname,type:e.metamask.provider.type}))),E=(0,h.useI18nContext)(),{nickname:_,type:k}=null!=b?b:w;return a.default.createElement(f.default,{borderColor:t?p.COLORS.UI3:p.COLORS.TRANSPARENT,onClick:v,leftIcon:a.default.createElement(u.default,{alt:E("attemptingConnect"),title:E("attemptingConnect"),isLoading:y},a.default.createElement(d.default,{color:k===l.NETWORK_TYPE_RPC?p.COLORS.UI4:k,size:r,type:d.default.TYPES.FILLED,iconClassName:k===l.NETWORK_TYPE_RPC&&r!==p.SIZES.XS?"fa fa-question":void 0})),rightIcon:n&&a.default.createElement("i",{className:(0,s.default)("network-display__icon",n)}),label:k===l.NETWORK_TYPE_RPC?null!=_?_:E("privateNetwork"):E(k),className:(0,s.default)("network-display",{"network-display--colored":e,"network-display--disabled":o,[`network-display--${k}`]:e&&k,"network-display--clickable":"function"==typeof v}),labelProps:g({variant:p.TYPOGRAPHY.H7},i)})}v.propTypes={colored:i.default.bool,indicatorSize:i.default.oneOf(Object.values(p.SIZES)),labelProps:f.default.propTypes.labelProps,targetNetwork:i.default.shape({type:i.default.oneOf([...Object.values(l.NETWORK_TYPE_TO_ID_MAP),l.NETWORK_TYPE_RPC]),nickname:i.default.string}),outline:i.default.bool,disabled:i.default.bool,iconClassName:i.default.string,onClick:i.default.func},v.defaultProps={colored:!0,indicatorSize:p.SIZES.LG}},{file:"/home/circleci/project/ui/components/app/network-display/network-display.js"}],[4426,{"./confirmation-footer":4425,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./confirmation-footer"))},{file:"/home/circleci/project/ui/pages/confirmation/components/confirmation-footer/index.js"}],[4263,{"./site-icon":4264,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./site-icon"))},{file:"/home/circleci/project/ui/components/ui/site-icon/index.js"}],[4016,{"./metamask-template-renderer":4017,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./metamask-template-renderer"))},{file:"/home/circleci/project/ui/components/app/metamask-template-renderer/index.js"}],[4384,{"../../../components/app/transaction-list":4139,"../../../components/app/wallet-overview":4152,"../../../helpers/constants/routes":4317,"../../../hooks/useMetricEvent":4353,"../../../selectors/selectors":4644,"../../../store/actions":4647,"./asset-navigation":4381,"./asset-options":4382,"@babel/runtime/helpers/interopRequireDefault":184,"@metamask/etherscan-link":1251,"prop-types":3233,react:3454,"react-redux":3421,"react-router-dom":3432},function(e,t,n){(function(t){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=g;var o=r(e("react")),a=r(e("prop-types")),i=e("react-redux"),s=e("react-router-dom"),c=e("@metamask/etherscan-link"),l=r(e("../../../components/app/transaction-list")),u=e("../../../components/app/wallet-overview"),d=e("../../../selectors/selectors"),p=e("../../../helpers/constants/routes"),f=e("../../../store/actions"),h=e("../../../hooks/useMetricEvent"),m=r(e("./asset-navigation")),b=r(e("./asset-options"));function g({token:e}){var n;const r=(0,i.useDispatch)(),a=(0,i.useSelector)(d.getCurrentChainId),g=(0,i.useSelector)(d.getRpcPrefsForCurrentProvider),v=(0,i.useSelector)(d.getSelectedIdentity),y=v.name,w=v.address,E=(0,s.useHistory)(),_=(0,c.getTokenTrackerLink)(e.address,a,null,w,g),k=(0,h.useNewMetricEvent)({category:"Navigation",event:"Clicked Block Explorer Link",properties:{link_type:"Token Tracker",action:"Token Options",block_explorer_domain:_?null===(n=new URL(_))||void 0===n?void 0:n.hostname:""}});return o.default.createElement(o.default.Fragment,null,o.default.createElement(m.default,{accountName:y,assetName:e.symbol,onBack:()=>E.push(p.DEFAULT_ROUTE),optionsButton:o.default.createElement(b.default,{onRemove:()=>r((0,f.showModal)({name:"HIDE_TOKEN_CONFIRMATION",token:e})),isEthNetwork:!g.blockExplorerUrl,onClickBlockExplorer:()=>{k(),t.platform.openTab({url:_})},onViewAccountDetails:()=>{r((0,f.showModal)({name:"ACCOUNT_DETAILS"}))},tokenSymbol:e.symbol})}),o.default.createElement(u.TokenOverview,{className:"asset__overview",token:e}),o.default.createElement(l.default,{tokenAddress:e.address}))}g.propTypes={token:a.default.shape({address:a.default.string.isRequired,decimals:a.default.number,symbol:a.default.string}).isRequired}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{file:"/home/circleci/project/ui/pages/asset/components/token-asset.js"}],[4383,{"../../../components/app/transaction-list":4139,"../../../components/app/wallet-overview":4152,"../../../helpers/constants/routes":4317,"../../../hooks/useMetricEvent":4353,"../../../selectors/selectors":4644,"../../../store/actions":4647,"./asset-navigation":4381,"./asset-options":4382,"@babel/runtime/helpers/interopRequireDefault":184,"@metamask/etherscan-link":1251,"prop-types":3233,react:3454,"react-redux":3421,"react-router-dom":3432},function(e,t,n){(function(t){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=g;var o=r(e("react")),a=r(e("prop-types")),i=e("react-redux"),s=e("react-router-dom"),c=e("@metamask/etherscan-link"),l=r(e("../../../components/app/transaction-list")),u=e("../../../components/app/wallet-overview"),d=e("../../../selectors/selectors"),p=e("../../../store/actions"),f=e("../../../helpers/constants/routes"),h=e("../../../hooks/useMetricEvent"),m=r(e("./asset-navigation")),b=r(e("./asset-options"));function g({nativeCurrency:e}){var n;const r=(0,i.useSelector)((e=>(0,d.getSelectedIdentity)(e).name)),a=(0,i.useDispatch)(),g=(0,i.useSelector)(d.getCurrentChainId),v=(0,i.useSelector)(d.getRpcPrefsForCurrentProvider),y=(0,i.useSelector)(d.getSelectedAddress),w=(0,s.useHistory)(),E=(0,c.getAccountLink)(y,g,v),_=(0,h.useNewMetricEvent)({category:"Navigation",event:"Clicked Block Explorer Link",properties:{link_type:"Account Tracker",action:"Asset Options",block_explorer_domain:E?null===(n=new URL(E))||void 0===n?void 0:n.hostname:""}});return o.default.createElement(o.default.Fragment,null,o.default.createElement(m.default,{accountName:r,assetName:e,onBack:()=>w.push(f.DEFAULT_ROUTE),isEthNetwork:!v.blockExplorerUrl,optionsButton:o.default.createElement(b.default,{isNativeAsset:!0,onClickBlockExplorer:()=>{_(),t.platform.openTab({url:E})},onViewAccountDetails:()=>{a((0,p.showModal)({name:"ACCOUNT_DETAILS"}))}})}),o.default.createElement(u.EthOverview,{className:"asset__overview"}),o.default.createElement(l.default,{hideTokenTransactions:!0}))}g.propTypes={nativeCurrency:a.default.string.isRequired}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{file:"/home/circleci/project/ui/pages/asset/components/native-asset.js"}],[4503,{"../../../app/scripts/lib/util":78,"../../../shared/constants/app":3912,"../../../shared/constants/time":3919,"../../components/app/permission-page-container":4083,"../../helpers/constants/routes":4317,"./choose-account":4501,"./redirect":4505,"@babel/runtime/helpers/defineProperty":178,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,"prop-types":3233,react:3454,"react-router-dom":3432},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireWildcard"),o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(e("@babel/runtime/helpers/defineProperty")),i=o(e("prop-types")),s=r(e("react")),c=e("react-router-dom"),l=e("../../../app/scripts/lib/util"),u=e("../../../shared/constants/app"),d=e("../../../shared/constants/time"),p=e("../../helpers/constants/routes"),f=o(e("../../components/app/permission-page-container")),h=o(e("./choose-account")),m=o(e("./redirect"));const b=1200*d.MILLISECOND;class g extends s.Component{constructor(...e){super(...e),(0,a.default)(this,"state",{redirecting:!1,selectedAccountAddresses:new Set([this.props.currentAddress]),permissionsApproved:null,origin:this.props.origin,targetDomainMetadata:this.props.targetDomainMetadata||{}}),(0,a.default)(this,"beforeUnload",(()=>{const{permissionsRequestId:e,rejectPermissionsRequest:t}=this.props,{permissionsApproved:n}=this.state;null===n&&e&&t(e)})),(0,a.default)(this,"removeBeforeUnload",(()=>{(0,l.getEnvironmentType)()===u.ENVIRONMENT_TYPE_NOTIFICATION&&window.removeEventListener("beforeunload",this.beforeUnload)})),(0,a.default)(this,"selectAccounts",(e=>{this.setState({selectedAccountAddresses:e},(()=>this.props.history.push(this.props.confirmPermissionPath)))})),(0,a.default)(this,"cancelPermissionsRequest",(async e=>{const{rejectPermissionsRequest:t}=this.props;e&&(await t(e),this.redirect(!1))}))}componentDidMount(){const{getCurrentWindowTab:e,getRequestAccountTabIds:t,permissionsRequest:n,history:r}=this.props;if(e(),t(),!n)return void r.push(p.DEFAULT_ROUTE);(0,l.getEnvironmentType)()===u.ENVIRONMENT_TYPE_NOTIFICATION&&window.addEventListener("beforeunload",this.beforeUnload)}static getDerivedStateFromProps(e,t){const{permissionsRequest:n,targetDomainMetadata:r}=e,{targetDomainMetadata:o}=t;return n&&o.origin!==(null==r?void 0:r.origin)?{targetDomainMetadata:r}:null}componentDidUpdate(e){const{permissionsRequest:t,lastConnectedInfo:n}=this.props,{redirecting:r,origin:o}=this.state;if(!t&&e.permissionsRequest&&!r){var a,i;const t=((null===(a=n[o])||void 0===a?void 0:a.lastApproved)||0)>((null===(i=e.lastConnectedInfo[o])||void 0===i?void 0:i.lastApproved)||0);this.redirect(t)}}redirect(e){const{history:t}=this.props;this.setState({redirecting:!0,permissionsApproved:e}),this.removeBeforeUnload(),e?setTimeout((()=>t.push(p.DEFAULT_ROUTE)),b):t.push(p.DEFAULT_ROUTE)}goBack(){const{history:e,connectPath:t}=this.props;e.push(t)}renderTopBar(){const{redirecting:e}=this.state,{page:t}=this.props,{t:n}=this.context;return e?null:s.default.createElement("div",{className:"permissions-connect__top-bar"},"2"===t?s.default.createElement("div",{className:"permissions-connect__back",onClick:()=>this.goBack()},s.default.createElement("i",{className:"fas fa-chevron-left"}),n("back")):null,s.default.createElement("div",{className:"permissions-connect__page-count"},n("xOfY",[t,"2"])))}render(){const{approvePermissionsRequest:e,accounts:t,showNewAccountModal:n,newAccountNumber:r,nativeCurrency:o,permissionsRequest:a,addressLastConnectedMap:i,permissionsRequestId:l,connectPath:u,confirmPermissionPath:d}=this.props,{selectedAccountAddresses:p,permissionsApproved:b,redirecting:g,targetDomainMetadata:v}=this.state;return s.default.createElement("div",{className:"permissions-connect"},this.renderTopBar(),g&&b?s.default.createElement(m.default,{domainMetadata:v}):s.default.createElement(c.Switch,null,s.default.createElement(c.Route,{path:u,exact:!0,render:()=>s.default.createElement(h.default,{accounts:t,nativeCurrency:o,selectAccounts:e=>this.selectAccounts(e),selectNewAccountViaModal:e=>{n({onCreateNewAccount:t=>e(t),newAccountNumber:r})},addressLastConnectedMap:i,cancelPermissionsRequest:e=>this.cancelPermissionsRequest(e),permissionsRequestId:l,selectedAccountAddresses:p,targetDomainMetadata:v})}),s.default.createElement(c.Route,{path:d,exact:!0,render:()=>s.default.createElement(f.default,{request:a||{},approvePermissionsRequest:(...t)=>{e(...t),this.redirect(!0)},rejectPermissionsRequest:e=>this.cancelPermissionsRequest(e),selectedIdentities:t.filter((e=>p.has(e.address))),targetDomainMetadata:v})})))}}n.default=g,(0,a.default)(g,"propTypes",{approvePermissionsRequest:i.default.func.isRequired,rejectPermissionsRequest:i.default.func.isRequired,getRequestAccountTabIds:i.default.func.isRequired,getCurrentWindowTab:i.default.func.isRequired,accounts:i.default.array.isRequired,currentAddress:i.default.string.isRequired,origin:i.default.string,showNewAccountModal:i.default.func.isRequired,newAccountNumber:i.default.number.isRequired,nativeCurrency:i.default.string,permissionsRequest:i.default.object,addressLastConnectedMap:i.default.object.isRequired,lastConnectedInfo:i.default.object.isRequired,permissionsRequestId:i.default.string,history:i.default.object.isRequired,connectPath:i.default.string.isRequired,confirmPermissionPath:i.default.string.isRequired,page:i.default.string.isRequired,targetDomainMetadata:i.default.shape({extensionId:i.default.string,icon:i.default.string,host:i.default.string.isRequired,name:i.default.string.isRequired,origin:i.default.string.isRequired})}),(0,a.default)(g,"defaultProps",{origin:"",nativeCurrency:"",permissionsRequest:void 0,permissionsRequestId:""}),(0,a.default)(g,"contextTypes",{t:i.default.func})},{file:"/home/circleci/project/ui/pages/permissions-connect/permissions-connect.component.js"}],[4172,{"../../../helpers/constants/design-system":4314,"@babel/runtime/helpers/interopRequireDefault":184,classnames:1734,"prop-types":3233,react:3454},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var o=r(e("react")),a=r(e("classnames")),i=r(e("prop-types")),s=e("../../../helpers/constants/design-system");function c({size:e=s.SIZES.SM,type:t="outlined",color:n=s.COLORS.UI4,borderColor:r,iconClassName:i}){const c=(0,a.default)("color-indicator",{"color-indicator--filled":"filled"===t||Boolean(i),"color-indicator--partial-filled":"partial-filled"===t,[`color-indicator--border-color-${r}`]:Boolean(r),[`color-indicator--color-${n}`]:!0,[`color-indicator--size-${e}`]:!0});return o.default.createElement("div",{className:c},i?o.default.createElement("i",{className:(0,a.default)("color-indicator__icon",i)}):o.default.createElement("span",{className:"color-indicator__inner-circle"}))}c.TYPES={FILLED:"filled",PARTIAL:"partial-filled",OUTLINE:"outline"},c.propTypes={color:i.default.oneOf(Object.values(s.COLORS)),borderColor:i.default.oneOf(Object.values(s.COLORS)),size:i.default.oneOf(Object.values(s.SIZES)),iconClassName:i.default.string,type:i.default.oneOf(Object.values(c.TYPES))}},{file:"/home/circleci/project/ui/components/ui/color-indicator/color-indicator.js"}],[4015,{"@babel/runtime/helpers/defineProperty":178,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,"prop-types":3233,react:3454,"react-dom":3370,"react-transition-group/CSSTransitionGroup":3446},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireWildcard"),o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(e("@babel/runtime/helpers/defineProperty")),i=o(e("prop-types")),s=r(e("react")),c=e("react-dom"),l=o(e("react-transition-group/CSSTransitionGroup"));function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class p extends s.Component{constructor(...e){super(...e),(0,a.default)(this,"globalClickOccurred",(e=>{const{target:t}=e,n=(0,c.findDOMNode)(this);this.props.isOpen&&t!==n&&!function(e,t){let n=t.parentNode;for(;null!==n;){if(n===e)return!0;n=n.parentNode}return!1}(this.container,e.target)&&this.props.onClickOutside&&this.props.onClickOutside(e)}))}renderPrimary(){const{isOpen:e}=this.props;if(!e)return null;const t=this.props.innerStyle||{};return s.default.createElement("div",{className:"menu-droppo",key:"menu-droppo-drawer",style:t},this.props.children)}componentDidMount(){if(this&&document.body){document.body.addEventListener("click",this.globalClickOccurred);const e=(0,c.findDOMNode)(this);this.container=e}}componentWillUnmount(){this&&document.body&&document.body.removeEventListener("click",this.globalClickOccurred)}render(){const{containerClassName:e="",style:t}=this.props,n=this.props.speed||"300ms",{useCssTransition:r}=this.props,o="zIndex"in this.props?this.props.zIndex:0,a=d(d({position:"fixed"},t),{},{zIndex:o});return s.default.createElement("div",{style:a,className:`menu-droppo-container ${e}`},s.default.createElement("style",null,`\n          .menu-droppo-enter {\n            transition: transform ${n} ease-in-out;\n            transform: translateY(-200%);\n          }\n\n          .menu-droppo-enter.menu-droppo-enter-active {\n            transition: transform ${n} ease-in-out;\n            transform: translateY(0%);\n          }\n\n          .menu-droppo-leave {\n            transition: transform ${n} ease-in-out;\n            transform: translateY(0%);\n          }\n\n          .menu-droppo-leave.menu-droppo-leave-active {\n            transition: transform ${n} ease-in-out;\n            transform: translateY(-200%);\n          }\n        `),r?s.default.createElement(l.default,{className:"css-transition-group",transitionName:"menu-droppo",transitionEnterTimeout:parseInt(n,10),transitionLeaveTimeout:parseInt(n,10)},this.renderPrimary()):this.renderPrimary())}}n.default=p,(0,a.default)(p,"propTypes",{isOpen:i.default.bool.isRequired,innerStyle:i.default.object,children:i.default.node.isRequired,onClickOutside:i.default.func,containerClassName:i.default.string,zIndex:i.default.number,style:i.default.object.isRequired,useCssTransition:i.default.bool,speed:i.default.string})},{file:"/home/circleci/project/ui/components/app/menu-droppo.js"}],[4369,{"../../../app/scripts/lib/util":78,"../../../shared/modules/hexstring-utils":3926,"../../components/ui/actionable-message/actionable-message":4158,"../../components/ui/button":4165,"../../components/ui/page-container":4242,"../../components/ui/tabs":4269,"../../components/ui/text-field":4273,"../../components/ui/typography":4286,"../../helpers/constants/design-system":4314,"../../helpers/constants/routes":4317,"../../helpers/utils/token-util":4338,"../../helpers/utils/util":4341,"./token-list":4372,"./token-search":4377,"@babel/runtime/helpers/defineProperty":178,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,"@metamask/etherscan-link":1251,"prop-types":3233,react:3454},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireWildcard"),o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(e("@babel/runtime/helpers/defineProperty")),i=r(e("react")),s=o(e("prop-types")),c=e("@metamask/etherscan-link"),l=e("../../helpers/utils/util"),u=e("../../helpers/utils/token-util"),d=e("../../helpers/constants/routes"),p=o(e("../../components/ui/text-field")),f=o(e("../../components/ui/page-container")),h=e("../../components/ui/tabs"),m=e("../../../app/scripts/lib/util"),b=e("../../../shared/modules/hexstring-utils"),g=o(e("../../components/ui/actionable-message/actionable-message")),v=o(e("../../components/ui/typography")),y=e("../../helpers/constants/design-system"),w=o(e("../../components/ui/button")),E=o(e("./token-search")),_=o(e("./token-list"));function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class S extends i.Component{constructor(...e){super(...e),(0,a.default)(this,"state",{customAddress:"",customSymbol:"",customDecimals:0,searchResults:[],selectedTokens:{},tokenSelectorError:null,customAddressError:null,customSymbolError:null,customDecimalsError:null,forceEditSymbol:!1,symbolAutoFilled:!1,decimalAutoFilled:!1})}componentDidMount(){this.tokenInfoGetter=(0,u.tokenInfoGetter)();const{pendingTokens:e={}}=this.props,t=Object.keys(e);if(t.length>0){let n={},r={};t.forEach((t=>{const o=e[t],{isCustom:a}=o;a?r=T({},o):n=T(T({},n),{},{[t]:T({},o)})}));const{address:o="",symbol:a="",decimals:i=0}=r;this.setState({selectedTokens:n,customAddress:o,customSymbol:a,customDecimals:i})}}handleToggleToken(e){const{address:t}=e,{selectedTokens:n={}}=this.state,r=T({},n);t in r?delete r[t]:r[t]=e,this.setState({selectedTokens:r,tokenSelectorError:null})}hasError(){const{tokenSelectorError:e,customAddressError:t,customSymbolError:n,customDecimalsError:r}=this.state;return e||t||n||r}hasSelected(){const{customAddress:e="",selectedTokens:t={}}=this.state;return e||Object.keys(t).length>0}handleNext(){if(this.hasError())return;if(!this.hasSelected())return void this.setState({tokenSelectorError:this.context.t("mustSelectOne")});const{setPendingTokens:e,history:t}=this.props,{customAddress:n,customSymbol:r,customDecimals:o,selectedTokens:a}=this.state;e({customToken:{address:n,symbol:r,decimals:o},selectedTokens:a}),t.push(d.CONFIRM_ADD_TOKEN_ROUTE)}async attemptToAutoFillTokenParams(e){const{symbol:t="",decimals:n}=await this.tokenInfoGetter(e),r=Boolean(t),o=Boolean(n);this.setState({symbolAutoFilled:r,decimalAutoFilled:o}),this.handleCustomSymbolChange(t||""),this.handleCustomDecimalsChange(n)}handleCustomAddressChange(e){const t=e.trim();this.setState({customAddress:t,customAddressError:null,tokenSelectorError:null,symbolAutoFilled:!1,decimalAutoFilled:!1});const n=(0,b.isValidHexAddress)(t,{allowNonPrefixed:!1}),r=(0,m.addHexPrefix)(t).toLowerCase();switch(!0){case!n:this.setState({customAddressError:this.context.t("invalidAddress"),customSymbol:"",customDecimals:0,customSymbolError:null,customDecimalsError:null});break;case Boolean(this.props.identities[r]):this.setState({customAddressError:this.context.t("personalAddressDetected")});break;case(0,l.checkExistingAddresses)(t,this.props.tokens):this.setState({customAddressError:this.context.t("tokenAlreadyAdded")});break;default:"0x0000000000000000000000000000000000000000"!==t&&this.attemptToAutoFillTokenParams(t)}}handleCustomSymbolChange(e){const t=e.trim(),n=t.length;let r=null;(n<=0||n>=12)&&(r=this.context.t("symbolBetweenZeroTwelve")),this.setState({customSymbol:t,customSymbolError:r})}handleCustomDecimalsChange(e){let t,n=null;e?(t=Number(e.trim()),n=e<0||e>36?this.context.t("decimalsMustZerotoTen"):null):(t="",n=this.context.t("tokenDecimalFetchFailed")),this.setState({customDecimals:t,customDecimalsError:n})}renderCustomTokenForm(){var e;const{customAddress:t,customSymbol:n,customDecimals:r,customAddressError:o,customSymbolError:a,customDecimalsError:s,forceEditSymbol:l,symbolAutoFilled:u,decimalAutoFilled:d}=this.state,{chainId:f,rpcPrefs:h}=this.props,m=(0,c.getTokenTrackerLink)(t,f,null,null,{blockExplorerUrl:null!==(e=null==h?void 0:h.blockExplorerUrl)&&void 0!==e?e:null}),b=null!=h&&h.blockExplorerUrl?new URL(m).hostname:this.context.t("etherscan");return i.default.createElement("div",{className:"add-token__custom-token-form"},i.default.createElement(p.default,{id:"custom-address",label:this.context.t("tokenContractAddress"),type:"text",value:t,onChange:e=>this.handleCustomAddressChange(e.target.value),error:o,fullWidth:!0,autoFocus:!0,margin:"normal"}),i.default.createElement(p.default,{id:"custom-symbol",label:i.default.createElement("div",{className:"add-token__custom-symbol__label-wrapper"},i.default.createElement("span",{className:"add-token__custom-symbol__label"},this.context.t("tokenSymbol")),u&&!l&&i.default.createElement("div",{className:"add-token__custom-symbol__edit",onClick:()=>this.setState({forceEditSymbol:!0})},this.context.t("edit"))),type:"text",value:n,onChange:e=>this.handleCustomSymbolChange(e.target.value),error:a,fullWidth:!0,margin:"normal",disabled:u&&!l}),i.default.createElement(p.default,{id:"custom-decimals",label:this.context.t("decimal"),type:"number",value:r,onChange:e=>this.handleCustomDecimalsChange(e.target.value),error:r?s:null,fullWidth:!0,margin:"normal",disabled:d,min:0,max:36}),""===r&&i.default.createElement(g.default,{message:i.default.createElement(i.default.Fragment,null,i.default.createElement(v.default,{variant:y.TYPOGRAPHY.H7,fontWeight:y.FONT_WEIGHT.BOLD},this.context.t("tokenDecimalFetchFailed")),i.default.createElement(v.default,{variant:y.TYPOGRAPHY.H7,fontWeight:y.FONT_WEIGHT.NORMAL},this.context.t("verifyThisTokenDecimalOn",[i.default.createElement(w.default,{type:"link",key:"add-token-verify-token-decimal",className:"add-token__link",rel:"noopener noreferrer",target:"_blank",href:m},b)]))),type:"warning",withRightButton:!0,className:"add-token__decimal-warning"}))}renderSearchToken(){const{tokenSelectorError:e,selectedTokens:t,searchResults:n}=this.state;return i.default.createElement("div",{className:"add-token__search-token"},i.default.createElement(E.default,{onSearch:({results:e=[]})=>this.setState({searchResults:e}),error:e}),i.default.createElement("div",{className:"add-token__token-list"},i.default.createElement(_.default,{results:n,selectedTokens:t,onToggleToken:e=>this.handleToggleToken(e)})))}renderTabs(){const{showSearchTab:e}=this.props,t=[];return e&&t.push(i.default.createElement(h.Tab,{name:this.context.t("search"),key:"search-tab"},this.renderSearchToken())),t.push(i.default.createElement(h.Tab,{name:this.context.t("customToken"),key:"custom-tab"},this.renderCustomTokenForm())),i.default.createElement(h.Tabs,null,t)}render(){const{history:e,clearPendingTokens:t,mostRecentOverviewPage:n}=this.props;return i.default.createElement(f.default,{title:this.context.t("addTokens"),tabsComponent:this.renderTabs(),onSubmit:()=>this.handleNext(),disabled:Boolean(this.hasError())||!this.hasSelected(),onCancel:()=>{t(),e.push(n)}})}}(0,a.default)(S,"contextTypes",{t:s.default.func}),(0,a.default)(S,"propTypes",{history:s.default.object,setPendingTokens:s.default.func,pendingTokens:s.default.object,clearPendingTokens:s.default.func,tokens:s.default.array,identities:s.default.object,showSearchTab:s.default.bool.isRequired,mostRecentOverviewPage:s.default.string.isRequired,chainId:s.default.string,rpcPrefs:s.default.object});var O=S;n.default=O},{file:"/home/circleci/project/ui/pages/add-token/add-token.component.js"}],[3935,{"../../../../app/scripts/lib/util":78,"../../../../shared/constants/app":3912,"../../../helpers/constants/common":4312,"../../../helpers/constants/routes":4317,"../../ui/identicon":4219,"../../ui/search-icon":4258,"../../ui/site-icon":4263,"../../ui/text-field":4273,"../user-preferenced-currency-display":4143,"@babel/runtime/helpers/defineProperty":178,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,"@material-ui/core/InputAdornment":643,classnames:1734,"fuse.js":2214,lodash:2979,"prop-types":3233,react:3454},function(e,t,n){(function(t){"use strict";var r=e("@babel/runtime/helpers/interopRequireWildcard"),o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.AccountMenuItem=E,n.default=void 0;var a=o(e("@babel/runtime/helpers/defineProperty")),i=r(e("react")),s=o(e("prop-types")),c=e("lodash"),l=o(e("fuse.js")),u=o(e("@material-ui/core/InputAdornment")),d=o(e("classnames")),p=e("../../../../shared/constants/app"),f=e("../../../../app/scripts/lib/util"),h=o(e("../../ui/identicon")),m=o(e("../../ui/site-icon")),b=o(e("../user-preferenced-currency-display")),g=e("../../../helpers/constants/common"),v=e("../../../helpers/constants/routes"),y=o(e("../../ui/text-field")),w=o(e("../../ui/search-icon"));function E(e){const{icon:t,children:n,text:r,subText:o,className:a,onClick:s}=e,c=(0,d.default)("account-menu__item",a,{"account-menu__item--clickable":Boolean(s)});return n?i.default.createElement("div",{className:c,onClick:s},n):i.default.createElement("div",{className:c,onClick:s},t?i.default.createElement("div",{className:"account-menu__item__icon"},t):null,r?i.default.createElement("div",{className:"account-menu__item__text"},r):null,o?i.default.createElement("div",{className:"account-menu__item__subtext"},o):null)}E.propTypes={icon:s.default.node,children:s.default.node,text:s.default.node,subText:s.default.node,onClick:s.default.func,className:s.default.string};class _ extends i.Component{constructor(...e){super(...e),(0,a.default)(this,"accountsRef",void 0),(0,a.default)(this,"state",{shouldShowScrollButton:!1,searchQuery:""}),(0,a.default)(this,"addressFuse",new l.default([],{threshold:.45,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:[{name:"name",weight:.5},{name:"address",weight:.5}]})),(0,a.default)(this,"setShouldShowScrollButton",(()=>{if(!this.accountsRef)return;const{scrollTop:e,offsetHeight:t,scrollHeight:n}=this.accountsRef,r=n>t&&!(e+t>=n);this.setState({shouldShowScrollButton:r})})),(0,a.default)(this,"onScroll",(0,c.debounce)(this.setShouldShowScrollButton,25)),(0,a.default)(this,"handleScrollDown",(e=>{e.stopPropagation();const{scrollHeight:t}=this.accountsRef;this.accountsRef.scroll({left:0,top:t,behavior:"smooth"}),this.setShouldShowScrollButton()}))}componentDidUpdate(e,t){const{isAccountMenuOpen:n}=e,{searchQuery:r}=t,{isAccountMenuOpen:o}=this.props,{searchQuery:a}=this.state;!n&&o&&(this.setShouldShowScrollButton(),this.resetSearchQuery()),o&&r!==a&&this.setShouldShowScrollButton()}renderAccountsSearch(){const e=i.default.createElement(u.default,{position:"start",style:{maxHeight:"none",marginRight:0,marginLeft:"8px"}},i.default.createElement(w.default,null));return[i.default.createElement(y.default,{key:"search-text-field",id:"search-accounts",placeholder:this.context.t("searchAccounts"),type:"text",value:this.state.searchQuery,onChange:e=>this.setSearchQuery(e.target.value),startAdornment:e,fullWidth:!0,theme:"material-white-padded"}),i.default.createElement("div",{className:"account-menu__divider",key:"search-divider"})]}renderAccounts(){const{accounts:e,selectedAddress:t,keyrings:n,showAccountDetail:r,addressConnectedDomainMap:o,originOfCurrentTab:a}=this.props,{searchQuery:s}=this.state;let c=e;return s&&(this.addressFuse.setCollection(e),c=this.addressFuse.search(s)),0===c.length?i.default.createElement("p",{className:"account-menu__no-accounts"},this.context.t("noAccountsFound")):c.map((e=>{const s=e.address===t,c=e.address.substring(2).toLowerCase(),l=n.find((t=>t.accounts.includes(c)||t.accounts.includes(e.address))),u=(o[e.address]||{})[a];return i.default.createElement("div",{className:"account-menu__account account-menu__item--clickable",onClick:()=>{this.context.metricsEvent({eventOpts:{category:"Navigation",action:"Main Menu",name:"Switched Account"}}),r(e.address)},key:e.address},i.default.createElement("div",{className:"account-menu__check-mark"},s&&i.default.createElement("div",{className:"account-menu__check-mark-icon"})),i.default.createElement(h.default,{address:e.address,diameter:24}),i.default.createElement("div",{className:"account-menu__account-info"},i.default.createElement("div",{className:"account-menu__name"},e.name||""),i.default.createElement(b.default,{className:"account-menu__balance",value:e.balance,type:g.PRIMARY})),this.renderKeyringType(l),u?i.default.createElement("div",{className:"account-menu__icon-list"},i.default.createElement(m.default,{icon:u.icon,name:u.name,size:32})):null)}))}renderKeyringType(e){const{t:t}=this.context;if(!e)return null;const{type:n}=e;let r;switch(n){case"Trezor Hardware":case"Ledger Hardware":r=t("hardware");break;case"Simple Key Pair":r=t("imported");break;default:return null}return i.default.createElement("div",{className:"keyring-label allcaps"},r)}resetSearchQuery(){this.setSearchQuery("")}setSearchQuery(e){this.setState({searchQuery:e})}renderScrollButton(){return this.state.shouldShowScrollButton?i.default.createElement("div",{className:"account-menu__scroll-button",onClick:this.handleScrollDown},i.default.createElement("img",{src:"./images/icons/down-arrow.svg",width:"28",height:"28",alt:this.context.t("scrollDown")})):null}render(){const{t:e,metricsEvent:n}=this.context,{shouldShowAccountsSearch:r,isAccountMenuOpen:o,toggleAccountMenu:a,lockMetamask:s,history:c}=this.props;return o?i.default.createElement("div",{className:"account-menu"},i.default.createElement("div",{className:"account-menu__close-area",onClick:a}),i.default.createElement(E,{className:"account-menu__header"},e("myAccounts"),i.default.createElement("button",{className:"account-menu__lock-button",onClick:()=>{s(),c.push(v.DEFAULT_ROUTE)}},e("lock"))),i.default.createElement("div",{className:"account-menu__divider"}),i.default.createElement("div",{className:"account-menu__accounts-container"},r?this.renderAccountsSearch():null,i.default.createElement("div",{className:"account-menu__accounts",onScroll:this.onScroll,ref:e=>{this.accountsRef=e}},this.renderAccounts()),this.renderScrollButton()),i.default.createElement("div",{className:"account-menu__divider"}),i.default.createElement(E,{onClick:()=>{a(),n({eventOpts:{category:"Navigation",action:"Main Menu",name:"Clicked Create Account"}}),c.push(v.NEW_ACCOUNT_ROUTE)},icon:i.default.createElement("img",{className:"account-menu__item-icon",src:"images/plus-btn-white.svg",alt:e("createAccount")}),text:e("createAccount")}),i.default.createElement(E,{onClick:()=>{a(),n({eventOpts:{category:"Navigation",action:"Main Menu",name:"Clicked Import Account"}}),c.push(v.IMPORT_ACCOUNT_ROUTE)},icon:i.default.createElement("img",{className:"account-menu__item-icon",src:"images/import-account.svg",alt:e("importAccount")}),text:e("importAccount")}),i.default.createElement(E,{onClick:()=>{a(),n({eventOpts:{category:"Navigation",action:"Main Menu",name:"Clicked Connect Hardware"}}),(0,f.getEnvironmentType)()===p.ENVIRONMENT_TYPE_POPUP?t.platform.openExtensionInBrowser(v.CONNECT_HARDWARE_ROUTE):c.push(v.CONNECT_HARDWARE_ROUTE)},icon:i.default.createElement("img",{className:"account-menu__item-icon",src:"images/connect-icon.svg",alt:e("connectHardwareWallet")}),text:e("connectHardwareWallet")}),i.default.createElement("div",{className:"account-menu__divider"}),i.default.createElement(E,{onClick:()=>{t.platform.openTab({url:"https://support.metamask.io"})},icon:i.default.createElement("img",{src:"images/support.svg",alt:e("support")}),text:e("support")}),i.default.createElement(E,{onClick:()=>{a(),c.push(v.SETTINGS_ROUTE),this.context.metricsEvent({eventOpts:{category:"Navigation",action:"Main Menu",name:"Opened Settings"}})},icon:i.default.createElement("img",{className:"account-menu__item-icon",src:"images/settings.svg"}),text:e("settings")})):null}}n.default=_,(0,a.default)(_,"contextTypes",{t:s.default.func,metricsEvent:s.default.func}),(0,a.default)(_,"propTypes",{shouldShowAccountsSearch:s.default.bool,accounts:s.default.array,history:s.default.object,isAccountMenuOpen:s.default.bool,keyrings:s.default.array,lockMetamask:s.default.func,selectedAddress:s.default.string,showAccountDetail:s.default.func,toggleAccountMenu:s.default.func,addressConnectedDomainMap:s.default.object,originOfCurrentTab:s.default.string})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{file:"/home/circleci/project/ui/components/app/account-menu/account-menu.component.js"}],[3943,{"./invalid-custom-network-alert":3944,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./invalid-custom-network-alert"))},{file:"/home/circleci/project/ui/components/app/alerts/invalid-custom-network-alert/index.js"}],[3945,{"./unconnected-account-alert":3946,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./unconnected-account-alert"))},{file:"/home/circleci/project/ui/components/app/alerts/unconnected-account-alert/index.js"}],[3446,{"./CSSTransitionGroupChild":3447,"./TransitionGroup":3448,"./utils/PropTypes":3451,"prop-types":3233,react:3454},function(e,t,n){"use strict";n.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=l(e("react")),a=l(e("prop-types")),i=l(e("./TransitionGroup")),s=l(e("./CSSTransitionGroupChild")),c=e("./utils/PropTypes");function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}c.nameShape.isRequired,a.default.bool,a.default.bool,a.default.bool,(0,c.transitionTimeout)("Appear"),(0,c.transitionTimeout)("Enter"),(0,c.transitionTimeout)("Leave");var p=function(e){function t(){var n,r;u(this,t);for(var a=arguments.length,i=Array(a),c=0;c<a;c++)i[c]=arguments[c];return n=r=d(this,e.call.apply(e,[this].concat(i))),r._wrapChild=function(e){return o.default.createElement(s.default,{name:r.props.transitionName,appear:r.props.transitionAppear,enter:r.props.transitionEnter,leave:r.props.transitionLeave,appearTimeout:r.props.transitionAppearTimeout,enterTimeout:r.props.transitionEnterTimeout,leaveTimeout:r.props.transitionLeaveTimeout},e)},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return o.default.createElement(i.default,r({},this.props,{childFactory:this._wrapChild}))},t}(o.default.Component);p.displayName="CSSTransitionGroup",p.propTypes={},p.defaultProps={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0},n.default=p,t.exports=n.default},{file:"/home/circleci/project/node_modules/react-transition-group/CSSTransitionGroup.js"}],[4002,{"./gas-modal-page-container.container":4001,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./gas-modal-page-container.container"))},{file:"/home/circleci/project/ui/components/app/gas-customization/gas-modal-page-container/index.js"}],[4579,{"../../components/app/tab-bar":4112,"../../helpers/constants/routes":4317,"./advanced-tab":4549,"./alerts-tab":4551,"./contact-list-tab":4560,"./info-tab":4565,"./networks-tab":4567,"./security-tab":4573,"./settings-tab":4576,"@babel/runtime/helpers/defineProperty":178,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,classnames:1734,"prop-types":3233,react:3454,"react-router-dom":3432},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireWildcard"),o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(e("@babel/runtime/helpers/defineProperty")),i=r(e("react")),s=o(e("prop-types")),c=e("react-router-dom"),l=o(e("classnames")),u=o(e("../../components/app/tab-bar")),d=e("../../helpers/constants/routes"),p=o(e("./settings-tab")),f=o(e("./alerts-tab")),h=o(e("./networks-tab")),m=o(e("./advanced-tab")),b=o(e("./info-tab")),g=o(e("./security-tab")),v=o(e("./contact-list-tab"));class y extends i.PureComponent{render(){const{history:e,backRoute:t,currentPath:n,mostRecentOverviewPage:r}=this.props;return i.default.createElement("div",{className:(0,l.default)("main-container settings-page",{"settings-page--selected":n!==d.SETTINGS_ROUTE})},i.default.createElement("div",{className:"settings-page__header"},n!==d.SETTINGS_ROUTE&&i.default.createElement("div",{className:"settings-page__back-button",onClick:()=>e.push(t)}),this.renderTitle(),i.default.createElement("div",{className:"settings-page__close-button",onClick:()=>e.push(r)})),i.default.createElement("div",{className:"settings-page__content"},i.default.createElement("div",{className:"settings-page__content__tabs"},this.renderTabs()),i.default.createElement("div",{className:"settings-page__content__modules"},this.renderSubHeader(),this.renderContent())))}renderTitle(){const{t:e}=this.context,{isPopup:t,pathnameI18nKey:n,addressName:r}=this.props;let o;return o=t&&r?r:e(n&&t?n:"settings"),i.default.createElement("div",{className:"settings-page__header__title"},o)}renderSubHeader(){const{t:e}=this.context,{currentPath:t,isPopup:n,isAddressEntryPage:r,pathnameI18nKey:o,addressName:a,initialBreadCrumbRoute:s,breadCrumbTextKey:c,history:u,initialBreadCrumbKey:p}=this.props;let f;return f=e(n&&r?"settings":p||(o||"contacts")),!t.startsWith(d.NETWORKS_ROUTE)&&i.default.createElement("div",{className:"settings-page__subheader"},i.default.createElement("div",{className:(0,l.default)({"settings-page__subheader--link":s}),onClick:()=>s&&u.push(s)},f),c&&i.default.createElement("div",{className:"settings-page__subheader--break"},i.default.createElement("span",null," > "),e(c)),r&&i.default.createElement("div",{className:"settings-page__subheader--break"},i.default.createElement("span",null," > "),a))}renderTabs(){const{history:e,currentPath:t}=this.props,{t:n}=this.context;return i.default.createElement(u.default,{tabs:[{content:n("general"),description:n("generalSettingsDescription"),key:d.GENERAL_ROUTE},{content:n("advanced"),description:n("advancedSettingsDescription"),key:d.ADVANCED_ROUTE},{content:n("contacts"),description:n("contactsSettingsDescription"),key:d.CONTACT_LIST_ROUTE},{content:n("securityAndPrivacy"),description:n("securitySettingsDescription"),key:d.SECURITY_ROUTE},{content:n("alerts"),description:n("alertsSettingsDescription"),key:d.ALERTS_ROUTE},{content:n("networks"),description:n("networkSettingsDescription"),key:d.NETWORKS_ROUTE},{content:n("about"),description:n("aboutSettingsDescription"),key:d.ABOUT_US_ROUTE}],isActive:e=>e===d.GENERAL_ROUTE&&t===d.SETTINGS_ROUTE||(0,c.matchPath)(t,{path:e,exact:!0}),onSelect:t=>e.push(t)})}renderContent(){return i.default.createElement(c.Switch,null,i.default.createElement(c.Route,{exact:!0,path:d.GENERAL_ROUTE,component:p.default}),i.default.createElement(c.Route,{exact:!0,path:d.ABOUT_US_ROUTE,component:b.default}),i.default.createElement(c.Route,{exact:!0,path:d.ADVANCED_ROUTE,component:m.default}),i.default.createElement(c.Route,{exact:!0,path:d.ALERTS_ROUTE,component:f.default}),i.default.createElement(c.Route,{path:d.NETWORKS_ROUTE,component:h.default}),i.default.createElement(c.Route,{exact:!0,path:d.SECURITY_ROUTE,component:g.default}),i.default.createElement(c.Route,{exact:!0,path:d.CONTACT_LIST_ROUTE,component:v.default}),i.default.createElement(c.Route,{exact:!0,path:d.CONTACT_ADD_ROUTE,component:v.default}),i.default.createElement(c.Route,{exact:!0,path:`${d.CONTACT_EDIT_ROUTE}/:id`,component:v.default}),i.default.createElement(c.Route,{exact:!0,path:`${d.CONTACT_VIEW_ROUTE}/:id`,component:v.default}),i.default.createElement(c.Route,{component:p.default}))}}(0,a.default)(y,"propTypes",{addressName:s.default.string,backRoute:s.default.string,currentPath:s.default.string,history:s.default.object,isAddressEntryPage:s.default.bool,isPopup:s.default.bool,pathnameI18nKey:s.default.string,initialBreadCrumbRoute:s.default.string,breadCrumbTextKey:s.default.string,initialBreadCrumbKey:s.default.string,mostRecentOverviewPage:s.default.string.isRequired}),(0,a.default)(y,"contextTypes",{t:s.default.func});var w=y;n.default=w},{file:"/home/circleci/project/ui/pages/settings/settings.component.js"}],[4335,{},function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=()=>window.matchMedia("screen and (max-width: 575px)").matches;n.default=r},{file:"/home/circleci/project/ui/helpers/utils/is-mobile-view.js"}],[4059,{"@babel/runtime/helpers/defineProperty":178,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,"prop-types":3233,react:3454},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireWildcard"),o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(e("@babel/runtime/helpers/defineProperty")),i=r(e("react")),s=o(e("prop-types"));function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let u,d=0;const p=e=>{const t=`anim_${++d}${Number(new Date)}`;let n=`@keyframes ${t} {`;return Object.keys(e).forEach((t=>{n+=`${t} {`,Object.keys(e[t]).forEach((r=>{const o=`:${e[t][r]};`;n+=r+o})),n+="}"})),n+="}",(e=>{u||(u=document.createElement("style"),document.getElementsByTagName("head")[0].appendChild(u),u=u.sheet||u.styleSheet),u.insertRule(e,(u.cssRules||u.rules).length)})(n),t},f={show:{animationDuration:"0.3s",animationTimingFunction:"ease-out"},hide:{animationDuration:"0.3s",animationTimingFunction:"ease-out"},showContentAnimation:p({"0%":{opacity:0},"100%":{opacity:1}}),hideContentAnimation:p({"0%":{opacity:1},"100%":{opacity:0}}),showBackdropAnimation:p({"0%":{opacity:0},"100%":{opacity:.9}}),hideBackdropAnimation:p({"0%":{opacity:.9},"100%":{opacity:0}})},h=["transitionend","animationend"];class m extends i.Component{constructor(...e){super(...e),(0,a.default)(this,"content",null),(0,a.default)(this,"state",{willHide:!0,hidden:!0}),(0,a.default)(this,"addTransitionListener",((e,t)=>{if(e){const n=function(r){r&&r.target!==e||(((e,t)=>{0!==h.length&&h.forEach((function(n){!function(e,t,n){e.removeEventListener(t,n,!1)}(e,n,t)}))})(e,n),t())};((e,t)=>{0!==h.length?h.forEach((function(n){!function(e,t,n){e.addEventListener(t,n,!1)}(e,n,t)})):window.setTimeout(t,0)})(e,n)}})),(0,a.default)(this,"handleBackdropClick",(()=>{this.props.closeOnClick&&this.hide()})),(0,a.default)(this,"hasHidden",(()=>this.state.hidden)),(0,a.default)(this,"leave",(()=>{this.setState({hidden:!0}),this.props.onHide(this.state.hideSource)})),(0,a.default)(this,"enter",(()=>{this.props.onShow()})),(0,a.default)(this,"show",(()=>{this.state.hidden&&(this.setState({willHide:!1,hidden:!1}),setTimeout(function(){this.addTransitionListener(this.content,this.enter)}.bind(this),0))})),(0,a.default)(this,"hide",(()=>{this.hasHidden()||this.setState({willHide:!0})})),(0,a.default)(this,"listenKeyboard",(e=>{"function"==typeof this.props.keyboard?this.props.keyboard(e):this.closeOnEsc(e)})),(0,a.default)(this,"closeOnEsc",(e=>{!this.props.keyboard||"Escape"!==e.key&&27!==e.keyCode||this.hide()})),(0,a.default)(this,"UNSAFE_componentDidMount",(()=>{window.addEventListener("keydown",this.listenKeyboard,!0)})),(0,a.default)(this,"UNSAFE_componentWillUnmount",(()=>{window.removeEventListener("keydown",this.listenKeyboard,!0)}))}render(){if(this.state.hidden)return null;const{willHide:e}=this.state,{modalStyle:t}=this.props,n=l({animationName:e?f.hideBackdropAnimation:f.showBackdropAnimation,animationTimingFunction:(e?f.hide:f.show).animationTimingFunction},this.props.backdropStyle),r=l({animationDuration:(e?f.hide:f.show).animationDuration,animationName:e?f.hideContentAnimation:f.showContentAnimation,animationTimingFunction:(e?f.hide:f.show).animationTimingFunction},this.props.contentStyle),o=this.props.backdrop?i.default.createElement("div",{className:"modal__backdrop",style:n,onClick:this.props.closeOnClick?this.handleBackdropClick:null}):void 0;return e&&this.addTransitionListener(this.content,this.leave),i.default.createElement("span",null,i.default.createElement("div",{className:"modal",style:t},i.default.createElement("div",{className:"modal__content",ref:e=>this.content=e,tabIndex:"-1",style:r},this.props.children)),o)}}(0,a.default)(m,"propTypes",{backdrop:s.default.bool,backdropStyle:s.default.object,closeOnClick:s.default.bool,contentStyle:s.default.object,keyboard:s.default.bool,modalStyle:s.default.object,onShow:s.default.func,onHide:s.default.func,children:s.default.node}),(0,a.default)(m,"defaultProps",{onShow:()=>{},onHide:()=>{},keyboard:!0,backdrop:!0,closeOnClick:!0,modalStyle:{},backdropStyle:{},contentStyle:{},children:[]});var b=m;n.default=b},{file:"/home/circleci/project/ui/components/app/modals/fade-modal.js"}],[4061,{"./hide-token-confirmation-modal":4060,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./hide-token-confirmation-modal"))},{file:"/home/circleci/project/ui/components/app/modals/hide-token-confirmation-modal/index.js"}],[4052,{"./deposit-ether-modal.container":4051,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./deposit-ether-modal.container"))},{file:"/home/circleci/project/ui/components/app/modals/deposit-ether-modal/index.js"}],[4044,{"./confirm-remove-account.container":4043,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./confirm-remove-account.container"))},{file:"/home/circleci/project/ui/components/app/modals/confirm-remove-account/index.js"}],[4070,{"./qr-scanner.container":4072,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=r(e("./qr-scanner.container")).default;n.default=o},{file:"/home/circleci/project/ui/components/app/modals/qr-scanner/index.js"}],[4047,{"./confirm-reset-account.container":4046,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./confirm-reset-account.container"))},{file:"/home/circleci/project/ui/components/app/modals/confirm-reset-account/index.js"}],[4076,{"./transaction-confirmed.container":4078,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./transaction-confirmed.container"))},{file:"/home/circleci/project/ui/components/app/modals/transaction-confirmed/index.js"}],[4063,{"./metametrics-opt-in-modal.container":4065,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./metametrics-opt-in-modal.container"))},{file:"/home/circleci/project/ui/components/app/modals/metametrics-opt-in-modal/index.js"}],[4073,{"./reject-transactions.container":4075,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./reject-transactions.container"))},{file:"/home/circleci/project/ui/components/app/modals/reject-transactions/index.js"}],[4033,{"./add-to-addressbook-modal.container":4032,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./add-to-addressbook-modal.container"))},{file:"/home/circleci/project/ui/components/app/modals/add-to-addressbook-modal/index.js"}],[4055,{"./edit-approval-permission.container":4054,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./edit-approval-permission.container"))},{file:"/home/circleci/project/ui/components/app/modals/edit-approval-permission/index.js"}],[4067,{"./new-account-modal.container":4069,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./new-account-modal.container"))},{file:"/home/circleci/project/ui/components/app/modals/new-account-modal/index.js"}],[4041,{"./confirm-delete-network.container":4040,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./confirm-delete-network.container"))},{file:"/home/circleci/project/ui/components/app/modals/confirm-delete-network/index.js"}],[4058,{"./export-private-key-modal.container":4057,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./export-private-key-modal.container"))},{file:"/home/circleci/project/ui/components/app/modals/export-private-key-modal/index.js"}],[4049,{"./customize-nonce.component":4048,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./customize-nonce.component"))},{file:"/home/circleci/project/ui/components/app/modals/customize-nonce/index.js"}],[4027,{"./account-details-modal.container":4026,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./account-details-modal.container"))},{file:"/home/circleci/project/ui/components/app/modals/account-details-modal/index.js"}],[4038,{"./cancel-transaction.container":4037,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./cancel-transaction.container"))},{file:"/home/circleci/project/ui/components/app/modals/cancel-transaction/index.js"}],[4629,{"./swaps-gas-customization-modal.container":4631,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./swaps-gas-customization-modal.container"))},{file:"/home/circleci/project/ui/pages/swaps/swaps-gas-customization-modal/index.js"}],[4389,{"../../components/ui/button":4165,"../../components/ui/identicon":4219,"../../components/ui/token-balance":4277,"../../helpers/constants/routes":4317,"@babel/runtime/helpers/defineProperty":178,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,"prop-types":3233,react:3454},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireWildcard"),o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(e("@babel/runtime/helpers/defineProperty")),i=r(e("react")),s=o(e("prop-types")),c=e("../../helpers/constants/routes"),l=o(e("../../components/ui/button")),u=o(e("../../components/ui/identicon")),d=o(e("../../components/ui/token-balance"));class p extends i.Component{componentDidMount(){const{mostRecentOverviewPage:e,pendingTokens:t={},history:n}=this.props;0===Object.keys(t).length&&n.push(e)}getTokenName(e,t){return void 0===e?t:`${e} (${t})`}render(){const{history:e,addTokens:t,clearPendingTokens:n,mostRecentOverviewPage:r,pendingTokens:o}=this.props;return i.default.createElement("div",{className:"page-container"},i.default.createElement("div",{className:"page-container__header"},i.default.createElement("div",{className:"page-container__title"},this.context.t("addTokens")),i.default.createElement("div",{className:"page-container__subtitle"},this.context.t("likeToAddTokens"))),i.default.createElement("div",{className:"page-container__content"},i.default.createElement("div",{className:"confirm-add-token"},i.default.createElement("div",{className:"confirm-add-token__header"},i.default.createElement("div",{className:"confirm-add-token__token"},this.context.t("token")),i.default.createElement("div",{className:"confirm-add-token__balance"},this.context.t("balance"))),i.default.createElement("div",{className:"confirm-add-token__token-list"},Object.entries(o).map((([e,t])=>{const{name:n,symbol:r}=t;return i.default.createElement("div",{className:"confirm-add-token__token-list-item",key:e},i.default.createElement("div",{className:"confirm-add-token__token confirm-add-token__data"},i.default.createElement(u.default,{className:"confirm-add-token__token-icon",diameter:48,address:e}),i.default.createElement("div",{className:"confirm-add-token__name"},this.getTokenName(n,r))),i.default.createElement("div",{className:"confirm-add-token__balance"},i.default.createElement(d.default,{token:t})))}))))),i.default.createElement("div",{className:"page-container__footer"},i.default.createElement("footer",null,i.default.createElement(l.default,{type:"default",large:!0,className:"page-container__footer-button",onClick:()=>e.push(c.ADD_TOKEN_ROUTE)},this.context.t("back")),i.default.createElement(l.default,{type:"secondary",large:!0,className:"page-container__footer-button",onClick:()=>{t(o).then((()=>{var t;const a=Object.values(o);a.forEach((e=>{this.context.trackEvent({event:"Token Added",category:"Wallet",sensitiveProperties:{token_symbol:e.symbol,token_contract_address:e.address,token_decimal_precision:e.decimals,unlisted:e.unlisted,source:e.isCustom?"custom":"list"}})})),n();const i=null==a||null===(t=a[0].address)||void 0===t?void 0:t.toLowerCase();i?e.push(`${c.ASSET_ROUTE}/${i}`):e.push(r)}))}},this.context.t("addTokens")))))}}n.default=p,(0,a.default)(p,"contextTypes",{t:s.default.func,trackEvent:s.default.func}),(0,a.default)(p,"propTypes",{history:s.default.object,clearPendingTokens:s.default.func,addTokens:s.default.func,mostRecentOverviewPage:s.default.string.isRequired,pendingTokens:s.default.object})},{file:"/home/circleci/project/ui/pages/confirm-add-token/confirm-add-token.component.js"}],[4464,{"../../helpers/constants/routes":4317,"../unlock-page":4636,"./create-password":4455,"./end-of-flow":4460,"./first-time-flow-switch":4463,"./metametrics-opt-in":4467,"./seed-phrase":4475,"./select-action":4482,"./welcome":4485,"@babel/runtime/helpers/defineProperty":178,"@babel/runtime/helpers/extends":179,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,"prop-types":3233,react:3454,"react-router-dom":3432},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireWildcard"),o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(e("@babel/runtime/helpers/extends")),i=o(e("@babel/runtime/helpers/defineProperty")),s=r(e("react")),c=o(e("prop-types")),l=e("react-router-dom"),u=o(e("../unlock-page")),d=e("../../helpers/constants/routes"),p=o(e("./first-time-flow-switch")),f=o(e("./welcome")),h=o(e("./select-action")),m=o(e("./end-of-flow")),b=o(e("./create-password")),g=o(e("./seed-phrase")),v=o(e("./metametrics-opt-in"));class y extends s.PureComponent{constructor(...e){super(...e),(0,i.default)(this,"state",{seedPhrase:""}),(0,i.default)(this,"handleCreateNewAccount",(async e=>{const{createNewAccount:t}=this.props;try{const n=await t(e);this.setState({seedPhrase:n})}catch(e){throw new Error(e.message)}})),(0,i.default)(this,"handleImportWithSeedPhrase",(async(e,t)=>{const{createNewAccountFromSeed:n}=this.props;try{return await n(e,t)}catch(e){throw new Error(e.message)}})),(0,i.default)(this,"handleUnlock",(async e=>{const{unlockAccount:t,history:n,nextRoute:r}=this.props;try{const o=await t(e);this.setState({seedPhrase:o},(()=>{n.push(r)}))}catch(e){throw new Error(e.message)}}))}componentDidMount(){const{completedOnboarding:e,history:t,isInitialized:n,isUnlocked:r,showingSeedPhraseBackupAfterOnboarding:o,seedPhraseBackedUp:a}=this.props;!e||o&&!a?n&&!r&&t.push(d.INITIALIZE_UNLOCK_ROUTE):t.push(d.DEFAULT_ROUTE)}render(){const{seedPhrase:e}=this.state,{verifySeedPhrase:t}=this.props;return s.default.createElement("div",{className:"first-time-flow"},s.default.createElement(l.Switch,null,s.default.createElement(l.Route,{path:d.INITIALIZE_SEED_PHRASE_ROUTE,render:n=>s.default.createElement(g.default,(0,a.default)({},n,{seedPhrase:e,verifySeedPhrase:t}))}),s.default.createElement(l.Route,{path:d.INITIALIZE_BACKUP_SEED_PHRASE_ROUTE,render:n=>s.default.createElement(g.default,(0,a.default)({},n,{seedPhrase:e,verifySeedPhrase:t}))}),s.default.createElement(l.Route,{path:d.INITIALIZE_SEED_PHRASE_INTRO_ROUTE,render:n=>s.default.createElement(g.default,(0,a.default)({},n,{seedPhrase:e,verifySeedPhrase:t}))}),s.default.createElement(l.Route,{path:d.INITIALIZE_CREATE_PASSWORD_ROUTE,render:e=>s.default.createElement(b.default,(0,a.default)({},e,{onCreateNewAccount:this.handleCreateNewAccount,onCreateNewAccountFromSeed:this.handleImportWithSeedPhrase}))}),s.default.createElement(l.Route,{path:d.INITIALIZE_SELECT_ACTION_ROUTE,component:h.default}),s.default.createElement(l.Route,{path:d.INITIALIZE_UNLOCK_ROUTE,render:e=>s.default.createElement(u.default,(0,a.default)({},e,{onSubmit:this.handleUnlock}))}),s.default.createElement(l.Route,{exact:!0,path:d.INITIALIZE_END_OF_FLOW_ROUTE,component:m.default}),s.default.createElement(l.Route,{exact:!0,path:d.INITIALIZE_WELCOME_ROUTE,component:f.default}),s.default.createElement(l.Route,{exact:!0,path:d.INITIALIZE_METAMETRICS_OPT_IN_ROUTE,component:v.default}),s.default.createElement(l.Route,{exact:!0,path:"*",component:p.default})))}}n.default=y,(0,i.default)(y,"propTypes",{completedOnboarding:c.default.bool,createNewAccount:c.default.func,createNewAccountFromSeed:c.default.func,history:c.default.object,isInitialized:c.default.bool,isUnlocked:c.default.bool,unlockAccount:c.default.func,nextRoute:c.default.string,showingSeedPhraseBackupAfterOnboarding:c.default.bool,seedPhraseBackedUp:c.default.bool,verifySeedPhrase:c.default.func})},{file:"/home/circleci/project/ui/pages/first-time-flow/first-time-flow.component.js"}],[4347,{lodash:2979,react:3454},function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.useEqualityCheck=function(e,t=o.isEqual){const[n,a]=(0,r.useState)(e);return(0,r.useLayoutEffect)((()=>{t(e,n)||a(e)}),[e,t,n]),n};var r=e("react"),o=e("lodash")},{file:"/home/circleci/project/ui/hooks/useEqualityCheck.js"}],[4356,{"../store/actions":4647,react:3454},function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.useSafeGasEstimatePolling=function(){(0,r.useEffect)((()=>{let e,t=!0;const n=()=>{t=!1,e&&((0,o.disconnectGasFeeEstimatePoller)(e),(0,o.removePollingTokenFromAppState)(e))};return(0,o.getGasFeeEstimatesAndStartPolling)().then((n=>{t?(e=n,(0,o.addPollingTokenToAppState)(e)):((0,o.disconnectGasFeeEstimatePoller)(n),(0,o.removePollingTokenFromAppState)(e))})),window.addEventListener("beforeunload",n),()=>{n(),window.removeEventListener("beforeunload",n)}}),[])};var r=e("react"),o=e("../store/actions")},{file:"/home/circleci/project/ui/hooks/useSafeGasEstimatePolling.js"}],[4581,{"../../../components/ui/box":4161,"../../../components/ui/pulse-loader":4251,"../../../components/ui/typography":4286,"../../../contexts/i18n":4292,"../../../ducks/swaps/swaps":4310,"../../../helpers/constants/design-system":4314,"../../../helpers/constants/routes":4317,"../../../hooks/useMetricEvent":4353,"../../../selectors/selectors":4644,"../swaps-footer":4627,"./swap-step-icon":4583,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,react:3454,"react-redux":3421,"react-router-dom":3432},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault"),o=e("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,a.useContext)(c.I18nContext),t=(0,s.useHistory)(),n=(0,i.useDispatch)(),r=(0,i.useSelector)(u.getFetchParams),{destinationTokenInfo:o,sourceTokenInfo:y}=(null==r?void 0:r.metaData)||{},w=(0,i.useSelector)(u.getApproveTxParams),E=(0,i.useSelector)(d.isHardwareWallet),_=(0,i.useSelector)(d.getHardwareWalletType),k=Boolean(w),T=(0,l.useNewMetricEvent)({event:"Awaiting Signature(s) on a HW wallet",sensitiveProperties:{needs_two_confirmations:k,token_from:null==y?void 0:y.symbol,token_from_amount:null==r?void 0:r.value,token_to:null==o?void 0:o.symbol,request_type:null!=r&&r.balanceError?"Quote":"Order",slippage:null==r?void 0:r.slippage,custom_slippage:2===(null==r?void 0:r.slippage),is_hardware_wallet:E,hardware_wallet_type:_},category:"swaps"});(0,a.useEffect)((()=>{T()}),[]);const S=e(k?"swapTwoTransactions":"swapConfirmWithHwWallet");return a.default.createElement("div",{className:"awaiting-signatures"},a.default.createElement(m.default,{paddingLeft:8,paddingRight:8,height:b.BLOCK_SIZES.FULL,justifyContent:b.JUSTIFY_CONTENT.CENTER,display:b.DISPLAY.FLEX,className:"awaiting-signatures__content"},a.default.createElement(m.default,{marginTop:3,marginBottom:4},a.default.createElement(f.default,null)),a.default.createElement(h.default,{color:b.COLORS.BLACK,variant:b.TYPOGRAPHY.H3},S),k&&a.default.createElement(a.default.Fragment,null,a.default.createElement(h.default,{variant:b.TYPOGRAPHY.Paragraph,boxProps:{marginTop:2},fontWeight:b.FONT_WEIGHT.BOLD},e("swapToConfirmWithHwWallet")),a.default.createElement("ul",{className:"awaiting-signatures__steps"},a.default.createElement("li",null,a.default.createElement(v.default,{stepNumber:1}),e("swapAllowSwappingOf",[a.default.createElement(h.default,{tag:"span",fontWeight:b.FONT_WEIGHT.BOLD,key:"allowToken"},null==o?void 0:o.symbol)])),a.default.createElement("li",null,a.default.createElement(v.default,{stepNumber:2}),e("swapFromTo",[a.default.createElement(h.default,{tag:"span",fontWeight:b.FONT_WEIGHT.BOLD,key:"tokenFrom"},null==y?void 0:y.symbol),a.default.createElement(h.default,{tag:"span",fontWeight:b.FONT_WEIGHT.BOLD,key:"tokenTo"},null==o?void 0:o.symbol)]))),a.default.createElement(h.default,{variant:b.TYPOGRAPHY.Paragraph},e("swapGasFeesSplit")))),a.default.createElement(g.default,{onSubmit:async()=>{await n((0,u.prepareToLeaveSwaps)()),t.push(p.DEFAULT_ROUTE),t.push(p.BUILD_QUOTE_ROUTE)},submitText:e("cancel"),hideCancel:!0}))};var a=o(e("react")),i=e("react-redux"),s=e("react-router-dom"),c=e("../../../contexts/i18n"),l=e("../../../hooks/useMetricEvent"),u=e("../../../ducks/swaps/swaps"),d=e("../../../selectors/selectors"),p=e("../../../helpers/constants/routes"),f=r(e("../../../components/ui/pulse-loader")),h=r(e("../../../components/ui/typography")),m=r(e("../../../components/ui/box")),b=e("../../../helpers/constants/design-system"),g=r(e("../swaps-footer")),v=r(e("./swap-step-icon"))},{file:"/home/circleci/project/ui/pages/swaps/awaiting-signatures/awaiting-signatures.js"}],[4609,{"../../../components/ui/mascot":4234,"../../../contexts/i18n":4292,"../../../contexts/metametrics.new":4294,"../../../ducks/swaps/swaps":4310,"../../../selectors/selectors":4644,"../swaps-footer":4627,"./aggregator-logo":4606,"./background-animation":4607,"@babel/runtime/helpers/defineProperty":178,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,classnames:1734,events:1714,lodash:2979,"prop-types":3233,react:3454,"react-redux":3421,"react-router-dom":3432},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireWildcard"),o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=O;var a=o(e("@babel/runtime/helpers/defineProperty")),i=o(e("events")),s=r(e("react")),c=e("react-redux"),l=o(e("prop-types")),u=e("lodash"),d=e("react-router-dom"),p=o(e("classnames")),f=e("../../../ducks/swaps/swaps"),h=e("../../../selectors/selectors"),m=e("../../../contexts/i18n"),b=e("../../../contexts/metametrics.new"),g=o(e("../../../components/ui/mascot")),v=o(e("../swaps-footer")),y=o(e("./background-animation")),w=o(e("./aggregator-logo"));function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const k=[{x:-125,y:-75},{x:30,y:-75},{x:-145,y:0},{x:50,y:0},{x:-135,y:46},{x:40,y:46}];function T(e){const t=(0,u.shuffle)(k);if(e<=k.length)return t.slice(0,e);const n=e-k.length;return[...t,...T(n)]}function S(e,t,n){const r=n[e];return r&&t?{x:r.x+t.x+47,y:r.y+t.y+20}:null!=t?t:{}}function O({aggregatorMetadata:e,loadingComplete:t,onDone:n}){var r,o;const a=(0,s.useContext)(m.I18nContext),l=(0,s.useContext)(b.MetaMetricsContext),E=(0,c.useDispatch)(),k=(0,d.useHistory)(),O=(0,s.useRef)(new i.default),R=(0,c.useSelector)(f.getFetchParams),P=(0,c.useSelector)(f.getQuotesFetchStartTime),x=(0,c.useSelector)(h.isHardwareWallet),A=(0,c.useSelector)(h.getHardwareWalletType),C={event:"Quotes Request Cancelled",category:"swaps",sensitiveProperties:{token_from:null==R||null===(r=R.sourceTokenInfo)||void 0===r?void 0:r.symbol,token_from_amount:null==R?void 0:R.value,request_type:null==R?void 0:R.balanceError,token_to:null==R||null===(o=R.destinationTokenInfo)||void 0===o?void 0:o.symbol,slippage:null==R?void 0:R.slippage,custom_slippage:2!==(null==R?void 0:R.slippage),response_time:Date.now()-P,is_hardware_wallet:x,hardware_wallet_type:A}},[j]=(0,s.useState)((()=>(0,u.shuffle)(Object.keys(e)))),N=j.length,I=(0,s.useRef)(),D=I.current,[M,U]=(0,s.useState)(0),[q]=(0,s.useState)((()=>T(N))),L=j.reduce(((e,t,n)=>_(_({},e),{},{[t]:q[n]})),{}),[B]=(0,s.useState)(L),[F,W]=(0,s.useState)(null);return(0,s.useEffect)((()=>{let e;e=t?200:500+Math.floor(1500*Math.random());const r=setTimeout((()=>{M<N?U(M+1):M===N&&t&&n()}),e);return function(){clearTimeout(r)}}),[M,t,n,N]),(0,s.useEffect)((()=>{if(D){const{top:e,left:t,width:n,height:r}=D.getBoundingClientRect();W({x:t+n/2,y:e+r/2})}}),[D]),s.default.createElement("div",{className:"loading-swaps-quotes"},s.default.createElement("div",{className:"loading-swaps-quotes__content"},s.default.createElement(s.default.Fragment,null,s.default.createElement("div",{className:"loading-swaps-quotes__quote-counter"},s.default.createElement("span",null,a("swapQuoteNofN",[Math.min(M+1,N),N]))),s.default.createElement("div",{className:"loading-swaps-quotes__quote-name-check"},s.default.createElement("span",null,M===N?a("swapFinalizing"):a("swapCheckingQuote",[e[j[M]].title]))),s.default.createElement("div",{className:"loading-swaps-quotes__loading-bar-container"},s.default.createElement("div",{className:"loading-swaps-quotes__loading-bar",style:{width:100/N*M+"%"}}))),s.default.createElement("div",{className:"loading-swaps-quotes__animation"},s.default.createElement(y.default,null),s.default.createElement("div",{className:"loading-swaps-quotes__mascot-container",ref:I},s.default.createElement(g.default,{animationEventEmitter:O.current,width:"90",height:"90",followMouse:!1,lookAtTarget:S(j[M],F,B)})),D&&F&&j.map((t=>{var n,r,o,a,i,c,l;return s.default.createElement("div",{className:(0,p.default)("loading-swaps-quotes__logo",{"loading-swaps-quotes__logo--transition":t===j[M]}),style:{opacity:t===j[M]?1:0,top:null!==(n=(null===(r=B[t])||void 0===r?void 0:r.y)+(null==F?void 0:F.y))&&void 0!==n?n:0,left:null!==(o=(null===(a=B[t])||void 0===a?void 0:a.x)+(null==F?void 0:F.x))&&void 0!==o?o:0},key:`aggregator-logo-${t}`},s.default.createElement(w.default,{name:null===(i=e[t])||void 0===i?void 0:i.title,icon:null===(c=e[t])||void 0===c?void 0:c.icon,color:null===(l=e[t])||void 0===l?void 0:l.color}))})))),s.default.createElement(v.default,{submitText:a("back"),onSubmit:async()=>{l(C),await E((0,f.navigateBackToBuildQuote)(k))},hideCancel:!0}))}O.propTypes={loadingComplete:l.default.bool.isRequired,onDone:l.default.func.isRequired,aggregatorMetadata:l.default.objectOf(l.default.shape({title:l.default.string,color:l.default.string,icon:l.default.string}))}},{file:"/home/circleci/project/ui/pages/swaps/loading-swaps-quotes/loading-swaps-quotes.js"}],[4584,{"../../../../shared/constants/swaps":3918,"../../../../shared/modules/swaps.utils":3930,"../../../components/ui/box":4161,"../../../components/ui/mascot":4234,"../../../components/ui/pulse-loader":4251,"../../../contexts/i18n":4292,"../../../contexts/metametrics.new":4294,"../../../ducks/swaps/swaps":4310,"../../../helpers/constants/routes":4317,"../../../hooks/useMetricEvent":4353,"../../../selectors":4642,"../swaps-footer":4627,"../swaps.util":4632,"./quotes-timeout-icon":4586,"./swap-failure-icon":4587,"./swap-success-icon":4588,"./view-on-ether-scan-link":4589,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,"@metamask/etherscan-link":1251,events:1714,"prop-types":3233,react:3454,"react-redux":3421,"react-router-dom":3432},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireWildcard"),o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=P;var a=o(e("events")),i=r(e("react")),s=e("react-redux"),c=o(e("prop-types")),l=e("react-router-dom"),u=e("@metamask/etherscan-link"),d=e("../../../contexts/i18n"),p=e("../../../hooks/useMetricEvent"),f=e("../../../contexts/metametrics.new"),h=e("../../../selectors"),m=e("../../../ducks/swaps/swaps"),b=o(e("../../../components/ui/mascot")),g=o(e("../../../components/ui/box")),v=e("../../../../shared/constants/swaps"),y=e("../../../../shared/modules/swaps.utils"),w=o(e("../../../components/ui/pulse-loader")),E=e("../../../helpers/constants/routes"),_=e("../swaps.util"),k=o(e("../swaps-footer")),T=o(e("./swap-failure-icon")),S=o(e("./swap-success-icon")),O=o(e("./quotes-timeout-icon")),R=o(e("./view-on-ether-scan-link"));function P({swapComplete:e,errorKey:t,txHash:n,tokensReceived:r,submittingSwap:o,inputValue:c,maxSlippage:P}){var x,A;const C=(0,i.useContext)(d.I18nContext),j=(0,i.useContext)(f.MetaMetricsContext),N=(0,l.useHistory)(),I=(0,s.useDispatch)(),D=(0,i.useRef)(new a.default),M=(0,s.useSelector)(m.getFetchParams),{destinationTokenInfo:U,sourceTokenInfo:q}=(null==M?void 0:M.metaData)||{},L=(0,s.useSelector)(m.getUsedQuote),B=(0,s.useSelector)(m.getApproveTxParams),F=(0,s.useSelector)(m.getUsedSwapsGasPrice),W=(0,s.useSelector)(h.getCurrentCurrency),H=(0,s.useSelector)(h.getUSDConversionRate),G=(0,s.useSelector)(h.getCurrentChainId),$=(0,s.useSelector)(h.getRpcPrefsForCurrentProvider),[K,V]=(0,i.useState)(!1);let Y;if(L&&F){var z;Y=(0,_.getRenderableNetworkFeesForQuote)({tradeGas:L.gasEstimateWithRefund||L.averageGas,approveGas:(null==B?void 0:B.gas)||"0x0",gasPrice:F,currentCurrency:W,conversionRate:H,tradeValue:null==L||null===(z=L.trade)||void 0===z?void 0:z.value,sourceSymbol:null==q?void 0:q.symbol,sourceAmount:L.sourceAmount,chainId:G}).rawNetworkFees}const Q=(0,s.useSelector)(h.isHardwareWallet),Z=(0,s.useSelector)(h.getHardwareWalletType),J={token_from:null==q?void 0:q.symbol,token_from_amount:null==M?void 0:M.value,token_to:null==U?void 0:U.symbol,request_type:null!=M&&M.balanceError?"Quote":"Order",slippage:null==M?void 0:M.slippage,custom_slippage:2===(null==M?void 0:M.slippage),gas_fees:Y,is_hardware_wallet:Q,hardware_wallet_type:Z},X=(0,p.useNewMetricEvent)({event:"Quotes Timed Out",sensitiveProperties:J,category:"swaps"}),ee=(0,p.useNewMetricEvent)({event:"Make Another Swap",sensitiveProperties:J,category:"swaps"}),te=null!==(x=null!==(A=$.blockExplorerUrl)&&void 0!==A?A:v.SWAPS_CHAINID_DEFAULT_BLOCK_EXPLORER_URL_MAP[G])&&void 0!==x?x:null,ne=(0,u.getBlockExplorerLink)({hash:n,chainId:G},{blockExplorerUrl:te}),re=Boolean(v.SWAPS_CHAINID_DEFAULT_BLOCK_EXPLORER_URL_MAP[G]||$.blockExplorerUrl);let oe,ae,ie,se,ce;t===v.OFFLINE_FOR_MAINTENANCE?(oe=C("offlineForMaintenance"),ie=C("metamaskSwapsOfflineDescription"),se=C("close"),ae=i.default.createElement(T.default,null)):t===v.SWAP_FAILED_ERROR?(oe=C("swapFailedErrorTitle"),ie=C("swapFailedErrorDescriptionWithSupportLink",[i.default.createElement("a",{className:"awaiting-swap__support-link",key:"awaiting-swap-support-link",href:"https://support.metamask.io",target:"_blank",rel:"noopener noreferrer"},"support.metamask.io")]),se=C("tryAgain"),ae=i.default.createElement(T.default,null),ce=ne&&i.default.createElement(R.default,{txHash:n,blockExplorerUrl:ne,isCustomBlockExplorerUrl:re})):t===v.QUOTES_EXPIRED_ERROR?(oe=C("swapQuotesExpiredErrorTitle"),ie=C("swapQuotesExpiredErrorDescription"),se=C("tryAgain"),ae=i.default.createElement(O.default,null),K||(V(!0),X())):t===v.ERROR_FETCHING_QUOTES?(oe=C("swapFetchingQuotesErrorTitle"),ie=C("swapFetchingQuotesErrorDescription"),se=C("back"),ae=i.default.createElement(T.default,null)):t===v.QUOTES_NOT_AVAILABLE_ERROR?(oe=C("swapQuotesNotAvailableErrorTitle"),ie=C("swapQuotesNotAvailableErrorDescription"),se=C("tryAgain"),ae=i.default.createElement(T.default,null)):t===v.CONTRACT_DATA_DISABLED_ERROR?(oe=C("swapContractDataDisabledErrorTitle"),ie=C("swapContractDataDisabledErrorDescription"),se=C("tryAgain"),ae=i.default.createElement(T.default,null)):t||e?!t&&e&&(oe=C("swapTransactionComplete"),ae=i.default.createElement(S.default,null),se=C("close"),ie=C("swapTokenAvailable",[i.default.createElement("span",{key:"swapTokenAvailable-2",className:"awaiting-swap__amount-and-symbol"},`${r||""} ${U.symbol}`)]),ce=ne&&i.default.createElement(R.default,{txHash:n,blockExplorerUrl:ne,isCustomBlockExplorerUrl:re})):(oe=C("swapProcessing"),ae=i.default.createElement(w.default,null),se=C("swapsViewInActivity"),ie=C("swapOnceTransactionHasProcess",[i.default.createElement("span",{key:"swapOnceTransactionHasProcess-1",className:"awaiting-swap__amount-and-symbol"},U.symbol)]),ce=ne&&i.default.createElement(R.default,{txHash:n,blockExplorerUrl:ne,isCustomBlockExplorerUrl:re}));const le=()=>i.default.createElement(g.default,{marginBottom:3},i.default.createElement("a",{href:"#",onClick:()=>{ee(),I((0,m.navigateBackToBuildQuote)(N))}},C("makeAnotherSwap")));return i.default.createElement("div",{className:"awaiting-swap"},i.default.createElement("div",{className:"awaiting-swap__content"},!(e||t)&&i.default.createElement(b.default,{animationEventEmitter:D.current,width:"90",height:"90"}),i.default.createElement("div",{className:"awaiting-swap__status-image"},ae),i.default.createElement("div",{className:"awaiting-swap__header"},oe),i.default.createElement("div",{className:"awaiting-swap__main-descrption"},ie),ce),!t&&e&&i.default.createElement(le,null),i.default.createElement(k.default,{onSubmit:async()=>{t===v.OFFLINE_FOR_MAINTENANCE?(await I((0,m.prepareToLeaveSwaps)()),N.push(E.DEFAULT_ROUTE)):t===v.QUOTES_EXPIRED_ERROR?(I((0,m.prepareForRetryGetQuotes)()),await I((0,m.fetchQuotesAndSetQuoteState)(N,c,P,j))):t?await I((0,m.navigateBackToBuildQuote)(N)):(0,y.isSwapsDefaultTokenSymbol)(null==U?void 0:U.symbol,G)||e?N.push(E.DEFAULT_ROUTE):N.push(`${E.ASSET_ROUTE}/${null==U?void 0:U.address}`)},onCancel:async()=>await I((0,m.navigateBackToBuildQuote)(N)),submitText:se,disabled:o,hideCancel:t!==v.QUOTES_EXPIRED_ERROR}))}P.propTypes={swapComplete:c.default.bool,txHash:c.default.string,tokensReceived:c.default.string,errorKey:c.default.oneOf([v.QUOTES_EXPIRED_ERROR,v.SWAP_FAILED_ERROR,v.ERROR_FETCHING_QUOTES,v.QUOTES_NOT_AVAILABLE_ERROR,v.OFFLINE_FOR_MAINTENANCE,v.CONTRACT_DATA_DISABLED_ERROR]),submittingSwap:c.default.bool,inputValue:c.default.oneOfType([c.default.number,c.default.string]),maxSlippage:c.default.number}},{file:"/home/circleci/project/ui/pages/swaps/awaiting-swap/awaiting-swap.js"}],[4635,{"../../../../shared/constants/gas":3913,"../../../../shared/constants/swaps":3918,"../../../components/app/edit-gas-popover/edit-gas-popover.component":3991,"../../../components/ui/actionable-message/actionable-message":4158,"../../../contexts/i18n":4292,"../../../contexts/metametrics.new":4294,"../../../ducks/metamask/metamask":4307,"../../../ducks/swaps/swaps":4310,"../../../helpers/constants/routes":4317,"../../../helpers/utils/conversions.util":4330,"../../../helpers/utils/token-util":4338,"../../../helpers/utils/transactions.util":4339,"../../../helpers/utils/util":4341,"../../../hooks/useEqualityCheck":4347,"../../../hooks/useEthFiatAmount":4348,"../../../hooks/useGasFeeInputs":4350,"../../../hooks/useMetricEvent":4353,"../../../hooks/usePrevious":4355,"../../../hooks/useTokenTracker":4364,"../../../selectors":4642,"../../../store/actions":4647,"../../confirm-approve/confirm-approve.util":4395,"../../send/send.utils":4546,"../countdown-timer":4594,"../fee-card":4602,"../main-quote-summary":4610,"../select-quote-popover":4618,"../swaps-footer":4627,"../swaps.util":4632,"./view-quote-price-difference":4634,"@babel/runtime/helpers/defineProperty":178,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,"bignumber.js":1636,classnames:1734,lodash:2979,react:3454,"react-redux":3421,"react-router-dom":3432},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireWildcard"),o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e,t,n,r,o,a,W;const G=(0,c.useHistory)(),$=(0,s.useDispatch)(),K=(0,i.useContext)(p.I18nContext),V=(0,i.useContext)(y.MetaMetricsContext),[Y,z]=(0,i.useState)(!1),[Q,Z]=(0,i.useState)(!1),[J,X]=(0,i.useState)(!1),[ee,te]=(0,i.useState)(!1),[ne,re]=(0,i.useState)(null),[oe,ae]=(0,i.useState)(!1),[ie,se]=(0,i.useState)(!1),ce=(0,s.useSelector)(_.getBackgroundSwapRouteState),le=(0,s.useSelector)(_.getQuotes,u.isEqual);(0,i.useEffect)((()=>{Object.values(le).length?"awaiting"===ce&&G.push(R.AWAITING_SWAP_ROUTE):G.push(R.BUILD_QUOTE_ROUTE)}),[G,le,ce]);const ue=(0,s.useSelector)(_.getQuotesLastFetched),de=(0,s.useSelector)(_.getUsedSwapsGasPrice),pe=(0,s.useSelector)(_.getCustomSwapsGas),fe=(0,s.useSelector)(_.getCustomMaxFeePerGas),he=(0,s.useSelector)(_.getCustomMaxPriorityFeePerGas),me=(0,s.useSelector)(_.getSwapsUserFeeLevel),be=(0,s.useSelector)(k.getTokenExchangeRates),ge=(0,m.useEqualityCheck)(be),{balance:ve}=(0,s.useSelector)(k.getSelectedAccount),ye=(0,s.useSelector)(k.conversionRateSelector),we=(0,s.useSelector)(k.getCurrentCurrency),Ee=(0,s.useSelector)(T.getTokens),_e=(0,s.useSelector)(k.checkNetworkAndAccountSupports1559),ke=(0,s.useSelector)(_.getBalanceError),Te=(0,s.useSelector)(_.getFetchParams),Se=(0,s.useSelector)(_.getApproveTxParams),Oe=(0,s.useSelector)(_.getSelectedQuote),Re=(0,s.useSelector)(_.getTopQuote),Pe=Oe||Re,xe=null!==(e=null==Pe||null===(t=Pe.trade)||void 0===t?void 0:t.value)&&void 0!==e?e:"0x0",Ae=(0,s.useSelector)(_.getSwapsQuoteRefreshTime),Ce=(0,s.useSelector)(k.getSwapsDefaultToken),je=(0,s.useSelector)(k.getCurrentChainId),Ne=(0,s.useSelector)(T.getNativeCurrency);let Ie;_e&&(Ie=(0,v.useGasFeeInputs)("high",{userFeeLevel:me||"high"}));const{isBestQuote:De}=Pe,Me=null==Te?void 0:Te.sourceToken,Ue=(null==Pe?void 0:Pe.gasEstimateWithRefund)||`0x${(0,A.decimalToHex)((null==Pe?void 0:Pe.averageGas)||0)}`,qe=(null==Pe?void 0:Pe.gasEstimate)||"0x0",Le=new l.default(qe,16).times((null==Pe?void 0:Pe.gasMultiplier)||_.FALLBACK_GAS_MULTIPLIER,10).round(0).toString(16),Be=null!=Pe&&Pe.gasEstimate?Le:`0x${(0,A.decimalToHex)((null==Pe?void 0:Pe.maxGas)||0)}`,Fe=pe||Be;let We,He,Ge;if(_e){const{maxFeePerGas:e,maxPriorityFeePerGas:t,gasFeeEstimates:{estimatedBaseFee:n="0"}}=Ie;We=fe||(0,A.decGWEIToHexWEI)(e),He=he||(0,A.decGWEIToHexWEI)(t),Ge=(0,A.addHexes)((0,A.decGWEIToHexWEI)(n),He)}const $e=(0,j.calcGasTotal)(Fe,_e?We:de),{tokensWithBalances:Ke}=(0,M.useTokenTracker)(Ee,!0),Ve=Me===Ce.address?Ce:Ke.find((({address:e})=>e===Me)),Ye=Ve||Pe.sourceTokenInfo,ze=(null==Ke?void 0:Ke.length)&&(0,x.calcTokenAmount)(Ye.balance||"0x0",Ye.decimals).toFixed(9),Qe=Ke&&void 0===Ve,Ze=(0,P.getTokenData)(null==Se?void 0:Se.data),Je=Ze&&(0,x.getTokenValueParam)(Ze),Xe=Je&&void 0!==(null==Ye?void 0:Ye.decimals)&&(0,x.calcTokenAmount)(Je,Ye.decimals).toFixed(9),et=null==Se?void 0:Se.gas,tt=(0,i.useMemo)((()=>(0,D.quotesToRenderableData)(le,_e?Ge:de,ye,we,et,ge,je)),[le,de,Ge,_e,ye,we,et,ge,je]),nt=tt.find((e=>e.aggId===Pe.aggregator)),{destinationTokenDecimals:rt,destinationTokenSymbol:ot,destinationTokenValue:at,destinationIconUrl:it,sourceTokenDecimals:st,sourceTokenSymbol:ct,sourceTokenValue:lt,sourceTokenIconUrl:ut}=nt,{feeInFiat:dt,feeInEth:pt}=(0,D.getRenderableNetworkFeesForQuote)({tradeGas:Ue,approveGas:et,gasPrice:_e?Ge:de,currentCurrency:we,conversionRate:ye,tradeValue:xe,sourceSymbol:ct,sourceAmount:Pe.sourceAmount,chainId:je,nativeCurrencySymbol:Ne}),{feeInFiat:ft,feeInEth:ht,nonGasFee:mt}=(0,D.getRenderableNetworkFeesForQuote)({tradeGas:Fe,approveGas:et,gasPrice:_e?We:de,currentCurrency:we,conversionRate:ye,tradeValue:xe,sourceSymbol:ct,sourceAmount:Pe.sourceAmount,chainId:je,nativeCurrencySymbol:Ne}),bt=new l.default(Pe.sourceAmount),gt=new l.default(Pe.trade.value||0,10).plus(new l.default($e,16)),vt=((null==Ke?void 0:Ke.length)||ke)&&bt.gt(new l.default(Ye.balance||"0x0")),yt=gt.gt(new l.default(ve||"0x0")),wt=vt?(0,S.toPrecisionWithoutTrailingZeros)((0,x.calcTokenAmount)(bt,Ye.decimals).minus(ze).toString(10),6):null,Et=yt?(0,S.toPrecisionWithoutTrailingZeros)(gt.minus(ve,16).div("1000000000000000000",10).toString(10),6):null,_t=(0,s.useSelector)(_.getDestinationTokenInfo);(0,i.useEffect)((()=>{vt||yt?$((0,_.setBalanceError)(!0)):!ke||vt||yt||$((0,_.setBalanceError)(!1))}),[vt,yt,ke,$]),(0,i.useEffect)((()=>{const e=Date.now()-ue;e>Ae&&!Y?(z(!0),$((0,O.safeRefetchQuotes)())):e>Ae&&($((0,O.setSwapsErrorKey)(U.QUOTES_EXPIRED_ERROR)),G.push(R.SWAPS_ERROR_ROUTE))}),[ue,Y,$,G,Ae]),(0,i.useEffect)((()=>{!ne&&Xe&&re(Xe)}),[ne,Xe]);const kt=(ke||wt||Et)&&!ee,Tt=Object.values(le).length,St=(0,i.useRef)(),Ot={token_from:ct,token_from_amount:lt,token_to:ot,token_to_amount:at,request_type:null==Te?void 0:Te.balanceError,slippage:null==Te?void 0:Te.slippage,custom_slippage:2!==(null==Te?void 0:Te.slippage),response_time:null==Te?void 0:Te.responseTime,best_quote_source:null==Re?void 0:Re.aggregator,available_quotes:Tt},Rt=(0,s.useSelector)(k.isHardwareWallet),Pt=(0,s.useSelector)(k.getHardwareWalletType),xt=(0,b.useNewMetricEvent)({event:"All Available Quotes Opened",category:"swaps",sensitiveProperties:H(H({},Ot),{},{other_quote_selected:(null==Pe?void 0:Pe.aggregator)!==(null==Re?void 0:Re.aggregator),other_quote_selected_source:(null==Pe?void 0:Pe.aggregator)===(null==Re?void 0:Re.aggregator)?null:null==Pe?void 0:Pe.aggregator,is_hardware_wallet:Rt,hardware_wallet_type:Pt})}),At=(0,b.useNewMetricEvent)({event:"Quote Details Opened",category:"swaps",sensitiveProperties:H(H({},Ot),{},{other_quote_selected:(null==Pe?void 0:Pe.aggregator)!==(null==Re?void 0:Re.aggregator),other_quote_selected_source:(null==Pe?void 0:Pe.aggregator)===(null==Re?void 0:Re.aggregator)?null:null==Pe?void 0:Pe.aggregator,is_hardware_wallet:Rt,hardware_wallet_type:Pt})}),Ct=(0,b.useNewMetricEvent)({event:"Edit Spend Limit Opened",category:"swaps",sensitiveProperties:H(H({},Ot),{},{custom_spend_limit_set:ne===Xe,custom_spend_limit_amount:ne===Xe?null:Xe,is_hardware_wallet:Rt,hardware_wallet_type:Pt})}),jt=(0,b.useNewMetricEvent)({event:"Best Quote Reviewed",category:"swaps",sensitiveProperties:H(H({},Ot),{},{network_fees:dt,is_hardware_wallet:Rt,hardware_wallet_type:Pt})});(0,i.useEffect)((()=>{!St.current&&[ct,lt,ot,at,Te,Re,Tt,dt].every((e=>null!=e))&&(St.current=!0,jt())}),[ct,lt,ot,at,Te,Re,Tt,dt,jt]);const Nt=Pe.fee,It=new l.default(mt,16).gt(0),Dt=(0,j.calcGasTotal)(et||"0x0",_e?Ge:de),Mt=new l.default(mt,16).plus(Dt,16).toString(16),Ut=(0,A.getValueFromWeiHex)({value:Mt,toDenomination:"ETH",numberOfDecimals:4});let qt="";et&&It?qt=K("approvalAndAggregatorTxFeeCost"):et?qt=K("approvalTxGasCost"):It&&(qt=K("aggregatorFeeCost"));const Lt=i.default.createElement("span",{key:"swaps-view-quote-approve-symbol-1",className:"view-quote__bold"},ct),Bt=Qe?K("swapTokenBalanceUnavailable",[ct]):K("swapApproveNeedMoreTokens",[i.default.createElement("span",{key:"swapApproveNeedMoreTokens-1",className:"view-quote__bold"},wt||Et),wt&&ct!==Ce.symbol?ct:Ce.symbol]),Ft=null==Pe||null===(n=Pe.priceSlippage)||void 0===n?void 0:n.bucket,Wt=(0,g.usePrevious)(Ft);(0,i.useEffect)((()=>{ie&&"medium"===Wt&&"high"===Ft&&se(!1)}),[Ft,ie,Wt]);let Ht=null;const Gt=(0,h.useEthFiatAmount)((null==Pe||null===(r=Pe.priceSlippage)||void 0===r?void 0:r.sourceAmountInETH)||0,{showFiat:!0}),$t=(0,h.useEthFiatAmount)((null==Pe||null===(o=Pe.priceSlippage)||void 0===o?void 0:o.destinationAmountInETH)||0,{showFiat:!0}),Kt=!Gt||!$t||(null==Pe||null===(a=Pe.priceSlippage)||void 0===a?void 0:a.calculationError);let Vt=0;null!=Pe&&null!==(W=Pe.priceSlippage)&&void 0!==W&&W.ratio&&(Vt=parseFloat(new l.default(Pe.priceSlippage.ratio,10).minus(1,10).times(100,10).toFixed(2),10));const Yt=!Qe&&!kt&&Pe&&(["high","medium"].includes(Ft)||Kt);Yt&&(Ht=i.default.createElement(F.default,{usedQuote:Pe,sourceTokenValue:lt,destinationTokenValue:at,priceSlippageFromSource:Gt,priceSlippageFromDestination:$t,priceDifferencePercentage:Vt,priceSlippageUnknownFiatValue:Kt,onAcknowledgementClick:()=>{se(!0)},acknowledged:ie}));const zt=Yt&&!ie,Qt=kt||Yt;return i.default.createElement("div",{className:"view-quote"},i.default.createElement("div",{className:(0,d.default)("view-quote__content",{"view-quote__content_modal":zt})},J&&i.default.createElement(f.default,{quoteDataRows:tt,onClose:()=>X(!1),onSubmit:e=>$((0,_.swapsQuoteSelected)(e)),swapToSymbol:ot,initialAggId:Pe.aggregator,onQuoteDetailsIsOpened:At}),oe&&_e&&i.default.createElement(E.default,{transaction:{userFeeLevel:me||"high",txParams:{maxFeePerGas:We,maxPriorityFeePerGas:He,gas:Fe}},minimumGasLimit:Ue,defaultEstimateToUse:"high",mode:q.EDIT_GAS_MODES.SWAPS,confirmButtonText:K("submit"),onClose:()=>{ae(!1)}}),i.default.createElement("div",{className:(0,d.default)("view-quote__warning-wrapper",{"view-quote__warning-wrapper--thin":!Qt})},Ht,(kt||Qe)&&i.default.createElement(I.default,{message:Bt,onClose:()=>te(!0)})),i.default.createElement("div",{className:"view-quote__countdown-timer-container"},i.default.createElement(L.default,{timeStarted:ue,warningTime:"0:30",infoTooltipLabelKey:"swapQuotesAreRefreshed",labelKey:"swapNewQuoteIn"})),i.default.createElement(C.default,{sourceValue:(0,x.calcTokenValue)(lt,st),sourceDecimals:st,sourceSymbol:ct,destinationValue:(0,x.calcTokenValue)(at,rt),destinationDecimals:rt,destinationSymbol:ot,sourceIconUrl:ut,destinationIconUrl:it}),i.default.createElement("div",{className:(0,d.default)("view-quote__fee-card-container",{"view-quote__fee-card-container--three-rows":Se&&(!ke||ee)})},i.default.createElement(w.default,{primaryFee:{fee:pt,maxFee:ht},secondaryFee:{fee:dt,maxFee:ft},onFeeCardMaxRowClick:()=>{_e?ae(!0):$((0,O.showModal)({name:"CUSTOMIZE_METASWAP_GAS",value:xe,customGasLimitMessage:et?K("extraApprovalGas",[(0,A.hexToDecimal)(et)]):"",customTotalSupplement:Dt,extraInfoRow:qt?{label:qt,value:`${Ut} ${Ne}`}:null,initialGasPrice:de,initialGasLimit:Fe,minimumGasLimit:new l.default(Be,16).toNumber()}))},hideTokenApprovalRow:!Se||ke&&!ee,tokenApprovalTextComponent:Lt,tokenApprovalSourceTokenSymbol:ct,onTokenApprovalClick:()=>{Ct(),$((0,O.showModal)({name:"EDIT_APPROVAL_PERMISSION",decimals:Ye.decimals,origin:"MetaMask",setCustomAmount:e=>{const t=""===e?ne:e,n=(0,N.getCustomTxParamsData)(Se.data,{customPermissionAmount:t,decimals:Ye.decimals});null!=t&&t.length&&Se.data!==n&&$((0,O.setCustomApproveTxData)(n))},tokenAmount:ne,customTokenAmount:ne===Xe?null:Xe,tokenBalance:ze,tokenSymbol:Ye.symbol,requiredMinimum:(0,x.calcTokenAmount)(Pe.sourceAmount,Ye.decimals)}))},metaMaskFee:String(Nt),isBestQuote:De,numberOfQuotes:Object.values(le).length,onQuotesClick:()=>{xt(),X(!0)},tokenConversionRate:ot===Ce.symbol?1:ge[_t.address],chainId:je,networkAndAccountSupports1559:_e,maxPriorityFeePerGasDecGWEI:(0,A.hexWEIToDecGWEI)(He),maxFeePerGasDecGWEI:(0,A.hexWEIToDecGWEI)(We)}))),i.default.createElement(B.default,{onSubmit:()=>{Z(!0),ke?_t.symbol===Ce.symbol?G.push(R.DEFAULT_ROUTE):G.push(`${R.ASSET_ROUTE}/${_t.address}`):$((0,_.signAndSendTransactions)(G,V))},submitText:K("swap"),onCancel:async()=>await $((0,_.navigateBackToBuildQuote)(G)),disabled:Q||ke||Qe||zt||_e&&void 0===Ge||!_e&&null==de,className:Qt&&"view-quote__thin-swaps-footer",showTopBorder:!0}))};var a=o(e("@babel/runtime/helpers/defineProperty")),i=r(e("react")),s=e("react-redux"),c=e("react-router-dom"),l=o(e("bignumber.js")),u=e("lodash"),d=o(e("classnames")),p=e("../../../contexts/i18n"),f=o(e("../select-quote-popover")),h=e("../../../hooks/useEthFiatAmount"),m=e("../../../hooks/useEqualityCheck"),b=e("../../../hooks/useMetricEvent"),g=e("../../../hooks/usePrevious"),v=e("../../../hooks/useGasFeeInputs"),y=e("../../../contexts/metametrics.new"),w=o(e("../fee-card")),E=o(e("../../../components/app/edit-gas-popover/edit-gas-popover.component")),_=e("../../../ducks/swaps/swaps"),k=e("../../../selectors"),T=e("../../../ducks/metamask/metamask"),S=e("../../../helpers/utils/util"),O=e("../../../store/actions"),R=e("../../../helpers/constants/routes"),P=e("../../../helpers/utils/transactions.util"),x=e("../../../helpers/utils/token-util"),A=e("../../../helpers/utils/conversions.util"),C=o(e("../main-quote-summary")),j=e("../../send/send.utils"),N=e("../../confirm-approve/confirm-approve.util"),I=o(e("../../../components/ui/actionable-message/actionable-message")),D=e("../swaps.util"),M=e("../../../hooks/useTokenTracker"),U=e("../../../../shared/constants/swaps"),q=e("../../../../shared/constants/gas"),L=o(e("../countdown-timer")),B=o(e("../swaps-footer")),F=o(e("./view-quote-price-difference"));function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},{file:"/home/circleci/project/ui/pages/swaps/view-quote/view-quote.js"}],[4591,{"../../../../shared/constants/swaps":3918,"../../../../shared/modules/swaps.utils":3930,"../../../components/ui/actionable-message/actionable-message":4158,"../../../components/ui/info-tooltip":4220,"../../../contexts/i18n":4292,"../../../contexts/metametrics.new":4294,"../../../ducks/metamask/metamask":4307,"../../../ducks/swaps/swaps":4310,"../../../helpers/utils/conversions.util":4330,"../../../helpers/utils/token-util":4338,"../../../hooks/useEqualityCheck":4347,"../../../hooks/useEthFiatAmount":4348,"../../../hooks/useMetricEvent":4353,"../../../hooks/usePrevious":4355,"../../../hooks/useTokenFiatAmount":4363,"../../../hooks/useTokenTracker":4364,"../../../hooks/useTokensToSearch":4365,"../../../selectors":4642,"../../../store/actions":4647,"../dropdown-input-pair":4596,"../dropdown-search-list":4598,"../slippage-buttons":4625,"../swaps-footer":4627,"../swaps.util":4632,"@babel/runtime/helpers/defineProperty":178,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,"@metamask/etherscan-link":1251,classnames:1734,lodash:2979,"prop-types":3233,react:3454,"react-redux":3421,"react-router-dom":3432},function(e,t,n){(function(t){"use strict";var r=e("@babel/runtime/helpers/interopRequireWildcard"),o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=B;var a=o(e("@babel/runtime/helpers/defineProperty")),i=r(e("react")),s=o(e("prop-types")),c=e("react-redux"),l=o(e("classnames")),u=e("lodash"),d=e("react-router-dom"),p=e("@metamask/etherscan-link"),f=e("../../../contexts/metametrics.new"),h=e("../../../hooks/useMetricEvent"),m=e("../../../hooks/useTokensToSearch"),b=e("../../../hooks/useEqualityCheck"),g=e("../../../contexts/i18n"),v=o(e("../dropdown-input-pair")),y=o(e("../dropdown-search-list")),w=o(e("../slippage-buttons")),E=e("../../../ducks/metamask/metamask"),_=o(e("../../../components/ui/info-tooltip")),k=o(e("../../../components/ui/actionable-message/actionable-message")),T=e("../../../ducks/swaps/swaps"),S=e("../../../selectors"),O=e("../../../helpers/utils/conversions.util"),R=e("../../../helpers/utils/token-util"),P=e("../../../hooks/usePrevious"),x=e("../../../hooks/useTokenTracker"),A=e("../../../hooks/useTokenFiatAmount"),C=e("../../../hooks/useEthFiatAmount"),j=e("../../../../shared/modules/swaps.utils"),N=e("../../../../shared/constants/swaps"),I=e("../../../store/actions"),D=e("../swaps.util"),M=o(e("../swaps-footer"));function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const L=[{name:"name",weight:.499},{name:"symbol",weight:.499},{name:"address",weight:.002}];function B({inputValue:e,onInputChange:n,ethBalance:r,setMaxSlippage:o,maxSlippage:a,selectedAccountAddress:s,isFeatureFlagLoaded:U,tokenFromError:B}){var F,W,H,G;const $=(0,i.useContext)(g.I18nContext),K=(0,c.useDispatch)(),V=(0,d.useHistory)(),Y=(0,i.useContext)(f.MetaMetricsContext),[z,Q]=(0,i.useState)(void 0),[Z,J]=(0,i.useState)(!1),X=(0,c.useSelector)(T.getBalanceError),ee=(0,c.useSelector)(T.getFetchParams),{sourceTokenInfo:te={},destinationTokenInfo:ne={}}=(null==ee?void 0:ee.metaData)||{},re=(0,c.useSelector)(E.getTokens),oe=(0,c.useSelector)(T.getTopAssets),ae=(0,c.useSelector)(T.getFromToken),ie=(0,c.useSelector)(T.getToToken)||ne,se=(0,c.useSelector)(S.getSwapsDefaultToken),ce=(0,c.useSelector)(S.getCurrentChainId),le=(0,c.useSelector)(S.getRpcPrefsForCurrentProvider),ue=(0,c.useSelector)(S.getTokenExchangeRates,u.isEqual),de=(0,c.useSelector)(E.getConversionRate),pe=(0,c.useSelector)(S.getCurrentCurrency),fe=(0,j.isSwapsDefaultTokenSymbol)(null==te?void 0:te.symbol,ce)?se:te,{loading:he,tokensWithBalances:me}=(0,x.useTokenTracker)(re),be=!(0,j.isSwapsDefaultTokenSymbol)(null==ae?void 0:ae.symbol,ce)&&null!=ae&&ae.balance?[ae]:[],ge=(0,u.uniqBy)([...me,...re,...be],"address"),ve=(0,b.useEqualityCheck)(ge),ye=(0,m.getRenderableTokenData)(ae||fe,ue,de,pe,ce),we=(0,m.useTokensToSearch)({usersTokens:ve,topTokens:oe}),Ee=we.find((({address:e})=>e===(null==ie?void 0:ie.address)))||ie,_e=(null==Ee?void 0:Ee.address)&&!(0,j.isSwapsDefaultTokenAddress)(null==Ee?void 0:Ee.address,ce),ke=Number((null==Ee?void 0:Ee.occurances)||(null==Ee?void 0:Ee.occurrences)||0),{address:Te,symbol:Se,string:Oe,decimals:Re,balance:Pe}=ye||{},xe=Pe&&(0,R.calcTokenAmount)(Pe,Re).toString(10),Ae=(0,P.usePrevious)(xe),Ce=(0,A.useTokenFiatAmount)(Te,e||0,Se,{showFiat:!0},!0),je=(0,C.useEthFiatAmount)(e||0,{showFiat:!0},!0),Ne=(0,j.isSwapsDefaultTokenSymbol)(Se,ce)?je:Ce,Ie=t=>{null!=t&&t.address&&!Ne&&null!==z?(0,D.fetchTokenPrice)(t.address).then((e=>{null!=e&&Q(e)})):Q(null),null!=t&&t.address&&!ve.find((e=>e.address===t.address))&&(0,D.fetchTokenBalance)(t.address,s).then((e=>{if(null!=e&&e.balance){const n=e.balance.toString(10),r=(0,R.calcTokenAmount)(n,t.decimals);K((0,T.setSwapsFromToken)(q(q({},t),{},{string:r.toString(10),balance:n})))}})),K((0,T.setSwapsFromToken)(t)),n(null!=t&&t.address?e:"",t.string,t.decimals)},De=(0,p.getTokenTrackerLink)(Ee.address,ce,null,null,{blockExplorerUrl:null!==(F=null!==(W=le.blockExplorerUrl)&&void 0!==W?W:N.SWAPS_CHAINID_DEFAULT_BLOCK_EXPLORER_URL_MAP[ce])&&void 0!==F?F:null}),Me=le.blockExplorerUrl?new URL(De).hostname:$("etherscan"),Ue=(0,h.useNewMetricEvent)({category:"Swaps",event:"Clicked Block Explorer Link",properties:{link_type:"Token Tracker",action:"Swaps Confirmation",block_explorer_domain:De?null===(H=new URL(De))||void 0===H?void 0:H.hostname:""}}),{destinationTokenAddedForSwap:qe}=ee||{},{address:Le}=ie||{},Be=(0,i.useCallback)((e=>{qe&&e.address!==Le&&K((0,I.removeToken)(Le)),K((0,T.setSwapToToken)(e)),J(!1)}),[K,qe,Le]),Fe=(0,i.useCallback)((e=>e.address===Te),[Te]),We=me.find((e=>e.address===(null==ae?void 0:ae.address))),He=(0,P.usePrevious)(We);(0,i.useEffect)((()=>{const e=!(0,j.isSwapsDefaultTokenAddress)(null==We?void 0:We.address,ce),t=(null==We?void 0:We.address)===(null==He?void 0:He.address),n=(null==We?void 0:We.balance)!==(null==He?void 0:He.balance);e&&t&&n&&K((0,T.setSwapsFromToken)(q(q({},ae),{},{balance:null==We?void 0:We.balance,string:null==We?void 0:We.string})))}),[K,We,He,ae,ce]),(0,i.useEffect)((()=>{(0,j.isSwapsDefaultTokenAddress)(null==ae?void 0:ae.address,ce)&&(null==ae?void 0:ae.balance)!==(0,O.hexToDecimal)(r)&&K((0,T.setSwapsFromToken)(q(q({},ae),{},{balance:(0,O.hexToDecimal)(r),string:(0,O.getValueFromWeiHex)({value:r,numberOfDecimals:4,toDenomination:"ETH"})})))}),[K,ae,r,ce]),(0,i.useEffect)((()=>{Ae!==xe&&n(e,xe)}),[n,Ae,e,xe]),(0,i.useEffect)((()=>{K((0,I.resetSwapsPostFetchState)())}),[K]);const Ge=()=>i.default.createElement("a",{className:"build-quote__token-etherscan-link build-quote__underline",key:"build-quote-etherscan-link",onClick:()=>{Ue(),t.platform.openTab({url:De})},target:"_blank",rel:"noopener noreferrer"},Me);let $e="";De&&(1===ke?$e=$("verifyThisTokenOn",[i.default.createElement(Ge,{key:"block-explorer-link"})]):0===ke&&($e=$("verifyThisUnconfirmedTokenOn",[i.default.createElement(Ge,{key:"block-explorer-link"})])));const Ke=$("swapYourTokenBalance",[Oe||"0",Se||(null===(G=N.SWAPS_CHAINID_DEFAULT_TOKEN_MAP[ce])||void 0===G?void 0:G.symbol)||""]);return i.default.createElement("div",{className:"build-quote"},i.default.createElement("div",{className:"build-quote__content"},i.default.createElement("div",{className:"build-quote__dropdown-input-pair-header"},i.default.createElement("div",{className:"build-quote__input-label"},$("swapSwapFrom")),!(0,j.isSwapsDefaultTokenSymbol)(Se,ce)&&i.default.createElement("div",{className:"build-quote__max-button",onClick:()=>n(xe||"0",xe)},$("max"))),i.default.createElement(v.default,{onSelect:Ie,itemsToSearch:we,onInputChange:e=>{n(e,xe)},inputValue:e,leftValue:e&&Ne,selectedItem:ye,maxListItems:30,loading:he&&(!(null!=we&&we.length)||!oe||!Object.keys(oe).length),selectPlaceHolderText:$("swapSelect"),hideItemIf:e=>e.address===(null==Ee?void 0:Ee.address),listContainerClassName:"build-quote__open-dropdown",autoFocus:!0}),i.default.createElement("div",{className:(0,l.default)("build-quote__balance-message",{"build-quote__balance-message--error":X||B})},!B&&!X&&Se&&Ke,!B&&X&&Se&&i.default.createElement("div",{className:"build-quite__insufficient-funds"},i.default.createElement("div",{className:"build-quite__insufficient-funds-first"},$("swapsNotEnoughForTx",[Se])),i.default.createElement("div",{className:"build-quite__insufficient-funds-second"},Ke)),B&&i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:"build-quote__form-error"},$("swapTooManyDecimalsError",[Se,Re])),i.default.createElement("div",null,Ke))),i.default.createElement("div",{className:"build-quote__swap-arrows-row"},i.default.createElement("button",{className:"build-quote__swap-arrows",onClick:()=>{Be(ye),Ie(Ee)}},i.default.createElement("img",{src:"./images/icons/swap2.svg",alt:$("swapSwapSwitch"),width:"12",height:"16"}))),i.default.createElement("div",{className:"build-quote__dropdown-swap-to-header"},i.default.createElement("div",{className:"build-quote__input-label"},$("swapSwapTo"))),i.default.createElement("div",{className:"dropdown-input-pair dropdown-input-pair__to"},i.default.createElement(y.default,{startingItem:Ee,itemsToSearch:we,searchPlaceholderText:$("swapSearchForAToken"),fuseSearchKeys:L,selectPlaceHolderText:$("swapSelectAToken"),maxListItems:30,onSelect:Be,loading:he&&(!(null!=we&&we.length)||!oe||!Object.keys(oe).length),externallySelectedItem:Ee,hideItemIf:Fe,listContainerClassName:"build-quote__open-to-dropdown",hideRightLabels:!0,defaultToAll:!0,shouldSearchForImports:!0})),_e&&(ke<2?i.default.createElement(k.default,{type:1===ke?"warning":"danger",message:i.default.createElement("div",{className:"build-quote__token-verification-warning-message"},i.default.createElement("div",{className:"build-quote__bold"},$(1===ke?"swapTokenVerificationOnlyOneSource":"swapTokenVerificationAddedManually")),i.default.createElement("div",null,$e)),primaryAction:Z?null:{label:$("continue"),onClick:()=>J(!0)},withRightButton:!0,infoTooltipText:De&&$("swapVerifyTokenExplanation",[Me])}):i.default.createElement("div",{className:"build-quote__token-message"},i.default.createElement("span",{className:"build-quote__bold",key:"token-verification-bold-text"},$("swapTokenVerificationSources",[ke])),De&&i.default.createElement(i.default.Fragment,null,$("swapTokenVerificationMessage",[i.default.createElement("a",{className:"build-quote__token-etherscan-link",key:"build-quote-etherscan-link",onClick:()=>{Ue(),t.platform.openTab({url:De})},target:"_blank",rel:"noopener noreferrer"},Me)]),i.default.createElement(_.default,{position:"top",contentText:$("swapVerifyTokenExplanation",[Me]),containerClassName:"build-quote__token-tooltip-container",key:"token-verification-info-tooltip"})))),i.default.createElement("div",{className:"build-quote__slippage-buttons-container"},i.default.createElement(w.default,{onSelect:e=>{o(e)},maxAllowedSlippage:15,currentSlippage:a}))),i.default.createElement(M.default,{onSubmit:()=>{K((0,T.fetchQuotesAndSetQuoteState)(V,e,a,Y))},submitText:$("swapReviewSwap"),disabled:B||!U||!Number(e)||!(null!=Ee&&Ee.address)||Number(a)<0||Number(a)>15||_e&&ke<2&&!Z,hideCancel:!0,showTermsOfService:!0}))}B.propTypes={maxSlippage:s.default.number,inputValue:s.default.string,onInputChange:s.default.func,ethBalance:s.default.string,setMaxSlippage:s.default.func,selectedAccountAddress:s.default.string,isFeatureFlagLoaded:s.default.bool.isRequired,tokenFromError:s.default.string}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{file:"/home/circleci/project/ui/pages/swaps/build-quote/build-quote.js"}],[4274,{"@babel/runtime/helpers/defineProperty":178,"@babel/runtime/helpers/extends":179,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/objectWithoutProperties":193,"@material-ui/core/TextField":768,"@material-ui/core/styles":843,"prop-types":3233,react:3454},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=r(e("@babel/runtime/helpers/extends")),a=r(e("@babel/runtime/helpers/objectWithoutProperties")),i=r(e("@babel/runtime/helpers/defineProperty")),s=r(e("react")),c=r(e("prop-types")),l=e("@material-ui/core/styles"),u=r(e("@material-ui/core/TextField"));function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const f={transform:"none",transition:"none",position:"initial",color:"#5b5b5b"},h={materialLabel:{"&$materialFocused":{color:"#aeaeae"},"&$materialError":{color:"#aeaeae"},fontWeight:"400",color:"#aeaeae"},materialFocused:{},materialUnderline:{"&:after":{borderBottom:"2px solid rgb(3, 125, 214)"}},materialError:{},materialWhitePaddedRoot:{color:"#aeaeae"},materialWhitePaddedInput:{padding:"8px","&::placeholder":{color:"#aeaeae"}},materialWhitePaddedFocused:{color:"#fff"},materialWhitePaddedUnderline:{"&:after":{borderBottom:"2px solid #fff"}},formLabel:{"&$formLabelFocused":{color:"#5b5b5b"},"&$materialError":{color:"#5b5b5b"}},formLabelFocused:{},inputFocused:{},inputRoot:{"label + &":{marginTop:"9px"},border:"1px solid #BBC0C5",height:"48px",borderRadius:"6px",padding:"0 16px",display:"flex",alignItems:"center","&$inputFocused":{border:"1px solid #2f9ae0"}},largeInputLabel:p(p({},f),{},{fontSize:"1rem"}),inputLabel:p(p({},f),{},{fontSize:".75rem"}),inputMultiline:{lineHeight:"initial !important"}},m={material:({dir:e,classes:{materialLabel:t,materialFocused:n,materialError:r,materialUnderline:o},startAdornment:a,min:i,max:s,autoComplete:c})=>({InputLabelProps:{classes:{root:t,focused:n,error:r}},InputProps:{startAdornment:a,classes:{underline:o},inputProps:{dir:e,min:i,max:s,autoComplete:c}}}),bordered:({dir:e,classes:{formLabel:t,formLabelFocused:n,materialError:r,largeInputLabel:o,inputLabel:a,inputRoot:i,input:s,inputFocused:c},largeLabel:l,startAdornment:u,min:d,max:p,autoComplete:f})=>({InputLabelProps:{shrink:!0,className:l?o:a,classes:{root:t,focused:n,error:r}},InputProps:{startAdornment:u,disableUnderline:!0,classes:{root:i,input:s,focused:c},inputProps:{dir:e,min:d,max:p,autoComplete:f}}}),"material-white-padded":({dir:e,classes:{materialWhitePaddedRoot:t,materialWhitePaddedFocused:n,materialWhitePaddedInput:r,materialWhitePaddedUnderline:o},startAdornment:a,min:i,max:s,autoComplete:c})=>({InputProps:{startAdornment:a,classes:{root:t,focused:n,input:r,underline:o},inputProps:{dir:e,min:i,max:s,autoComplete:c}}})},b=e=>{let{error:t,classes:n,theme:r,startAdornment:i,largeLabel:c,dir:l,min:d,max:p,autoComplete:f}=e,h=(0,a.default)(e,["error","classes","theme","startAdornment","largeLabel","dir","min","max","autoComplete"]);const b=m[r]({classes:n,startAdornment:i,largeLabel:c,dir:l,min:d,max:p,autoComplete:f});return s.default.createElement(u.default,(0,o.default)({error:Boolean(t),helperText:t},b,h))};b.defaultProps={error:null,dir:"auto",theme:"bordered"},b.propTypes={error:c.default.string,classes:c.default.object,dir:c.default.string,theme:c.default.oneOf(["bordered","material","material-white-padded"]),startAdornment:c.default.element,largeLabel:c.default.bool,min:c.default.number,max:c.default.number,autoComplete:c.default.string};var g=(0,l.withStyles)(h)(b);n.default=g},{file:"/home/circleci/project/ui/components/ui/text-field/text-field.component.js"}],[4542,{"./send-header.component":4543,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./send-header.component"))},{file:"/home/circleci/project/ui/pages/send/send-header/index.js"}],[4539,{"./send-footer.container":4541,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./send-footer.container"))},{file:"/home/circleci/project/ui/pages/send/send-footer/index.js"}],[4515,{"./ens-input.container":4514,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./ens-input.container"))},{file:"/home/circleci/project/ui/pages/send/send-content/add-recipient/ens-input.js"}],[4516,{"./add-recipient.container":4512,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./add-recipient.container"))},{file:"/home/circleci/project/ui/pages/send/send-content/add-recipient/index.js"}],[4517,{"./send-content.container":4527,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=r(e("./send-content.container"))},{file:"/home/circleci/project/ui/pages/send/send-content/index.js"}],[4488,{"../../components/app/asset-list":3953,"../../components/app/home-notification":4008,"../../components/app/menu-bar":4013,"../../components/app/multiple-notifications":4079,"../../components/app/recovery-phrase-reminder":4092,"../../components/app/transaction-list":4139,"../../components/app/wallet-overview":4152,"../../components/app/whats-new-popup":4155,"../../components/ui/button":4165,"../../components/ui/popover":4249,"../../components/ui/tabs":4269,"../../helpers/constants/routes":4317,"../../helpers/utils/util":4341,"../connected-accounts":4434,"../connected-sites":4437,"@babel/runtime/helpers/defineProperty":178,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,"prop-types":3233,react:3454,"react-router-dom":3432},function(e,t,n){(function(t){"use strict";var r=e("@babel/runtime/helpers/interopRequireWildcard"),o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(e("@babel/runtime/helpers/defineProperty")),i=r(e("react")),s=o(e("prop-types")),c=e("react-router-dom"),l=e("../../helpers/utils/util"),u=o(e("../../components/app/asset-list")),d=o(e("../../components/app/home-notification")),p=o(e("../../components/app/multiple-notifications")),f=o(e("../../components/app/transaction-list")),h=o(e("../../components/app/menu-bar")),m=o(e("../../components/ui/popover")),b=o(e("../../components/ui/button")),g=o(e("../connected-sites")),v=o(e("../connected-accounts")),y=e("../../components/ui/tabs"),w=e("../../components/app/wallet-overview"),E=o(e("../../components/app/whats-new-popup")),_=o(e("../../components/app/recovery-phrase-reminder")),k=e("../../helpers/constants/routes");class T extends i.PureComponent{constructor(...e){super(...e),(0,a.default)(this,"state",{mounted:!1,canShowBlockageNotification:!0}),(0,a.default)(this,"onRecoveryPhraseReminderClose",(()=>{const{setRecoveryPhraseReminderHasBeenShown:e,setRecoveryPhraseReminderLastShown:t}=this.props;e(!0),t((new Date).getTime())})),(0,a.default)(this,"renderPopover",(()=>{const{setConnectedStatusPopoverHasBeenShown:e}=this.props,{t:t}=this.context;return i.default.createElement(m.default,{title:t("whatsThis"),onClose:e,className:"home__connected-status-popover",showArrow:!0,CustomBackground:({onClose:e})=>i.default.createElement("div",{className:"home__connected-status-popover-bg-container",onClick:e},i.default.createElement("div",{className:"home__connected-status-popover-bg"})),footer:i.default.createElement(i.default.Fragment,null,i.default.createElement("a",{href:"https://metamask.zendesk.com/hc/en-us/articles/360045129011-Intro-to-MetaMask-v8-extension",target:"_blank",rel:"noopener noreferrer"},t("learnMore")),i.default.createElement(b.default,{type:"primary",onClick:e},t("dismiss")))},i.default.createElement("main",{className:"home__connect-status-text"},i.default.createElement("div",null,t("metaMaskConnectStatusParagraphOne")),i.default.createElement("div",null,t("metaMaskConnectStatusParagraphTwo")),i.default.createElement("div",null,t("metaMaskConnectStatusParagraphThree"))))}))}componentDidMount(){const{firstPermissionsRequestId:e,history:n,isNotification:r,suggestedTokens:o={},totalUnapprovedCount:a,unconfirmedTransactionsCount:i,haveSwapsQuotes:s,showAwaitingSwapScreen:c,swapsFetchParams:l,pendingConfirmations:u}=this.props;this.setState({mounted:!0}),r&&0===a?t.platform.closeCurrentWindow():!r&&c?n.push(k.AWAITING_SWAP_ROUTE):!r&&s?n.push(k.VIEW_QUOTE_ROUTE):!r&&l?n.push(k.BUILD_QUOTE_ROUTE):e?n.push(`${k.CONNECT_ROUTE}/${e}`):i>0?n.push(k.CONFIRM_TRANSACTION_ROUTE):Object.keys(o).length>0?n.push(k.CONFIRM_ADD_SUGGESTED_TOKEN_ROUTE):u.length>0&&n.push(k.CONFIRMATION_V_NEXT_ROUTE)}static getDerivedStateFromProps({firstPermissionsRequestId:e,isNotification:t,suggestedTokens:n,totalUnapprovedCount:r,unconfirmedTransactionsCount:o,haveSwapsQuotes:a,showAwaitingSwapScreen:i,swapsFetchParams:s},{mounted:c}){if(!c){if(t&&0===r)return{closing:!0};if(e||o>0||Object.keys(n).length>0||!t&&(i||a||s))return{redirecting:!0}}return null}componentDidUpdate(e,n){const{setupThreeBox:r,showRestorePrompt:o,threeBoxLastUpdated:a,threeBoxSynced:i}=this.props;!n.closing&&this.state.closing&&t.platform.closeCurrentWindow(),i&&o&&null===a&&r()}renderNotifications(){const{t:e}=this.context,{history:n,shouldShowSeedPhraseReminder:r,isPopup:o,selectedAddress:a,restoreFromThreeBox:s,turnThreeBoxSyncingOn:c,setShowRestorePromptToFalse:u,showRestorePrompt:f,threeBoxLastUpdated:h,shouldShowWeb3ShimUsageNotification:m,setWeb3ShimUsageAlertDismissed:b,originOfCurrentTab:g,disableWeb3ShimUsageAlert:v,infuraBlocked:y}=this.props;return i.default.createElement(p.default,null,m?i.default.createElement(d.default,{descriptionText:e("web3ShimUsageNotification",[i.default.createElement("span",{key:"web3ShimUsageNotificationLink",className:"home-notification__text-link",onClick:()=>t.platform.openTab({url:"https://metamask.zendesk.com/hc/en-us/articles/360053147012"})},e("here"))]),ignoreText:e("dismiss"),onIgnore:e=>{b(g),e&&v()},checkboxText:e("dontShowThisAgain"),checkboxTooltipText:e("canToggleInSettings"),key:"home-web3ShimUsageNotification"}):null,r?i.default.createElement(d.default,{descriptionText:e("backupApprovalNotice"),acceptText:e("backupNow"),onAccept:()=>{o?t.platform.openExtensionInBrowser(k.INITIALIZE_BACKUP_SEED_PHRASE_ROUTE):n.push(k.INITIALIZE_BACKUP_SEED_PHRASE_ROUTE)},infoText:e("backupApprovalInfo"),key:"home-backupApprovalNotice"}):null,h&&f?i.default.createElement(d.default,{descriptionText:e("restoreWalletPreferences",[(0,l.formatDate)(h,"M/d/y")]),acceptText:e("restore"),ignoreText:e("noThanks"),infoText:e("dataBackupFoundInfo"),onAccept:()=>{s(a).then((()=>{c()}))},onIgnore:()=>{u()},key:"home-privacyModeDefault"}):null,y&&this.state.canShowBlockageNotification?i.default.createElement(d.default,{descriptionText:e("infuraBlockedNotification",[i.default.createElement("span",{key:"infuraBlockedNotificationLink",className:"home-notification__text-link",onClick:()=>t.platform.openTab({url:"https://metamask.zendesk.com/hc/en-us/articles/360059386712"})},e("here"))]),ignoreText:e("dismiss"),onIgnore:()=>{this.setState({canShowBlockageNotification:!1})},key:"home-infuraBlockedNotification"}):null)}render(){const{t:e}=this.context,{defaultHomeActiveTabName:t,onTabClick:n,forgottenPassword:r,history:o,connectedStatusPopoverHasBeenShown:a,isPopup:s,notificationsToShow:l,showWhatsNewPopup:d,hideWhatsNewPopup:p,seedPhraseBackedUp:m,showRecoveryPhraseReminder:b}=this.props;if(r)return i.default.createElement(c.Redirect,{to:{pathname:k.RESTORE_VAULT_ROUTE}});if(this.state.closing||this.state.redirecting)return null;const T=l&&d;return i.default.createElement("div",{className:"main-container"},i.default.createElement(c.Route,{path:k.CONNECTED_ROUTE,component:g.default,exact:!0}),i.default.createElement(c.Route,{path:k.CONNECTED_ACCOUNTS_ROUTE,component:v.default,exact:!0}),i.default.createElement("div",{className:"home__container"},T?i.default.createElement(E.default,{onClose:p}):null,!T&&b?i.default.createElement(_.default,{hasBackedUp:m,onConfirm:this.onRecoveryPhraseReminderClose}):null,s&&!a?this.renderPopover():null,i.default.createElement("div",{className:"home__main-view"},i.default.createElement(h.default,null),i.default.createElement("div",{className:"home__balance-wrapper"},i.default.createElement(w.EthOverview,null)),i.default.createElement(y.Tabs,{defaultActiveTabName:t,onTabClick:n,tabsClassName:"home__tabs"},i.default.createElement(y.Tab,{activeClassName:"home__tab--active",className:"home__tab","data-testid":"home__asset-tab",name:e("assets")},i.default.createElement(u.default,{onClickAsset:e=>o.push(`${k.ASSET_ROUTE}/${e}`)})),i.default.createElement(y.Tab,{activeClassName:"home__tab--active",className:"home__tab","data-testid":"home__activity-tab",name:e("activity")},i.default.createElement(f.default,null))),i.default.createElement("div",{className:"home__support"},e("needHelp",[i.default.createElement("a",{href:"https://support.metamask.io",target:"_blank",rel:"noopener noreferrer",key:"need-help-link"},e("needHelpLinkText"))]))),this.renderNotifications()))}}n.default=T,(0,a.default)(T,"contextTypes",{t:s.default.func}),(0,a.default)(T,"propTypes",{history:s.default.object,forgottenPassword:s.default.bool,suggestedTokens:s.default.object,unconfirmedTransactionsCount:s.default.number,shouldShowSeedPhraseReminder:s.default.bool.isRequired,isPopup:s.default.bool,isNotification:s.default.bool.isRequired,threeBoxSynced:s.default.bool,setupThreeBox:s.default.func,turnThreeBoxSyncingOn:s.default.func,showRestorePrompt:s.default.bool,selectedAddress:s.default.string,restoreFromThreeBox:s.default.func,setShowRestorePromptToFalse:s.default.func,threeBoxLastUpdated:s.default.number,firstPermissionsRequestId:s.default.string,totalUnapprovedCount:s.default.number.isRequired,setConnectedStatusPopoverHasBeenShown:s.default.func,connectedStatusPopoverHasBeenShown:s.default.bool,defaultHomeActiveTabName:s.default.string,onTabClick:s.default.func.isRequired,haveSwapsQuotes:s.default.bool.isRequired,showAwaitingSwapScreen:s.default.bool.isRequired,swapsFetchParams:s.default.object,shouldShowWeb3ShimUsageNotification:s.default.bool.isRequired,setWeb3ShimUsageAlertDismissed:s.default.func.isRequired,originOfCurrentTab:s.default.string,disableWeb3ShimUsageAlert:s.default.func.isRequired,pendingConfirmations:s.default.arrayOf(s.default.object).isRequired,infuraBlocked:s.default.bool.isRequired,showWhatsNewPopup:s.default.bool.isRequired,hideWhatsNewPopup:s.default.func.isRequired,notificationsToShow:s.default.bool.isRequired,showRecoveryPhraseReminder:s.default.bool.isRequired,setRecoveryPhraseReminderHasBeenShown:s.default.func.isRequired,setRecoveryPhraseReminderLastShown:s.default.func.isRequired,seedPhraseBackedUp:s.default.bool.isRequired})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{file:"/home/circleci/project/ui/pages/home/home.component.js"}],[4422,{"../../components/ui/loading-screen":4230,"../../helpers/constants/routes":4317,"../../store/actions":4647,"../confirm-approve":4396,"../confirm-decrypt-message":4399,"../confirm-deploy-contract":4402,"../confirm-encryption-public-key":4405,"../confirm-send-ether":4408,"../confirm-send-token":4411,"../confirm-token-transaction-base":4414,"../confirm-transaction-base":4417,"../confirm-transaction-switch":4420,"./conf-tx":4421,"@babel/runtime/helpers/defineProperty":178,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,"prop-types":3233,react:3454,"react-router-dom":3432},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireWildcard"),o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(e("@babel/runtime/helpers/defineProperty")),i=r(e("react")),s=o(e("prop-types")),c=e("react-router-dom"),l=o(e("../../components/ui/loading-screen")),u=o(e("../confirm-transaction-switch")),d=o(e("../confirm-transaction-base")),p=o(e("../confirm-send-ether")),f=o(e("../confirm-send-token")),h=o(e("../confirm-deploy-contract")),m=o(e("../confirm-approve")),b=o(e("../confirm-token-transaction-base")),g=o(e("../confirm-decrypt-message")),v=o(e("../confirm-encryption-public-key")),y=e("../../helpers/constants/routes"),w=e("../../store/actions"),E=o(e("./conf-tx"));class _ extends i.Component{constructor(e){super(e),(0,a.default)(this,"_beforeUnload",(()=>{this._isMounted=!1,this.state.pollingToken&&((0,w.disconnectGasFeeEstimatePoller)(this.state.pollingToken),(0,w.removePollingTokenFromAppState)(this.state.pollingToken))})),this.state={}}componentDidMount(){this._isMounted=!0;const{totalUnapprovedCount:e=0,sendTo:t,history:n,mostRecentOverviewPage:r,transaction:{txParams:{data:o,to:a}={}}={},getContractMethodData:i,transactionId:s,paramsTransactionId:c,getTokenParams:l,isTokenMethodAction:u}=this.props;if((0,w.getGasFeeEstimatesAndStartPolling)().then((e=>{this._isMounted?(this.setState({pollingToken:e}),(0,w.addPollingTokenToAppState)(e)):((0,w.disconnectGasFeeEstimatePoller)(e),(0,w.removePollingTokenFromAppState)(e))})),window.addEventListener("beforeunload",this._beforeUnload),!e&&!t)return void n.replace(r);i(o),u&&l(a);const d=s||c;d&&this.props.setTransactionToConfirm(d)}componentWillUnmount(){this._beforeUnload(),window.removeEventListener("beforeunload",this._beforeUnload)}componentDidUpdate(e){const{setTransactionToConfirm:t,transaction:{txData:{txParams:{data:n}={}}={}},clearConfirmTransaction:r,getContractMethodData:o,paramsTransactionId:a,transactionId:i,history:s,mostRecentOverviewPage:c,totalUnapprovedCount:l,setDefaultHomeActiveTabName:u}=this.props;a&&i&&e.paramsTransactionId!==a?(r(),o(n),t(a)):!e.transactionId||i||l?e.transactionId&&i&&e.transactionId!==i&&s.replace(c):u("Activity").then((()=>{s.replace(y.DEFAULT_ROUTE)}))}render(){const{transactionId:e,paramsTransactionId:t}=this.props;return!e||t&&t!==e?i.default.createElement(l.default,null):i.default.createElement(c.Switch,null,i.default.createElement(c.Route,{exact:!0,path:`${y.CONFIRM_TRANSACTION_ROUTE}/:id?${y.CONFIRM_DEPLOY_CONTRACT_PATH}`,component:h.default}),i.default.createElement(c.Route,{exact:!0,path:`${y.CONFIRM_TRANSACTION_ROUTE}/:id?${y.CONFIRM_TOKEN_METHOD_PATH}`,component:d.default}),i.default.createElement(c.Route,{exact:!0,path:`${y.CONFIRM_TRANSACTION_ROUTE}/:id?${y.CONFIRM_SEND_ETHER_PATH}`,component:p.default}),i.default.createElement(c.Route,{exact:!0,path:`${y.CONFIRM_TRANSACTION_ROUTE}/:id?${y.CONFIRM_SEND_TOKEN_PATH}`,component:f.default}),i.default.createElement(c.Route,{exact:!0,path:`${y.CONFIRM_TRANSACTION_ROUTE}/:id?${y.CONFIRM_APPROVE_PATH}`,component:m.default}),i.default.createElement(c.Route,{exact:!0,path:`${y.CONFIRM_TRANSACTION_ROUTE}/:id?${y.CONFIRM_TRANSFER_FROM_PATH}`,component:b.default}),i.default.createElement(c.Route,{exact:!0,path:`${y.CONFIRM_TRANSACTION_ROUTE}/:id?${y.SIGNATURE_REQUEST_PATH}`,component:E.default}),i.default.createElement(c.Route,{exact:!0,path:`${y.CONFIRM_TRANSACTION_ROUTE}/:id?${y.DECRYPT_MESSAGE_REQUEST_PATH}`,component:g.default}),i.default.createElement(c.Route,{exact:!0,path:`${y.CONFIRM_TRANSACTION_ROUTE}/:id?${y.ENCRYPTION_PUBLIC_KEY_REQUEST_PATH}`,component:v.default}),i.default.createElement(c.Route,{path:"*",component:u.default}))}}n.default=_,(0,a.default)(_,"contextTypes",{metricsEvent:s.default.func}),(0,a.default)(_,"propTypes",{history:s.default.object.isRequired,totalUnapprovedCount:s.default.number.isRequired,sendTo:s.default.string,setTransactionToConfirm:s.default.func,clearConfirmTransaction:s.default.func,mostRecentOverviewPage:s.default.string.isRequired,transaction:s.default.object,getContractMethodData:s.default.func,transactionId:s.default.string,paramsTransactionId:s.default.string,getTokenParams:s.default.func,isTokenMethodAction:s.default.bool,setDefaultHomeActiveTabName:s.default.func})},{file:"/home/circleci/project/ui/pages/confirm-transaction/confirm-transaction.component.js"}],[4637,{"../../components/ui/mascot":4234,"../../components/ui/text-field":4273,"../../helpers/constants/routes":4317,"@babel/runtime/helpers/defineProperty":178,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,"@material-ui/core/Button":547,events:1714,"prop-types":3233,react:3454,"textarea-caret":3751},function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireWildcard"),o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(e("@babel/runtime/helpers/defineProperty")),i=e("events"),s=r(e("react")),c=o(e("prop-types")),l=o(e("@material-ui/core/Button")),u=o(e("textarea-caret")),d=o(e("../../components/ui/text-field")),p=o(e("../../components/ui/mascot")),f=e("../../helpers/constants/routes");class h extends s.Component{constructor(...e){super(...e),(0,a.default)(this,"state",{password:"",error:null}),(0,a.default)(this,"submitting",!1),(0,a.default)(this,"animationEventEmitter",new i.EventEmitter),(0,a.default)(this,"handleSubmit",(async e=>{e.preventDefault(),e.stopPropagation();const{password:t}=this.state,{onSubmit:n,forceUpdateMetamaskState:r,showOptInModal:o}=this.props;if(""!==t&&!this.submitting){this.setState({error:null}),this.submitting=!0;try{await n(t);const e=await r();this.context.metricsEvent({eventOpts:{category:"Navigation",action:"Unlock",name:"Success"},isNewVisit:!0}),null!==e.participateInMetaMetrics&&void 0!==e.participateInMetaMetrics||o()}catch({message:e}){if("Incorrect password"===e){const e=await r();this.context.metricsEvent({eventOpts:{category:"Navigation",action:"Unlock",name:"Incorrect Password"},customVariables:{numberOfTokens:e.tokens.length,numberOfAccounts:Object.keys(e.accounts).length}})}this.setState({error:e}),this.submitting=!1}}}))}UNSAFE_componentWillMount(){const{isUnlocked:e,history:t}=this.props;e&&t.push(f.DEFAULT_ROUTE)}handleInputChange({target:e}){if(this.setState({password:e.value,error:null}),e.getBoundingClientRect){const t=e,n=t.getBoundingClientRect(),r=(0,u.default)(t,t.selectionEnd);this.animationEventEmitter.emit("point",{x:n.left+r.left-t.scrollLeft,y:n.top+r.top-t.scrollTop})}}renderSubmitButton(){return s.default.createElement(l.default,{type:"submit",style:{backgroundColor:"#037dd6",color:"white",marginTop:"20px",height:"60px",fontWeight:"400",boxShadow:"none",borderRadius:"4px"},disabled:!this.state.password,fullWidth:!0,variant:"contained",size:"large",onClick:this.handleSubmit,disableRipple:!0},this.context.t("unlock"))}render(){const{password:e,error:t}=this.state,{t:n}=this.context,{onRestore:r}=this.props;return s.default.createElement("div",{className:"unlock-page__container"},s.default.createElement("div",{className:"unlock-page"},s.default.createElement("div",{className:"unlock-page__mascot-container"},s.default.createElement(p.default,{animationEventEmitter:this.animationEventEmitter,width:"120",height:"120"})),s.default.createElement("h1",{className:"unlock-page__title"},n("welcomeBack")),s.default.createElement("div",null,n("unlockMessage")),s.default.createElement("form",{className:"unlock-page__form",onSubmit:this.handleSubmit},s.default.createElement(d.default,{id:"password",label:n("password"),type:"password",value:e,onChange:e=>this.handleInputChange(e),error:t,autoFocus:!0,autoComplete:"current-password",theme:"material",fullWidth:!0})),this.renderSubmitButton(),s.default.createElement("div",{className:"unlock-page__links"},n("importAccountText",[s.default.createElement("button",{key:"import-account",className:"unlock-page__link unlock-page__link--import",onClick:()=>r()},n("importAccountLinkText"))])),s.default.createElement("div",{className:"unlock-page__support"},n("needHelp",[s.default.createElement("a",{href:"https://support.metamask.io",target:"_blank",rel:"noopener noreferrer",key:"need-help-link"},n("needHelpLinkText"))]))))}}n.default=h,(0,a.default)(h,"contextTypes",{metricsEvent:c.default.func,t:c.default.func}),(0,a.default)(h,"propTypes",{history:c.default.object.isRequired,isUnlocked:c.default.bool,onRestore:c.default.func,onSubmit:c.default.func,forceUpdateMetamaskState:c.default.func,showOptInModal:c.default.func})},{file:"/home/circleci/project/ui/pages/unlock-page/unlock-page.component.js"}],[3702,{},function(e,t,n){for(var r=[],o=0;o<256;++o)r[o]=(o+256).toString(16).substr(1);t.exports=function(e,t){var n=t||0,o=r;return o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]}},{file:"/home/circleci/project/node_modules/socketcluster-client/node_modules/uuid/lib/bytesToUuid.js"}],[3703,{},function(e,t,n){var r="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(r){var o=new Uint8Array(16);t.exports=function(){return r(o),o}}else{var a=new Array(16);t.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),a[t]=e>>>((3&t)<<3)&255;return a}}},{file:"/home/circleci/project/node_modules/socketcluster-client/node_modules/uuid/lib/rng-browser.js"}],[2857,{},function(e,t,n){t.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},{file:"/home/circleci/project/node_modules/lodash/_arrayPush.js"}],[2918,{"./_Symbol":2848,"./isArguments":2966,"./isArray":2967},function(e,t,n){var r=e("./_Symbol"),o=e("./isArguments"),a=e("./isArray"),i=r?r.isConcatSpreadable:void 0;t.exports=function(e){return a(e)||o(e)||!!(i&&e&&e[i])}},{file:"/home/circleci/project/node_modules/lodash/_isFlattenable.js"}],[2943,{"./_apply":2851},function(e,t,n){var r=e("./_apply"),o=Math.max;t.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var a=arguments,i=-1,s=o(a.length-t,0),c=Array(s);++i<s;)c[i]=a[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=a[i];return l[t]=n(c),r(e,this,l)}}},{file:"/home/circleci/project/node_modules/lodash/_overRest.js"}],[2948,{"./_baseSetToString":2886,"./_shortOut":2949},function(e,t,n){var r=e("./_baseSetToString"),o=e("./_shortOut")(r);t.exports=o},{file:"/home/circleci/project/node_modules/lodash/_setToString.js"}],[2846,{"./_MapCache":2843,"./_setCacheAdd":2945,"./_setCacheHas":2946},function(e,t,n){var r=e("./_MapCache"),o=e("./_setCacheAdd"),a=e("./_setCacheHas");function i(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}i.prototype.add=i.prototype.push=o,i.prototype.has=a,t.exports=i},{file:"/home/circleci/project/node_modules/lodash/_SetCache.js"}],[2853,{"./_baseIndexOf":2870},function(e,t,n){var r=e("./_baseIndexOf");t.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},{file:"/home/circleci/project/node_modules/lodash/_arrayIncludes.js"}],[2854,{},function(e,t,n){t.exports=function(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}},{file:"/home/circleci/project/node_modules/lodash/_arrayIncludesWith.js"}],[2892,{},function(e,t,n){t.exports=function(e,t){return e.has(t)}},{file:"/home/circleci/project/node_modules/lodash/_cacheHas.js"}],[2947,{},function(e,t,n){t.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},{file:"/home/circleci/project/node_modules/lodash/_setToArray.js"}],[2897,{"./_Set":2845,"./_setToArray":2947,"./noop":2982},function(e,t,n){var r=e("./_Set"),o=e("./noop"),a=e("./_setToArray"),i=r&&1/a(new r([,-0]))[1]==1/0?function(e){return new r(e)}:o;t.exports=i},{file:"/home/circleci/project/node_modules/lodash/_createSet.js"}],[2896,{},function(e,t,n){t.exports=function(e){return function(t,n,r){for(var o=-1,a=Object(t),i=r(t),s=i.length;s--;){var c=i[e?s:++o];if(!1===n(a[c],c,a))break}return t}}},{file:"/home/circleci/project/node_modules/lodash/_createBaseFor.js"}],[2884,{"./_baseGet":2866},function(e,t,n){var r=e("./_baseGet");t.exports=function(e){return function(t){return r(t,e)}}},{file:"/home/circleci/project/node_modules/lodash/_basePropertyDeep.js"}],[2936,{},function(e,t,n){t.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},{file:"/home/circleci/project/node_modules/lodash/_matchesStrictComparable.js"}],[2905,{"./_isStrictComparable":2924,"./keys":2978},function(e,t,n){var r=e("./_isStrictComparable"),o=e("./keys");t.exports=function(e){for(var t=o(e),n=t.length;n--;){var a=t[n],i=e[a];t[n]=[a,i,r(i)]}return t}},{file:"/home/circleci/project/node_modules/lodash/_getMatchData.js"}],[2875,{"./_Stack":2847,"./_baseIsEqual":2873},function(e,t,n){var r=e("./_Stack"),o=e("./_baseIsEqual");t.exports=function(e,t,n,a){var i=n.length,s=i,c=!a;if(null==e)return!s;for(e=Object(e);i--;){var l=n[i];if(c&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<s;){var u=(l=n[i])[0],d=e[u],p=l[1];if(c&&l[2]){if(void 0===d&&!(u in e))return!1}else{var f=new r;if(a)var h=a(d,p,u,e,t,f);if(!(void 0===h?o(p,d,3,a,f):h))return!1}}return!0}},{file:"/home/circleci/project/node_modules/lodash/_baseIsMatch.js"}],[2924,{"./isObject":2973},function(e,t,n){var r=e("./isObject");t.exports=function(e){return e==e&&!r(e)}},{file:"/home/circleci/project/node_modules/lodash/_isStrictComparable.js"}],[2873,{"./_baseIsEqualDeep":2874,"./isObjectLike":2974},function(e,t,n){var r=e("./_baseIsEqualDeep"),o=e("./isObjectLike");t.exports=function e(t,n,a,i,s){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:r(t,n,a,i,e,s))}},{file:"/home/circleci/project/node_modules/lodash/_baseIsEqual.js"}],[2963,{"./_baseHasIn":2869,"./_hasPath":2912},function(e,t,n){var r=e("./_baseHasIn"),o=e("./_hasPath");t.exports=function(e,t){return null!=e&&o(e,t,r)}},{file:"/home/circleci/project/node_modules/lodash/hasIn.js"}],[3326,{},function(e,t,n){var r,o=function(){var e=function(e,t){var n=e,r=u[t],o=null,a=0,i=null,s=[],c={},l=function(e,t){o=function(e){for(var t=new Array(e),n=0;n<e;n+=1){t[n]=new Array(e);for(var r=0;r<e;r+=1)t[n][r]=null}return t}(a=4*n+17),d(0,0),d(a-7,0),d(0,a-7),f(),p(),m(e,t),n>=7&&h(e),null==i&&(i=g(n,r,s)),b(i,t)},d=function(e,t){for(var n=-1;n<=7;n+=1)if(!(e+n<=-1||a<=e+n))for(var r=-1;r<=7;r+=1)t+r<=-1||a<=t+r||(o[e+n][t+r]=0<=n&&n<=6&&(0==r||6==r)||0<=r&&r<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=r&&r<=4)},p=function(){for(var e=8;e<a-8;e+=1)null==o[e][6]&&(o[e][6]=e%2==0);for(var t=8;t<a-8;t+=1)null==o[6][t]&&(o[6][t]=t%2==0)},f=function(){for(var e=y.getPatternPosition(n),t=0;t<e.length;t+=1)for(var r=0;r<e.length;r+=1){var a=e[t],i=e[r];if(null==o[a][i])for(var s=-2;s<=2;s+=1)for(var c=-2;c<=2;c+=1)o[a+s][i+c]=-2==s||2==s||-2==c||2==c||0==s&&0==c}},h=function(e){for(var t=y.getBCHTypeNumber(n),r=0;r<18;r+=1){var i=!e&&1==(t>>r&1);o[Math.floor(r/3)][r%3+a-8-3]=i}for(r=0;r<18;r+=1){i=!e&&1==(t>>r&1);o[r%3+a-8-3][Math.floor(r/3)]=i}},m=function(e,t){for(var n=r<<3|t,i=y.getBCHTypeInfo(n),s=0;s<15;s+=1){var c=!e&&1==(i>>s&1);s<6?o[s][8]=c:s<8?o[s+1][8]=c:o[a-15+s][8]=c}for(s=0;s<15;s+=1){c=!e&&1==(i>>s&1);s<8?o[8][a-s-1]=c:s<9?o[8][15-s-1+1]=c:o[8][15-s-1]=c}o[a-8][8]=!e},b=function(e,t){for(var n=-1,r=a-1,i=7,s=0,c=y.getMaskFunction(t),l=a-1;l>0;l-=2)for(6==l&&(l-=1);;){for(var u=0;u<2;u+=1)if(null==o[r][l-u]){var d=!1;s<e.length&&(d=1==(e[s]>>>i&1)),c(r,l-u)&&(d=!d),o[r][l-u]=d,-1==(i-=1)&&(s+=1,i=7)}if((r+=n)<0||a<=r){r-=n,n=-n;break}}},g=function(e,t,n){for(var r=_.getRSBlocks(e,t),o=k(),a=0;a<n.length;a+=1){var i=n[a];o.put(i.getMode(),4),o.put(i.getLength(),y.getLengthInBits(i.getMode(),e)),i.write(o)}var s=0;for(a=0;a<r.length;a+=1)s+=r[a].dataCount;if(o.getLengthInBits()>8*s)throw"code length overflow. ("+o.getLengthInBits()+">"+8*s+")";for(o.getLengthInBits()+4<=8*s&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(!1);for(;!(o.getLengthInBits()>=8*s||(o.put(236,8),o.getLengthInBits()>=8*s));)o.put(17,8);return function(e,t){for(var n=0,r=0,o=0,a=new Array(t.length),i=new Array(t.length),s=0;s<t.length;s+=1){var c=t[s].dataCount,l=t[s].totalCount-c;r=Math.max(r,c),o=Math.max(o,l),a[s]=new Array(c);for(var u=0;u<a[s].length;u+=1)a[s][u]=255&e.getBuffer()[u+n];n+=c;var d=y.getErrorCorrectPolynomial(l),p=E(a[s],d.getLength()-1).mod(d);for(i[s]=new Array(d.getLength()-1),u=0;u<i[s].length;u+=1){var f=u+p.getLength()-i[s].length;i[s][u]=f>=0?p.getAt(f):0}}var h=0;for(u=0;u<t.length;u+=1)h+=t[u].totalCount;var m=new Array(h),b=0;for(u=0;u<r;u+=1)for(s=0;s<t.length;s+=1)u<a[s].length&&(m[b]=a[s][u],b+=1);for(u=0;u<o;u+=1)for(s=0;s<t.length;s+=1)u<i[s].length&&(m[b]=i[s][u],b+=1);return m}(o,r)};c.addData=function(e,t){var n=null;switch(t=t||"Byte"){case"Numeric":n=T(e);break;case"Alphanumeric":n=S(e);break;case"Byte":n=O(e);break;case"Kanji":n=R(e);break;default:throw"mode:"+t}s.push(n),i=null},c.isDark=function(e,t){if(e<0||a<=e||t<0||a<=t)throw e+","+t;return o[e][t]},c.getModuleCount=function(){return a},c.make=function(){if(n<1){for(var e=1;e<40;e++){for(var t=_.getRSBlocks(e,r),o=k(),a=0;a<s.length;a++){var i=s[a];o.put(i.getMode(),4),o.put(i.getLength(),y.getLengthInBits(i.getMode(),e)),i.write(o)}var u=0;for(a=0;a<t.length;a++)u+=t[a].dataCount;if(o.getLengthInBits()<=8*u)break}n=e}l(!1,function(){for(var e=0,t=0,n=0;n<8;n+=1){l(!0,n);var r=y.getLostPoint(c);(0==n||e>r)&&(e=r,t=n)}return t}())},c.createTableTag=function(e,t){e=e||2;var n="";n+='<table style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: "+(t=void 0===t?4*e:t)+"px;",n+='">',n+="<tbody>";for(var r=0;r<c.getModuleCount();r+=1){n+="<tr>";for(var o=0;o<c.getModuleCount();o+=1)n+='<td style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: 0px;",n+=" width: "+e+"px;",n+=" height: "+e+"px;",n+=" background-color: ",n+=c.isDark(r,o)?"#000000":"#ffffff",n+=";",n+='"/>';n+="</tr>"}return n+="</tbody>",n+="</table>"},c.createSvgTag=function(e,t){e=e||2,t=void 0===t?4*e:t;var n,r,o,a,i=c.getModuleCount()*e+2*t,s="";for(a="l"+e+",0 0,"+e+" -"+e+",0 0,-"+e+"z ",s+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',s+=' width="'+i+'px"',s+=' height="'+i+'px"',s+=' viewBox="0 0 '+i+" "+i+'" ',s+=' preserveAspectRatio="xMinYMin meet">',s+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',s+='<path d="',r=0;r<c.getModuleCount();r+=1)for(o=r*e+t,n=0;n<c.getModuleCount();n+=1)c.isDark(r,n)&&(s+="M"+(n*e+t)+","+o+a);return s+='" stroke="transparent" fill="black"/>',s+="</svg>"},c.createDataURL=function(e,t){e=e||2,t=void 0===t?4*e:t;var n=c.getModuleCount()*e+2*t,r=t,o=n-t;return A(n,n,(function(t,n){if(r<=t&&t<o&&r<=n&&n<o){var a=Math.floor((t-r)/e),i=Math.floor((n-r)/e);return c.isDark(i,a)?0:1}return 1}))},c.createImgTag=function(e,t,n){e=e||2,t=void 0===t?4*e:t;var r=c.getModuleCount()*e+2*t,o="";return o+="<img",o+=' src="',o+=c.createDataURL(e,t),o+='"',o+=' width="',o+=r,o+='"',o+=' height="',o+=r,o+='"',n&&(o+=' alt="',o+=n,o+='"'),o+="/>"};return c.createASCII=function(e,t){if((e=e||1)<2)return function(e){e=void 0===e?2:e;var t,n,r,o,a,i=1*c.getModuleCount()+2*e,s=e,l=i-e,u={"":""," ":""," ":"","  ":" "},d="";for(t=0;t<i;t+=2){for(r=Math.floor((t-s)/1),o=Math.floor((t+1-s)/1),n=0;n<i;n+=1)a="",s<=n&&n<l&&s<=t&&t<l&&c.isDark(r,Math.floor((n-s)/1))&&(a=" "),s<=n&&n<l&&s<=t+1&&t+1<l&&c.isDark(o,Math.floor((n-s)/1))?a+=" ":a+="",d+=u[a];d+="\n"}return i%2?d.substring(0,d.length-i-1)+Array(i+1).join(""):d.substring(0,d.length-1)}(t);e-=1,t=void 0===t?2*e:t;var n,r,o,a,i=c.getModuleCount()*e+2*t,s=t,l=i-t,u=Array(e+1).join(""),d=Array(e+1).join("  "),p="",f="";for(n=0;n<i;n+=1){for(o=Math.floor((n-s)/e),f="",r=0;r<i;r+=1)a=1,s<=r&&r<l&&s<=n&&n<l&&c.isDark(o,Math.floor((r-s)/e))&&(a=0),f+=a?u:d;for(o=0;o<e;o+=1)p+=f+"\n"}return p.substring(0,p.length-1)},c.renderTo2dContext=function(e,t){t=t||2;for(var n=c.getModuleCount(),r=0;r<n;r++)for(var o=0;o<n;o++)e.fillStyle=c.isDark(r,o)?"black":"white",e.fillRect(r*t,o*t,t,t)},c};e.stringToBytes=(e.stringToBytesFuncs={default:function(e){for(var t=[],n=0;n<e.length;n+=1){var r=e.charCodeAt(n);t.push(255&r)}return t}}).default,e.createStringToBytes=function(e,t){var n=function(){for(var n=x(e),r=function(){var e=n.read();if(-1==e)throw"eof";return e},o=0,a={};;){var i=n.read();if(-1==i)break;var s=r(),c=r()<<8|r();a[String.fromCharCode(i<<8|s)]=c,o+=1}if(o!=t)throw o+" != "+t;return a}(),r="?".charCodeAt(0);return function(e){for(var t=[],o=0;o<e.length;o+=1){var a=e.charCodeAt(o);if(a<128)t.push(a);else{var i=n[e.charAt(o)];"number"==typeof i?(255&i)==i?t.push(i):(t.push(i>>>8),t.push(255&i)):t.push(r)}}return t}};var t,n,r,o,a,i=1,s=2,c=4,l=8,u={L:1,M:0,Q:3,H:2},d=0,p=1,f=2,h=3,m=4,b=5,g=6,v=7,y=(t=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],n=1335,r=7973,a=function(e){for(var t=0;0!=e;)t+=1,e>>>=1;return t},(o={}).getBCHTypeInfo=function(e){for(var t=e<<10;a(t)-a(n)>=0;)t^=n<<a(t)-a(n);return 21522^(e<<10|t)},o.getBCHTypeNumber=function(e){for(var t=e<<12;a(t)-a(r)>=0;)t^=r<<a(t)-a(r);return e<<12|t},o.getPatternPosition=function(e){return t[e-1]},o.getMaskFunction=function(e){switch(e){case d:return function(e,t){return(e+t)%2==0};case p:return function(e,t){return e%2==0};case f:return function(e,t){return t%3==0};case h:return function(e,t){return(e+t)%3==0};case m:return function(e,t){return(Math.floor(e/2)+Math.floor(t/3))%2==0};case b:return function(e,t){return e*t%2+e*t%3==0};case g:return function(e,t){return(e*t%2+e*t%3)%2==0};case v:return function(e,t){return(e*t%3+(e+t)%2)%2==0};default:throw"bad maskPattern:"+e}},o.getErrorCorrectPolynomial=function(e){for(var t=E([1],0),n=0;n<e;n+=1)t=t.multiply(E([1,w.gexp(n)],0));return t},o.getLengthInBits=function(e,t){if(1<=t&&t<10)switch(e){case i:return 10;case s:return 9;case c:case l:return 8;default:throw"mode:"+e}else if(t<27)switch(e){case i:return 12;case s:return 11;case c:return 16;case l:return 10;default:throw"mode:"+e}else{if(!(t<41))throw"type:"+t;switch(e){case i:return 14;case s:return 13;case c:return 16;case l:return 12;default:throw"mode:"+e}}},o.getLostPoint=function(e){for(var t=e.getModuleCount(),n=0,r=0;r<t;r+=1)for(var o=0;o<t;o+=1){for(var a=0,i=e.isDark(r,o),s=-1;s<=1;s+=1)if(!(r+s<0||t<=r+s))for(var c=-1;c<=1;c+=1)o+c<0||t<=o+c||0==s&&0==c||i==e.isDark(r+s,o+c)&&(a+=1);a>5&&(n+=3+a-5)}for(r=0;r<t-1;r+=1)for(o=0;o<t-1;o+=1){var l=0;e.isDark(r,o)&&(l+=1),e.isDark(r+1,o)&&(l+=1),e.isDark(r,o+1)&&(l+=1),e.isDark(r+1,o+1)&&(l+=1),0!=l&&4!=l||(n+=3)}for(r=0;r<t;r+=1)for(o=0;o<t-6;o+=1)e.isDark(r,o)&&!e.isDark(r,o+1)&&e.isDark(r,o+2)&&e.isDark(r,o+3)&&e.isDark(r,o+4)&&!e.isDark(r,o+5)&&e.isDark(r,o+6)&&(n+=40);for(o=0;o<t;o+=1)for(r=0;r<t-6;r+=1)e.isDark(r,o)&&!e.isDark(r+1,o)&&e.isDark(r+2,o)&&e.isDark(r+3,o)&&e.isDark(r+4,o)&&!e.isDark(r+5,o)&&e.isDark(r+6,o)&&(n+=40);var u=0;for(o=0;o<t;o+=1)for(r=0;r<t;r+=1)e.isDark(r,o)&&(u+=1);return n+=Math.abs(100*u/t/t-50)/5*10},o),w=function(){for(var e=new Array(256),t=new Array(256),n=0;n<8;n+=1)e[n]=1<<n;for(n=8;n<256;n+=1)e[n]=e[n-4]^e[n-5]^e[n-6]^e[n-8];for(n=0;n<255;n+=1)t[e[n]]=n;var r={glog:function(e){if(e<1)throw"glog("+e+")";return t[e]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return e[t]}};return r}();function E(e,t){if(void 0===e.length)throw e.length+"/"+t;var n=function(){for(var n=0;n<e.length&&0==e[n];)n+=1;for(var r=new Array(e.length-n+t),o=0;o<e.length-n;o+=1)r[o]=e[o+n];return r}(),r={getAt:function(e){return n[e]},getLength:function(){return n.length},multiply:function(e){for(var t=new Array(r.getLength()+e.getLength()-1),n=0;n<r.getLength();n+=1)for(var o=0;o<e.getLength();o+=1)t[n+o]^=w.gexp(w.glog(r.getAt(n))+w.glog(e.getAt(o)));return E(t,0)},mod:function(e){if(r.getLength()-e.getLength()<0)return r;for(var t=w.glog(r.getAt(0))-w.glog(e.getAt(0)),n=new Array(r.getLength()),o=0;o<r.getLength();o+=1)n[o]=r.getAt(o);for(o=0;o<e.getLength();o+=1)n[o]^=w.gexp(w.glog(e.getAt(o))+t);return E(n,0).mod(e)}};return r}var _=function(){var e=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],t=function(e,t){var n={};return n.totalCount=e,n.dataCount=t,n},n={};return n.getRSBlocks=function(n,r){var o=function(t,n){switch(n){case u.L:return e[4*(t-1)+0];case u.M:return e[4*(t-1)+1];case u.Q:return e[4*(t-1)+2];case u.H:return e[4*(t-1)+3];default:return}}(n,r);if(void 0===o)throw"bad rs block @ typeNumber:"+n+"/errorCorrectionLevel:"+r;for(var a=o.length/3,i=[],s=0;s<a;s+=1)for(var c=o[3*s+0],l=o[3*s+1],d=o[3*s+2],p=0;p<c;p+=1)i.push(t(l,d));return i},n}(),k=function(){var e=[],t=0,n={getBuffer:function(){return e},getAt:function(t){var n=Math.floor(t/8);return 1==(e[n]>>>7-t%8&1)},put:function(e,t){for(var r=0;r<t;r+=1)n.putBit(1==(e>>>t-r-1&1))},getLengthInBits:function(){return t},putBit:function(n){var r=Math.floor(t/8);e.length<=r&&e.push(0),n&&(e[r]|=128>>>t%8),t+=1}};return n},T=function(e){var t=i,n=e,r={getMode:function(){return t},getLength:function(e){return n.length},write:function(e){for(var t=n,r=0;r+2<t.length;)e.put(o(t.substring(r,r+3)),10),r+=3;r<t.length&&(t.length-r==1?e.put(o(t.substring(r,r+1)),4):t.length-r==2&&e.put(o(t.substring(r,r+2)),7))}},o=function(e){for(var t=0,n=0;n<e.length;n+=1)t=10*t+a(e.charAt(n));return t},a=function(e){if("0"<=e&&e<="9")return e.charCodeAt(0)-"0".charCodeAt(0);throw"illegal char :"+e};return r},S=function(e){var t=s,n=e,r={getMode:function(){return t},getLength:function(e){return n.length},write:function(e){for(var t=n,r=0;r+1<t.length;)e.put(45*o(t.charAt(r))+o(t.charAt(r+1)),11),r+=2;r<t.length&&e.put(o(t.charAt(r)),6)}},o=function(e){if("0"<=e&&e<="9")return e.charCodeAt(0)-"0".charCodeAt(0);if("A"<=e&&e<="Z")return e.charCodeAt(0)-"A".charCodeAt(0)+10;switch(e){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+e}};return r},O=function(t){var n=c,r=e.stringToBytes(t),o={getMode:function(){return n},getLength:function(e){return r.length},write:function(e){for(var t=0;t<r.length;t+=1)e.put(r[t],8)}};return o},R=function(t){var n=l,r=e.stringToBytesFuncs.SJIS;if(!r)throw"sjis not supported.";!function(e,t){var n=r("");if(2!=n.length||38726!=(n[0]<<8|n[1]))throw"sjis not supported."}();var o=r(t),a={getMode:function(){return n},getLength:function(e){return~~(o.length/2)},write:function(e){for(var t=o,n=0;n+1<t.length;){var r=(255&t[n])<<8|255&t[n+1];if(33088<=r&&r<=40956)r-=33088;else{if(!(57408<=r&&r<=60351))throw"illegal char at "+(n+1)+"/"+r;r-=49472}r=192*(r>>>8&255)+(255&r),e.put(r,13),n+=2}if(n<t.length)throw"illegal char at "+(n+1)}};return a},P=function(){var e=[],t={writeByte:function(t){e.push(255&t)},writeShort:function(e){t.writeByte(e),t.writeByte(e>>>8)},writeBytes:function(e,n,r){n=n||0,r=r||e.length;for(var o=0;o<r;o+=1)t.writeByte(e[o+n])},writeString:function(e){for(var n=0;n<e.length;n+=1)t.writeByte(e.charCodeAt(n))},toByteArray:function(){return e},toString:function(){var t="";t+="[";for(var n=0;n<e.length;n+=1)n>0&&(t+=","),t+=e[n];return t+="]"}};return t},x=function(e){var t=e,n=0,r=0,o=0,a={read:function(){for(;o<8;){if(n>=t.length){if(0==o)return-1;throw"unexpected end of file./"+o}var e=t.charAt(n);if(n+=1,"="==e)return o=0,-1;e.match(/^\s$/)||(r=r<<6|i(e.charCodeAt(0)),o+=6)}var a=r>>>o-8&255;return o-=8,a}},i=function(e){if(65<=e&&e<=90)return e-65;if(97<=e&&e<=122)return e-97+26;if(48<=e&&e<=57)return e-48+52;if(43==e)return 62;if(47==e)return 63;throw"c:"+e};return a},A=function(e,t,n){for(var r=function(e,t){var n=e,r=t,o=new Array(e*t),a={setPixel:function(e,t,r){o[t*n+e]=r},write:function(e){e.writeString("GIF87a"),e.writeShort(n),e.writeShort(r),e.writeByte(128),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(255),e.writeByte(255),e.writeByte(255),e.writeString(","),e.writeShort(0),e.writeShort(0),e.writeShort(n),e.writeShort(r),e.writeByte(0);var t=i(2);e.writeByte(2);for(var o=0;t.length-o>255;)e.writeByte(255),e.writeBytes(t,o,255),o+=255;e.writeByte(t.length-o),e.writeBytes(t,o,t.length-o),e.writeByte(0),e.writeString(";")}},i=function(e){for(var t=1<<e,n=1+(1<<e),r=e+1,a=s(),i=0;i<t;i+=1)a.add(String.fromCharCode(i));a.add(String.fromCharCode(t)),a.add(String.fromCharCode(n));var c,l,u,d=P(),p=(c=d,l=0,u=0,{write:function(e,t){if(e>>>t!=0)throw"length over";for(;l+t>=8;)c.writeByte(255&(e<<l|u)),t-=8-l,e>>>=8-l,u=0,l=0;u|=e<<l,l+=t},flush:function(){l>0&&c.writeByte(u)}});p.write(t,r);var f=0,h=String.fromCharCode(o[f]);for(f+=1;f<o.length;){var m=String.fromCharCode(o[f]);f+=1,a.contains(h+m)?h+=m:(p.write(a.indexOf(h),r),a.size()<4095&&(a.size()==1<<r&&(r+=1),a.add(h+m)),h=m)}return p.write(a.indexOf(h),r),p.write(n,r),p.flush(),d.toByteArray()},s=function(){var e={},t=0,n={add:function(r){if(n.contains(r))throw"dup key:"+r;e[r]=t,t+=1},size:function(){return t},indexOf:function(t){return e[t]},contains:function(t){return void 0!==e[t]}};return n};return a}(e,t),o=0;o<t;o+=1)for(var a=0;a<e;a+=1)r.setPixel(a,o,n(a,o));var i=P();r.write(i);for(var s=function(){var e=0,t=0,n=0,r="",o={},a=function(e){r+=String.fromCharCode(i(63&e))},i=function(e){if(e<0);else{if(e<26)return 65+e;if(e<52)return e-26+97;if(e<62)return e-52+48;if(62==e)return 43;if(63==e)return 47}throw"n:"+e};return o.writeByte=function(r){for(e=e<<8|255&r,t+=8,n+=1;t>=6;)a(e>>>t-6),t-=6},o.flush=function(){if(t>0&&(a(e<<6-t),e=0,t=0),n%3!=0)for(var o=3-n%3,i=0;i<o;i+=1)r+="="},o.toString=function(){return r},o}(),c=i.toByteArray(),l=0;l<c.length;l+=1)s.writeByte(c[l]);return s.flush(),"data:image/gif;base64,"+s};return e}();o.stringToBytesFuncs["UTF-8"]=function(e){return function(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t.push(r):r<2048?t.push(192|r>>6,128|63&r):r<55296||r>=57344?t.push(224|r>>12,128|r>>6&63,128|63&r):(n++,r=65536+((1023&r)<<10|1023&e.charCodeAt(n)),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r))}return t}(e)},r=function(){return o},"function"==typeof define&&define.amd?define([],r):"object"==typeof n&&(t.exports=r())},{file:"/home/circleci/project/node_modules/qrcode-generator/qrcode.js"}]],[],{});