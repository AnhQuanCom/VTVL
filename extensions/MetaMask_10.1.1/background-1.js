LavaPack.loadBundle([[33,{"../../../../../shared/constants/transaction":3921,"../../../../../shared/modules/hexstring-utils":3926,"../../../../../shared/modules/transaction.utils":3931,"../../../lib/util":78,"eth-rpc-errors":2056},function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.normalizeAndValidateTxParams=function(e,t=!0){const r=u(e,t);return h(r),r},r.normalizeTxParams=u,r.validateTxParams=h,r.validateFrom=p,r.validateRecipient=m,r.getFinalStates=function(){return[s.TRANSACTION_STATUSES.REJECTED,s.TRANSACTION_STATUSES.CONFIRMED,s.TRANSACTION_STATUSES.FAILED,s.TRANSACTION_STATUSES.DROPPED]};var n=e("eth-rpc-errors"),i=e("../../../lib/util"),s=e("../../../../../shared/constants/transaction"),o=e("../../../../../shared/modules/transaction.utils"),a=e("../../../../../shared/modules/hexstring-utils");const c={from:i.addHexPrefix,to:(e,t)=>t?(0,i.addHexPrefix)(e).toLowerCase():(0,i.addHexPrefix)(e),nonce:i.addHexPrefix,value:i.addHexPrefix,data:i.addHexPrefix,gas:i.addHexPrefix,gasPrice:i.addHexPrefix,maxFeePerGas:i.addHexPrefix,maxPriorityFeePerGas:i.addHexPrefix,type:i.addHexPrefix};function u(e,t=!0){const r={};for(const n in c)e[n]&&(r[n]=c[n](e[n],t));return r}function l(e,t,r){if(void 0!==e[r])throw n.ethErrors.rpc.invalidParams(`Invalid transaction params: specified ${t} but also included ${r}, these cannot be mixed`)}function d(e,t){if("string"!=typeof e[t])throw n.ethErrors.rpc.invalidParams(`Invalid transaction params: ${t} is not a string. got: (${e[t]})`)}function f(e,t){switch(t){case"maxFeePerGas":case"maxPriorityFeePerGas":if(e.type&&e.type!==s.TRANSACTION_ENVELOPE_TYPES.FEE_MARKET)throw n.ethErrors.rpc.invalidParams(`Invalid transaction envelope type: specified type "${e.type}" but including maxFeePerGas and maxPriorityFeePerGas requires type: "${s.TRANSACTION_ENVELOPE_TYPES.FEE_MARKET}"`);break;case"gasPrice":default:if(e.type&&e.type===s.TRANSACTION_ENVELOPE_TYPES.FEE_MARKET)throw n.ethErrors.rpc.invalidParams(`Invalid transaction envelope type: specified type "${e.type}" but included a gasPrice instead of maxFeePerGas and maxPriorityFeePerGas`)}}function h(e,t=!0){if(!e||"object"!=typeof e||Array.isArray(e))throw n.ethErrors.rpc.invalidParams("Invalid transaction params: must be an object.");if(!e.to&&!e.data)throw n.ethErrors.rpc.invalidParams('Invalid transaction params: must specify "data" for contract deployments, or "to" (and optionally "data") for all other types of transactions.');if((0,o.isEIP1559Transaction)({txParams:e})&&!t)throw n.ethErrors.rpc.invalidParams("Invalid transaction params: params specify an EIP-1559 transaction but the current network does not support EIP-1559");Object.entries(e).forEach((([t,r])=>{switch(t){case"from":p(e);break;case"to":m(e);break;case"gasPrice":f(e,"gasPrice"),l(e,"gasPrice","maxFeePerGas"),l(e,"gasPrice","maxPriorityFeePerGas"),d(e,"gasPrice");break;case"maxFeePerGas":f(e,"maxFeePerGas"),l(e,"maxFeePerGas","gasPrice"),d(e,"maxFeePerGas");break;case"maxPriorityFeePerGas":f(e,"maxPriorityFeePerGas"),l(e,"maxPriorityFeePerGas","gasPrice"),d(e,"maxPriorityFeePerGas");break;case"value":if(d(e,"value"),r.toString().includes("-"))throw n.ethErrors.rpc.invalidParams(`Invalid transaction value "${r}": not a positive number.`);if(r.toString().includes("."))throw n.ethErrors.rpc.invalidParams(`Invalid transaction value of "${r}": number must be in wei.`);break;case"chainId":if("number"!=typeof r&&"string"!=typeof r)throw n.ethErrors.rpc.invalidParams(`Invalid transaction params: ${t} is not a Number or hex string. got: (${r})`);break;default:d(e,t)}}))}function p(e){if("string"!=typeof e.from)throw n.ethErrors.rpc.invalidParams(`Invalid "from" address "${e.from}": not a string.`);if(!(0,a.isValidHexAddress)(e.from,{allowNonPrefixed:!1}))throw n.ethErrors.rpc.invalidParams('Invalid "from" address.')}function m(e){if("0x"===e.to||null===e.to){if(!e.data)throw n.ethErrors.rpc.invalidParams('Invalid "to" address.');delete e.to}else if(void 0!==e.to&&!(0,a.isValidHexAddress)(e.to,{allowNonPrefixed:!1}))throw n.ethErrors.rpc.invalidParams('Invalid "to" address.');return e}},{file:"/home/circleci/project/app/scripts/controllers/transactions/lib/util.js"}],[294,{"./chains":263,"./eips":280,"./hardforks":287,buffer:1713,"crc-32":1754,"ethereumjs-util":2139,events:1714},function(e,t,r){(function(t){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__assign||function(){return(s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var a=e("events"),c=e("crc-32"),u=e("ethereumjs-util"),l=e("./chains"),d=e("./hardforks"),f=e("./eips"),h=function(e){function r(t){var r,n,i=e.call(this)||this;return i._supportedHardforks=[],i._eips=[],i._customChains=null!==(r=t.customChains)&&void 0!==r?r:[],i._chainParams=i.setChain(t.chain),i.DEFAULT_HARDFORK=null!==(n=i._chainParams.defaultHardfork)&&void 0!==n?n:"istanbul",i._hardfork=i.DEFAULT_HARDFORK,t.supportedHardforks&&(i._supportedHardforks=t.supportedHardforks),t.hardfork&&i.setHardfork(t.hardfork),t.eips&&i.setEIPs(t.eips),i}return i(r,e),r.forCustomChain=function(e,t,n,i){var o=r._getChainParams(e);return new r({chain:s(s({},o),t),hardfork:n,supportedHardforks:i})},r.isSupportedChainId=function(e){var t=l._getInitializedChains();return Boolean(t.names[e.toString()])},r._getChainParams=function(e,t){var r=l._getInitializedChains(t);if("number"==typeof e||u.BN.isBN(e)){if(e=e.toString(),r.names[e])return r[r.names[e]];throw new Error("Chain with ID "+e+" not supported")}if(r[e])return r[e];throw new Error("Chain with name "+e+" not supported")},r.prototype.setChain=function(e){var t,n;if("number"==typeof e||"string"==typeof e||u.BN.isBN(e))this._chainParams=r._getChainParams(e,this._customChains);else{if("object"!=typeof e)throw new Error("Wrong input format");if(this._customChains.length>0)throw new Error("Chain must be a string, number, or BN when initialized with customChains passed in");try{for(var i=o(["networkId","genesis","hardforks","bootstrapNodes"]),s=i.next();!s.done;s=i.next()){var a=s.value;if(void 0===e[a])throw new Error("Missing required chain parameter: "+a)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}this._chainParams=e}return this._chainParams},r.prototype.setHardfork=function(e){var t,r;if(!this._isSupportedHardfork(e))throw new Error("Hardfork "+e+" not set as supported in supportedHardforks");var n=!1;try{for(var i=o(d.hardforks),s=i.next();!s.done;s=i.next()){s.value[0]===e&&(this._hardfork!==e&&(this._hardfork=e,this.emit("hardforkChanged",e)),n=!0)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}if(!n)throw new Error("Hardfork with name "+e+" not supported")},r.prototype.getHardforkByBlockNumber=function(e){var t,r;e=u.toType(e,u.TypeOutput.BN);var n="chainstart";try{for(var i=o(this.hardforks()),s=i.next();!s.done;s=i.next()){var a=s.value;null!==a.block&&(e.gte(new u.BN(a.block))&&(n=a.name))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n},r.prototype.setHardforkByBlockNumber=function(e){e=u.toType(e,u.TypeOutput.BN);var t=this.getHardforkByBlockNumber(e);return this.setHardfork(t),t},r.prototype._chooseHardfork=function(e,t){if(void 0===t&&(t=!0),e){if(t&&!this._isSupportedHardfork(e))throw new Error("Hardfork "+e+" not set as supported in supportedHardforks")}else e=this._hardfork;return e},r.prototype._getHardfork=function(e){var t,r,n=this.hardforks();try{for(var i=o(n),s=i.next();!s.done;s=i.next()){var a=s.value;if(a.name===e)return a}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}throw new Error("Hardfork "+e+" not defined for chain "+this.chainName())},r.prototype._isSupportedHardfork=function(e){var t,r;if(!(this._supportedHardforks.length>0))return!0;try{for(var n=o(this._supportedHardforks),i=n.next();!i.done;i=n.next()){if(e===i.value)return!0}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return!1},r.prototype.setEIPs=function(e){var t,r,n=this;void 0===e&&(e=[]);var i=function(t){if(!(t in f.EIPs))throw new Error(t+" not supported");var r=s.gteHardfork(f.EIPs[t].minimumHardfork);if(!r)throw new Error(t+" cannot be activated on hardfork "+s.hardfork()+", minimumHardfork: "+r);f.EIPs[t].requiredEIPs&&f.EIPs[t].requiredEIPs.forEach((function(r){if(!e.includes(r)&&!n.isActivatedEIP(r))throw new Error(t+" requires EIP "+r+", but is not included in the EIP list")}))},s=this;try{for(var a=o(e),c=a.next();!c.done;c=a.next()){i(c.value)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}this._eips=e},r.prototype.param=function(e,t){var r,n,i=null;try{for(var s=o(this._eips),a=s.next();!a.done;a=s.next()){var c=a.value;if(null!==(i=this.paramByEIP(e,t,c)))return i}}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return this.paramByHardfork(e,t,this._hardfork)},r.prototype.paramByHardfork=function(e,t,r){var n,i,s,a;r=this._chooseHardfork(r);var c=null;try{for(var u=o(d.hardforks),l=u.next();!l.done;l=u.next()){var f=l.value;if(f[1].hasOwnProperty("eips")){var h=f[1].eips;try{for(var p=(s=void 0,o(h)),m=p.next();!m.done;m=p.next()){var g=m.value,y=this.paramByEIP(e,t,g);c=null!==y?y:c}}catch(e){s={error:e}}finally{try{m&&!m.done&&(a=p.return)&&a.call(p)}finally{if(s)throw s.error}}}else{if(!f[1][e])throw new Error("Topic "+e+" not defined");void 0!==f[1][e][t]&&(c=f[1][e][t].v)}if(f[0]===r)break}}catch(e){n={error:e}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}return c},r.prototype.paramByEIP=function(e,t,r){if(!(r in f.EIPs))throw new Error(r+" not supported");var n=f.EIPs[r];if(!(e in n))throw new Error("Topic "+e+" not defined");return void 0===n[e][t]?null:n[e][t].v},r.prototype.paramByBlock=function(e,t,r){var n=this.activeHardforks(r),i=n[n.length-1].name;return this.paramByHardfork(e,t,i)},r.prototype.isActivatedEIP=function(e){var t,r;if(this.eips().includes(e))return!0;try{for(var n=o(d.hardforks),i=n.next();!i.done;i=n.next()){var s=i.value[1];if(this.gteHardfork(s.name)&&"eips"in s&&s.eips.includes(e))return!0}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return!1},r.prototype.hardforkIsActiveOnBlock=function(e,t,r){var n;void 0===r&&(r={}),t=u.toType(t,u.TypeOutput.BN);var i=null!==(n=r.onlySupported)&&void 0!==n&&n;e=this._chooseHardfork(e,i);var s=this.hardforkBlockBN(e);return!(!s||!t.gte(s))},r.prototype.activeOnBlock=function(e,t){return this.hardforkIsActiveOnBlock(null,e,t)},r.prototype.hardforkGteHardfork=function(e,t,r){var n,i;void 0===r&&(r={});var s,a=void 0!==r.onlyActive&&r.onlyActive;e=this._chooseHardfork(e,r.onlySupported),s=a?this.activeHardforks(null,r):this.hardforks();var c=-1,u=-1,l=0;try{for(var d=o(s),f=d.next();!f.done;f=d.next()){var h=f.value;h.name===e&&(c=l),h.name===t&&(u=l),l+=1}}catch(e){n={error:e}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}return c>=u&&-1!==u},r.prototype.gteHardfork=function(e,t){return this.hardforkGteHardfork(null,e,t)},r.prototype.hardforkIsActiveOnChain=function(e,t){var r,n,i;void 0===t&&(t={});var s=null!==(i=t.onlySupported)&&void 0!==i&&i;e=this._chooseHardfork(e,s);try{for(var a=o(this.hardforks()),c=a.next();!c.done;c=a.next()){var u=c.value;if(u.name===e&&null!==u.block)return!0}}catch(e){r={error:e}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return!1},r.prototype.activeHardforks=function(e,t){var r,n;void 0===t&&(t={});var i=[],s=this.hardforks();try{for(var a=o(s),c=a.next();!c.done;c=a.next()){var u=c.value;if(null!==u.block){if(null!=e&&e<u.block)break;t.onlySupported&&!this._isSupportedHardfork(u.name)||i.push(u)}}}catch(e){r={error:e}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},r.prototype.activeHardfork=function(e,t){void 0===t&&(t={});var r=this.activeHardforks(e,t);if(r.length>0)return r[r.length-1].name;throw new Error("No (supported) active hardfork found")},r.prototype.hardforkBlock=function(e){return u.toType(this.hardforkBlockBN(e),u.TypeOutput.Number)},r.prototype.hardforkBlockBN=function(e){return e=this._chooseHardfork(e,!1),new u.BN(this._getHardfork(e).block)},r.prototype.isHardforkBlock=function(e,t){return e=u.toType(e,u.TypeOutput.BN),t=this._chooseHardfork(t,!1),this.hardforkBlockBN(t).eq(e)},r.prototype.nextHardforkBlock=function(e){var t=this.nextHardforkBlockBN(e);return null===t?null:u.toType(t,u.TypeOutput.Number)},r.prototype.nextHardforkBlockBN=function(e){e=this._chooseHardfork(e,!1);var t=this.hardforkBlockBN(e);return this.hardforks().reduce((function(e,r){var n=new u.BN(r.block);return n.gt(t)&&null===e?n:e}),null)},r.prototype.isNextHardforkBlock=function(e,t){e=u.toType(e,u.TypeOutput.BN),t=this._chooseHardfork(t,!1);var r=this.nextHardforkBlockBN(t);return null!==r&&r.eq(e)},r.prototype._calcForkHash=function(e){var r,n,i=t.from(this.genesis().hash.substr(2),"hex"),s=t.alloc(0),a=0;try{for(var l=o(this.hardforks()),d=l.next();!d.done;d=l.next()){var f=d.value,h=f.block;if(0!==h&&null!==h&&h!==a){var p=t.from(h.toString(16).padStart(16,"0"),"hex");s=t.concat([s,p])}if(f.name===e)break;a=h}}catch(e){r={error:e}}finally{try{d&&!d.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}var m=t.concat([i,s]);return"0x"+u.intToBuffer(c.buf(m)>>>0).toString("hex")},r.prototype.forkHash=function(e){e=this._chooseHardfork(e,!1);var t=this._getHardfork(e);if(null===t.block){throw new Error("No fork hash calculation possible for non-applied or future hardfork")}return void 0!==t.forkHash?t.forkHash:this._calcForkHash(e)},r.prototype.hardforkForForkHash=function(e){var t=this.hardforks().filter((function(t){return t.forkHash===e}));return t.length>=1?t[t.length-1]:null},r.prototype.genesis=function(){return this._chainParams.genesis},r.prototype.hardforks=function(){return this._chainParams.hardforks},r.prototype.bootstrapNodes=function(){return this._chainParams.bootstrapNodes},r.prototype.dnsNetworks=function(){return this._chainParams.dnsNetworks},r.prototype.hardfork=function(){return this._hardfork},r.prototype.chainId=function(){return u.toType(this.chainIdBN(),u.TypeOutput.Number)},r.prototype.chainIdBN=function(){return new u.BN(this._chainParams.chainId)},r.prototype.chainName=function(){return this._chainParams.name},r.prototype.networkId=function(){return u.toType(this.networkIdBN(),u.TypeOutput.Number)},r.prototype.networkIdBN=function(){return new u.BN(this._chainParams.networkId)},r.prototype.eips=function(){return this._eips},r.prototype.consensusType=function(){return this._chainParams.consensus.type},r.prototype.consensusAlgorithm=function(){return this._chainParams.consensus.algorithm},r.prototype.consensusConfig=function(){return this._chainParams.consensus[this.consensusAlgorithm()]},r.prototype.copy=function(){return Object.assign(Object.create(Object.getPrototypeOf(this)),this)},r}(a.EventEmitter);r.default=h}).call(this,e("buffer").Buffer)},{file:"/home/circleci/project/node_modules/@ethereumjs/common/dist.browser/index.js"}],[36,{"../../../../shared/constants/transaction":3921,"../../../../shared/modules/random-id":3928,"../../../../shared/modules/transaction.utils":3931,"../../metamask-controller":79,"./lib/tx-state-history-helpers":32,"./lib/util":33,"@babel/runtime/helpers/defineProperty":178,"@babel/runtime/helpers/interopRequireDefault":184,"@metamask/obs-store":1265,lodash:2979,loglevel:2990,"safe-event-emitter":3606},function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/defineProperty")),s=n(e("safe-event-emitter")),o=e("@metamask/obs-store"),a=n(e("loglevel")),c=e("lodash"),u=n(e("../../../../shared/modules/random-id")),l=e("../../../../shared/constants/transaction"),d=e("../../metamask-controller"),f=e("../../../../shared/modules/transaction.utils"),h=e("./lib/tx-state-history-helpers"),p=e("./lib/util");function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}class y extends s.default{constructor({initState:e,txHistoryLimit:t,getNetwork:r,getCurrentChainId:n}){super(),this.store=new o.ObservableStore(g({transactions:{}},e)),this.txHistoryLimit=t,this.getNetwork=r,this.getCurrentChainId=n}generateTxMeta(e={}){const t=this.getNetwork(),r=this.getCurrentChainId();if("loading"===t)throw new Error("MetaMask is having trouble connecting to the network");let n=null;return e.txParams&&"string"==typeof e.origin&&"metamask"!==e.origin&&(void 0!==e.txParams.gasPrice?n={gasPrice:e.txParams.gasPrice}:void 0===e.txParams.maxFeePerGas&&void 0===e.txParams.maxPriorityFeePerGas||(n={maxPriorityFeePerGas:e.txParams.maxPriorityFeePerGas,maxFeePerGas:e.txParams.maxFeePerGas}),void 0!==e.txParams.gas&&(n=g(g({},n),{},{gas:e.txParams.gas}))),g({id:(0,u.default)(),time:(new Date).getTime(),status:l.TRANSACTION_STATUSES.UNAPPROVED,metamaskNetworkId:t,chainId:r,loadingDefaults:!0,dappSuggestedGasFees:n},e)}getUnapprovedTxList(){const e=this.getCurrentChainId(),t=this.getNetwork();return(0,c.pickBy)(this.store.getState().transactions,(r=>r.status===l.TRANSACTION_STATUSES.UNAPPROVED&&(0,f.transactionMatchesNetwork)(r,e,t)))}getApprovedTransactions(e){const t={status:l.TRANSACTION_STATUSES.APPROVED};return e&&(t.from=e),this.getTransactions({searchCriteria:t})}getPendingTransactions(e){const t={status:l.TRANSACTION_STATUSES.SUBMITTED};return e&&(t.from=e),this.getTransactions({searchCriteria:t})}getConfirmedTransactions(e){const t={status:l.TRANSACTION_STATUSES.CONFIRMED};return e&&(t.from=e),this.getTransactions({searchCriteria:t})}addTransaction(e){e.txParams&&(e.txParams=(0,p.normalizeAndValidateTxParams)(e.txParams,!1)),this.once(`${e.id}:signed`,(()=>{this.removeAllListeners(`${e.id}:rejected`)})),this.once(`${e.id}:rejected`,(()=>{this.removeAllListeners(`${e.id}:signed`)})),e.history=[];const t=(0,h.snapshotFromTxMeta)(e);e.history.push(t);const r=this.getTransactions({filterToCurrentNetwork:!1}),{txHistoryLimit:n}=this,i=new Set,s=r.reverse().filter((e=>{const{nonce:t}=e.txParams,{chainId:r,metamaskNetworkId:s,status:o}=e,a=`${t}-${null!=r?r:s}`;return!i.has(a)&&(!(i.size<n-1||!1===(0,p.getFinalStates)().includes(o))||(i.add(a),!1))})).map((e=>e.id));return this._deleteTransactions(s),this._addTransactionsToState([e]),e}getTransaction(e){const{transactions:t}=this.store.getState();return t[e]}updateTransaction(e,t){e.txParams&&(e.txParams=(0,p.normalizeAndValidateTxParams)(e.txParams,!1));const r=(0,h.snapshotFromTxMeta)(e),n=(0,h.replayHistory)(e.history),i=(0,h.generateHistoryEntry)(n,r,t);i.length&&e.history.push(i);const s=e.id;this.store.updateState({transactions:g(g({},this.store.getState().transactions),{},{[s]:e})})}getTransactions({searchCriteria:e={},initialList:t,filterToCurrentNetwork:r=!0,limit:n}={}){const i=this.getCurrentChainId(),s=this.getNetwork(),o=(0,c.mapValues)(e,(e=>"function"==typeof e?e:t=>t===e)),a=t?(0,c.keyBy)(t,"id"):this.store.getState().transactions,u=(0,c.sortBy)((0,c.pickBy)(a,(e=>{if(r&&!1===(0,f.transactionMatchesNetwork)(e,i,s))return!1;for(const[t,r]of Object.entries(o))if(t in e.txParams){if(!1===r(e.txParams[t]))return!1}else if(!1===r(e[t]))return!1;return!0})),"time");if(void 0!==n){const e=new Set,t=[];for(let r=u.length-1;r>-1;r--){const i=u[r],{nonce:s}=i.txParams;if(!e.has(s)){if(!(e.size<n))continue;e.add(s)}t.unshift(i)}return t}return u}setTxStatusRejected(e){this._setTransactionStatus(e,"rejected"),this._deleteTransaction(e)}setTxStatusUnapproved(e){this._setTransactionStatus(e,l.TRANSACTION_STATUSES.UNAPPROVED)}setTxStatusApproved(e){this._setTransactionStatus(e,l.TRANSACTION_STATUSES.APPROVED)}setTxStatusSigned(e){this._setTransactionStatus(e,l.TRANSACTION_STATUSES.SIGNED)}setTxStatusSubmitted(e){const t=this.getTransaction(e);t.submittedTime=(new Date).getTime(),this.updateTransaction(t,"txStateManager - add submitted time stamp"),this._setTransactionStatus(e,l.TRANSACTION_STATUSES.SUBMITTED)}setTxStatusConfirmed(e){this._setTransactionStatus(e,l.TRANSACTION_STATUSES.CONFIRMED)}setTxStatusDropped(e){this._setTransactionStatus(e,l.TRANSACTION_STATUSES.DROPPED)}setTxStatusFailed(e,t){const r=t||new Error("Internal metamask failure"),n=this.getTransaction(e);n.err={message:r.toString(),rpc:r.value,stack:r.stack},this.updateTransaction(n,"transactions:tx-state-manager#fail - add error"),this._setTransactionStatus(e,l.TRANSACTION_STATUSES.FAILED)}wipeTransactions(e){const{transactions:t}=this.store.getState(),r=this.getNetwork(),n=this.getCurrentChainId();this.store.updateState({transactions:(0,c.omitBy)(t,(t=>t.txParams.from===e&&(0,f.transactionMatchesNetwork)(t,n,r)))})}clearUnapprovedTxs(){this.store.updateState({transactions:(0,c.omitBy)(this.store.getState().transactions,(e=>e.status===l.TRANSACTION_STATUSES.UNAPPROVED))})}_setTransactionStatus(e,t){const r=this.getTransaction(e);if(r){r.status=t;try{this.updateTransaction(r,`txStateManager: setting status to ${t}`),this.emit(`${r.id}:${t}`,e),this.emit("tx:status-update",e,t),[l.TRANSACTION_STATUSES.SUBMITTED,l.TRANSACTION_STATUSES.REJECTED,l.TRANSACTION_STATUSES.FAILED].includes(t)&&this.emit(`${r.id}:finished`,r),this.emit(d.METAMASK_CONTROLLER_EVENTS.UPDATE_BADGE)}catch(e){a.default.error(e)}}}_addTransactionsToState(e){this.store.updateState({transactions:e.reduce(((e,t)=>(e[t.id]=t,e)),this.store.getState().transactions)})}_deleteTransaction(e){const{transactions:t}=this.store.getState();delete t[e],this.store.updateState({transactions:t})}_deleteTransactions(e){const{transactions:t}=this.store.getState();e.forEach((e=>{delete t[e]})),this.store.updateState({transactions:t})}}r.default=y},{file:"/home/circleci/project/app/scripts/controllers/transactions/tx-state-manager.js"}],[35,{"../../lib/util":78,"@babel/runtime/helpers/interopRequireDefault":184,"ethereumjs-util":2139,"ethjs-query":2186,lodash:2979,loglevel:2990},function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("ethjs-query")),s=n(e("loglevel")),o=e("ethereumjs-util"),a=e("lodash"),c=e("../../lib/util");r.default=class{constructor(e){this.query=new i.default(e)}async analyzeGasUsage(e){const t=await this.query.getBlockByNumber("latest",!1),r=(0,c.hexToBn)(t.gasLimit),n=(0,c.BnMultiplyByFraction)(r,19,20);let i,o=(0,c.bnToHex)(n);try{o=await this.estimateTxGas(e)}catch(e){s.default.warn(e),i={reason:e.message,errorKey:e.errorKey,debug:{blockNumber:t.number,blockGasLimit:t.gasLimit}}}return{blockGasLimit:t.gasLimit,estimatedGasHex:o,simulationFails:i}}async estimateTxGas(e){const t=(0,a.cloneDeep)(e.txParams);return delete t.gasPrice,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,await this.query.estimateGas(t)}addGasBuffer(e,t,r=1.5){const n=(0,c.hexToBn)(e),i=(0,c.hexToBn)(t).muln(.9),s=n.muln(r);return n.gt(i)?(0,c.bnToHex)(n):s.lt(i)?(0,c.bnToHex)(s):(0,c.bnToHex)(i)}async getBufferedGasLimit(e,t){const{blockGasLimit:r,estimatedGasHex:n,simulationFails:i}=await this.analyzeGasUsage(e);return{gasLimit:this.addGasBuffer((0,o.addHexPrefix)(n),r,t),simulationFails:i}}}},{file:"/home/circleci/project/app/scripts/controllers/transactions/tx-gas-utils.js"}],[34,{"../../../../shared/constants/transaction":3921,"@babel/runtime/helpers/defineProperty":178,"@babel/runtime/helpers/interopRequireDefault":184,"ethjs-query":2186,loglevel:2990,"safe-event-emitter":3606},function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/defineProperty")),s=n(e("safe-event-emitter")),o=n(e("loglevel")),a=n(e("ethjs-query")),c=e("../../../../shared/constants/transaction");class u extends s.default{constructor(e){super(),(0,i.default)(this,"DROPPED_BUFFER_COUNT",3),(0,i.default)(this,"droppedBlocksBufferByHash",new Map),this.query=e.query||new a.default(e.provider),this.nonceTracker=e.nonceTracker,this.getPendingTransactions=e.getPendingTransactions,this.getCompletedTransactions=e.getCompletedTransactions,this.publishTransaction=e.publishTransaction,this.approveTransaction=e.approveTransaction,this.confirmTransaction=e.confirmTransaction}async updatePendingTxs(){const e=await this.nonceTracker.getGlobalLock();try{const e=this.getPendingTransactions();await Promise.all(e.map((e=>this._checkPendingTx(e))))}catch(e){o.default.error("PendingTransactionTracker - Error updating pending transactions"),o.default.error(e)}e.releaseLock()}async resubmitPendingTxs(e){const t=this.getPendingTransactions();if(t.length)for(const i of t)try{await this._resubmitTx(i,e)}catch(e){var r,n;const t=(null===(r=e.value)||void 0===r||null===(n=r.message)||void 0===n?void 0:n.toLowerCase())||e.message.toLowerCase();if(t.includes("replacement transaction underpriced")||t.includes("known transaction")||t.includes("gas price too low to replace")||t.includes("transaction with the same hash was already imported")||t.includes("gateway timeout")||t.includes("nonce too low"))return;i.warning={error:t,message:"There was an error when resubmitting this transaction."},this.emit("tx:warning",i,e)}}async _resubmitTx(e,t){e.firstRetryBlockNumber||this.emit("tx:block-update",e,t);const r=e.firstRetryBlockNumber||t,n=Number.parseInt(t,16)-Number.parseInt(r,16),i=e.retryCount||0;if(n<=Math.pow(2,i)-1)return;if(!("rawTx"in e))return this.approveTransaction(e.id);const{rawTx:s}=e,o=await this.publishTransaction(s);return this.emit("tx:retry",e),o}async _checkPendingTx(e){const t=e.hash,r=e.id;if(e.status===c.TRANSACTION_STATUSES.SUBMITTED){if(!t){const e=new Error("We had an error while submitting this transaction, please try again.");return e.name="NoTxHashError",void this.emit("tx:failed",r,e)}if(await this._checkIfNonceIsTaken(e))this.emit("tx:dropped",r);else{try{const e=await this.query.getTransactionReceipt(t);if(null!=e&&e.blockNumber){const{baseFeePerGas:t}=await this.query.getBlockByHash(null==e?void 0:e.blockHash,!1);return void this.emit("tx:confirmed",r,e,t)}}catch(t){return e.warning={error:t.message,message:"There was a problem loading this transaction."},void this.emit("tx:warning",e,t)}await this._checkIfTxWasDropped(e)&&this.emit("tx:dropped",r)}}}async _checkIfTxWasDropped(e){const{hash:t,txParams:{nonce:r,from:n}}=e,i=await this.query.getTransactionCount(n);if(parseInt(r,16)>=i.toNumber())return!1;this.droppedBlocksBufferByHash.has(t)||this.droppedBlocksBufferByHash.set(t,0);const s=this.droppedBlocksBufferByHash.get(t);return s<this.DROPPED_BUFFER_COUNT?(this.droppedBlocksBufferByHash.set(t,s+1),!1):(this.droppedBlocksBufferByHash.delete(t),!0)}async _checkIfNonceIsTaken(e){const t=e.txParams.from;return this.getCompletedTransactions(t).some((t=>!(t.id===e.id)&&t.txParams.nonce===e.txParams.nonce))}}r.default=u},{file:"/home/circleci/project/app/scripts/controllers/transactions/pending-tx-tracker.js"}],[1360,{"./package.json":1361,"@segment/loosely-validate-event":1275,_process:3225,assert:1380,axios:1463,"axios-retry":1461,"lodash.isstring":2837,md5:2998,ms:3010,"remove-trailing-slash":3491,"uuid/v4":3832},function(e,t,r){(function(r,n){"use strict";const i=e("assert"),s=e("remove-trailing-slash"),o=e("@segment/loosely-validate-event"),a=e("axios"),c=e("axios-retry"),u=e("ms"),l=e("uuid/v4"),d=e("md5"),f=e("./package.json").version,h=e("lodash.isstring"),p=n.setImmediate||r.nextTick.bind(r),m=()=>{};t.exports=class{constructor(e,t){t=t||{},i(e,"You must pass your Segment project's write key."),this.queue=[],this.writeKey=e,this.host=s(t.host||"https://api.segment.io"),this.timeout=t.timeout||!1,this.flushAt=Math.max(t.flushAt,1)||20,this.flushInterval=t.flushInterval||1e4,this.flushed=!1,Object.defineProperty(this,"enable",{configurable:!1,writable:!1,enumerable:!0,value:"boolean"!=typeof t.enable||t.enable}),this.axiosClient=a.create(),c(this.axiosClient,{retries:t.retryCount||3,retryCondition:this._isErrorRetryable,retryDelay:c.exponentialDelay})}_validate(e,t){try{o(e,t)}catch(t){if("Your message must be < 32kb."===t.message)return void console.log("Your message must be < 32kb. This is currently surfaced as a warning to allow clients to update. Versions released after August 1, 2018 will throw an error instead. Please update your code before then.",e);throw t}}identify(e,t){return this._validate(e,"identify"),this.enqueue("identify",e,t),this}group(e,t){return this._validate(e,"group"),this.enqueue("group",e,t),this}track(e,t){return this._validate(e,"track"),this.enqueue("track",e,t),this}page(e,t){return this._validate(e,"page"),this.enqueue("page",e,t),this}screen(e,t){return this._validate(e,"screen"),this.enqueue("screen",e,t),this}alias(e,t){return this._validate(e,"alias"),this.enqueue("alias",e,t),this}enqueue(e,t,n){return n=n||m,this.enable?((t=Object.assign({},t)).type=e,t.context=Object.assign({library:{name:"analytics-node",version:f}},t.context),t._metadata=Object.assign({nodeVersion:r.versions.node},t._metadata),t.timestamp||(t.timestamp=new Date),t.messageId||(t.messageId=`node-${d(JSON.stringify(t))}-${l()}`),t.anonymousId&&!h(t.anonymousId)&&(t.anonymousId=JSON.stringify(t.anonymousId)),t.userId&&!h(t.userId)&&(t.userId=JSON.stringify(t.userId)),this.queue.push({message:t,callback:n}),this.flushed?(this.queue.length>=this.flushAt&&this.flush(),void(this.flushInterval&&!this.timer&&(this.timer=setTimeout(this.flush.bind(this),this.flushInterval)))):(this.flushed=!0,void this.flush())):p(n)}flush(e){if(e=e||m,!this.enable)return p(e);if(this.timer&&(clearTimeout(this.timer),this.timer=null),!this.queue.length)return p(e);const t=this.queue.splice(0,this.flushAt),r=t.map((e=>e.callback)),n={batch:t.map((e=>e.message)),timestamp:new Date,sentAt:new Date},i=t=>{r.forEach((e=>e(t))),e(t,n)},s={};"undefined"==typeof window&&(s["user-agent"]=`analytics-node/${f}`);const o={method:"POST",url:`${this.host}/v1/batch`,auth:{username:this.writeKey},data:n,headers:s};this.timeout&&(o.timeout="string"==typeof this.timeout?u(this.timeout):this.timeout),this.axiosClient(o).then((()=>i())).catch((e=>{if(e.response){const t=new Error(e.response.statusText);return i(t)}i(e)}))}_isErrorRetryable(e){return!!c.isNetworkError(e)||!!e.response&&(e.response.status>=500&&e.response.status<=599||429===e.response.status)}}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{file:"/home/circleci/project/node_modules/analytics-node/index.js"}],[2156,{"./index.js":2144,"aes-js":2145,crypto:1763,"ethereumjs-util":2150,"safe-buffer":3605,scryptsy:3620,utf8:3823},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=e("./index.js"),s=e("ethereumjs-util"),o=e("crypto"),a=e("scryptsy"),c=e("utf8"),u=e("aes-js"),l=e("safe-buffer").Buffer;function d(e,t){if(!e)throw new Error(t||"Assertion failed")}var f={};f.fromEtherWallet=function(e,t){var r,s="object"===(void 0===e?"undefined":n(e))?e:JSON.parse(e);if(s.locked){if("string"!=typeof t)throw new Error("Password required");if(t.length<7)throw new Error("Password must be at least 7 characters");var a=s.encrypted?s.private.slice(0,128):s.private;if(!(a=function(e){var t=l.from(e,"base64");return"Salted__"===t.slice(0,8).toString()?{salt:t.slice(8,16),ciphertext:t.slice(16)}:{ciphertext:t}}(a)).salt)throw new Error("Unsupported EtherWallet key format");var u=function(e,t,r){function n(n){var i=o.createHash(r.digest||"md5");i.update(n),i.update(e),i.update(t),n=i.digest();for(var s=1;s<(r.count||1);s++)(i=o.createHash(r.digest||"md5")).update(n),n=i.digest();return n}for(var i=r.keysize||16,s=r.ivsize||16,a=[],c=0;l.concat(a).length<i+s;)a[c]=n(0===c?l.alloc(0):a[c-1]),c++;var u=l.concat(a);return{key:u.slice(0,i),iv:u.slice(i,i+s)}}(l.from(t),a.salt,{keysize:32,ivsize:16});r=function(e,t){return l.concat([e.update(t),e.final()])}(o.createDecipheriv("aes-256-cbc",u.key,u.iv),l.from(a.ciphertext)),r=l.from(c.decode(r.toString()),"hex")}else{if(64!==s.private.length)throw new Error("Invalid private key length");r=l.from(s.private,"hex")}var d=new i(r);if(d.getAddressString()!==s.address)throw new Error("Invalid private key or address");return d},f.fromEtherCamp=function(e){return new i(s.keccak256(l.from(e)))},f.fromKryptoKit=function(e,t){"#"===e[0]&&(e=e.slice(1));var r,n=e[0];if(e=e.slice(1),"d"===n)r=s.sha256(l.from(e));else{if("q"!==n)throw new Error("Unsupported or invalid entropy type");if("string"!=typeof t)throw new Error("Password required");var o=s.sha256(l.from(e.slice(0,30))),c=e.slice(30,46),d=function(e){function t(e){try{return decodeURIComponent(e)}catch(e){return String.fromCharCode(65533)}}for(var r="",n="",i=0;i<e.length;i++)e[i]<=127?(r+=t(n)+String.fromCharCode(e[i]),n=""):n+="%"+e[i].toString(16);return l.from(r+t(n))}(o),f=a(l.from(t,"utf8"),d,16384,8,1,32),h=new u.ModeOfOperation.ecb(f);if(r=l.concat([l.from(h.decrypt(o.slice(0,16))),l.from(h.decrypt(o.slice(16,32)))]),c.length>0&&c!==s.sha256(s.sha256(r)).slice(0,8).toString("hex"))throw new Error("Failed to decrypt input - possibly invalid passphrase")}return new i(r)},f.fromQuorumWallet=function(e,t){d(e.length>=10),d(t.length>=10);var r=e+t;return r=o.pbkdf2Sync(r,r,2e3,32,"sha256"),new i(r)},t.exports=f},{file:"/home/circleci/project/node_modules/ethereumjs-wallet/thirdparty.js"}],[2144,{bs58check:1720,crypto:1763,"ethereumjs-util":2150,randombytes:3333,"safe-buffer":3605,scryptsy:3620,"uuid/v4":3832},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=e("safe-buffer").Buffer,s=e("ethereumjs-util"),o=e("crypto"),a=e("randombytes"),c=e("scryptsy"),u=e("uuid/v4"),l=e("bs58check");function d(e,t){if(!e)throw new Error(t||"Assertion failed")}function f(e,t){return i.concat([e.update(t),e.final()])}var h=function(e,t){if(e&&t)throw new Error("Cannot supply both a private and a public key to the constructor");if(e&&!s.isValidPrivate(e))throw new Error("Private key does not satisfy the curve requirements (ie. it is invalid)");if(t&&!s.isValidPublic(t))throw new Error("Invalid public key");this._privKey=e,this._pubKey=t};Object.defineProperty(h.prototype,"privKey",{get:function(){return d(this._privKey,"This is a public key only wallet"),this._privKey}}),Object.defineProperty(h.prototype,"pubKey",{get:function(){return this._pubKey||(this._pubKey=s.privateToPublic(this.privKey)),this._pubKey}}),h.generate=function(e){if(!e)return new h(a(32));for(var t=new s.BN("088f924eeceeda7fe92e1f5b0fffffffffffffff",16);;){var r=a(32);if(new s.BN(s.privateToAddress(r)).lte(t))return new h(r)}},h.generateVanityAddress=function(e){for("object"!==(void 0===e?"undefined":n(e))&&(e=new RegExp(e));;){var t=a(32),r=s.privateToAddress(t);if(e.test(r.toString("hex")))return new h(t)}},h.prototype.getPrivateKey=function(){return this.privKey},h.prototype.getPrivateKeyString=function(){return s.bufferToHex(this.getPrivateKey())},h.prototype.getPublicKey=function(){return this.pubKey},h.prototype.getPublicKeyString=function(){return s.bufferToHex(this.getPublicKey())},h.prototype.getAddress=function(){return s.publicToAddress(this.pubKey)},h.prototype.getAddressString=function(){return s.bufferToHex(this.getAddress())},h.prototype.getChecksumAddressString=function(){return s.toChecksumAddress(this.getAddressString())},h.prototype.toV3=function(e,t){d(this._privKey,"This is a public key only wallet");var r,n=(t=t||{}).salt||a(32),l=t.iv||a(16),h=t.kdf||"scrypt",p={dklen:t.dklen||32,salt:n.toString("hex")};if("pbkdf2"===h)p.c=t.c||262144,p.prf="hmac-sha256",r=o.pbkdf2Sync(i.from(e),n,p.c,p.dklen,"sha256");else{if("scrypt"!==h)throw new Error("Unsupported kdf");p.n=t.n||262144,p.r=t.r||8,p.p=t.p||1,r=c(i.from(e),n,p.n,p.r,p.p,p.dklen)}var m=o.createCipheriv(t.cipher||"aes-128-ctr",r.slice(0,16),l);if(!m)throw new Error("Unsupported cipher");var g=f(m,this.privKey),y=s.keccak256(i.concat([r.slice(16,32),i.from(g,"hex")]));return{version:3,id:u({random:t.uuid||a(16)}),address:this.getAddress().toString("hex"),crypto:{ciphertext:g.toString("hex"),cipherparams:{iv:l.toString("hex")},cipher:t.cipher||"aes-128-ctr",kdf:h,kdfparams:p,mac:y.toString("hex")}}},h.prototype.getV3Filename=function(e){return["UTC--",(e?new Date(e):new Date).toJSON().replace(/:/g,"-"),"--",this.getAddress().toString("hex")].join("")},h.prototype.toV3String=function(e,t){return JSON.stringify(this.toV3(e,t))},h.fromPublicKey=function(e,t){return t&&(e=s.importPublic(e)),new h(null,e)},h.fromExtendedPublicKey=function(e){return d("xpub"===e.slice(0,4),"Not an extended public key"),e=l.decode(e).slice(45),h.fromPublicKey(e,!0)},h.fromPrivateKey=function(e){return new h(e)},h.fromExtendedPrivateKey=function(e){d("xprv"===e.slice(0,4),"Not an extended private key");var t=l.decode(e);return d(0===t[45],"Invalid extended private key"),h.fromPrivateKey(t.slice(46))},h.fromV1=function(e,t){d("string"==typeof t);var r="object"===(void 0===e?"undefined":n(e))?e:JSON.parse(e);if("1"!==r.Version)throw new Error("Not a V1 wallet");if("scrypt"!==r.Crypto.KeyHeader.Kdf)throw new Error("Unsupported key derivation scheme");var a=r.Crypto.KeyHeader.KdfParams,u=c(i.from(t),i.from(r.Crypto.Salt,"hex"),a.N,a.R,a.P,a.DkLen),l=i.from(r.Crypto.CipherText,"hex");if(s.keccak256(i.concat([u.slice(16,32),l])).toString("hex")!==r.Crypto.MAC)throw new Error("Key derivation failed - possibly wrong passphrase");var p=f(o.createDecipheriv("aes-128-cbc",s.keccak256(u.slice(0,16)).slice(0,16),i.from(r.Crypto.IV,"hex")),l);return new h(p)},h.fromV3=function(e,t,r){d("string"==typeof t);var a,u,l="object"===(void 0===e?"undefined":n(e))?e:JSON.parse(r?e.toLowerCase():e);if(3!==l.version)throw new Error("Not a V3 wallet");if("scrypt"===l.crypto.kdf)u=l.crypto.kdfparams,a=c(i.from(t),i.from(u.salt,"hex"),u.n,u.r,u.p,u.dklen);else{if("pbkdf2"!==l.crypto.kdf)throw new Error("Unsupported key derivation scheme");if("hmac-sha256"!==(u=l.crypto.kdfparams).prf)throw new Error("Unsupported parameters to PBKDF2");a=o.pbkdf2Sync(i.from(t),i.from(u.salt,"hex"),u.c,u.dklen,"sha256")}var p=i.from(l.crypto.ciphertext,"hex");if(s.keccak256(i.concat([a.slice(16,32),p])).toString("hex")!==l.crypto.mac)throw new Error("Key derivation failed - possibly wrong passphrase");var m=f(o.createDecipheriv(l.crypto.cipher,a.slice(0,16),i.from(l.crypto.cipherparams.iv,"hex")),p);return new h(m)},h.fromEthSale=function(e,t){d("string"==typeof t);var r="object"===(void 0===e?"undefined":n(e))?e:JSON.parse(e),a=i.from(r.encseed,"hex"),c=o.pbkdf2Sync(t,t,2e3,32,"sha256").slice(0,16),u=f(o.createDecipheriv("aes-128-cbc",c,a.slice(0,16)),a.slice(16)),l=new h(s.keccak256(u));if(l.getAddress().toString("hex")!==r.ethaddr)throw new Error("Decoded key mismatch - possibly wrong passphrase");return l},t.exports=h},{file:"/home/circleci/project/node_modules/ethereumjs-wallet/index.js"}],[19,{"../../../../shared/constants/network":3916,"../../../../shared/constants/time":3919,"../../../../shared/modules/fetch-with-timeout":3924,"../../../../shared/modules/network.utils":3927,"./createInfuraClient":14,"./createJsonRpcClient":15,"./createMetamaskMiddleware":16,"@babel/runtime/helpers/defineProperty":178,"@babel/runtime/helpers/interopRequireDefault":184,"@metamask/obs-store":1265,_process:3225,assert:1380,"eth-json-rpc-middleware/providerFromEngine":2029,"eth-query":2052,events:1714,"json-rpc-engine":2607,loglevel:2990,"swappable-obj-proxy":3748},function(e,t,r){(function(t){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.NETWORK_EVENTS=void 0;var i=n(e("@babel/runtime/helpers/defineProperty")),s=e("assert"),o=n(e("events")),a=e("@metamask/obs-store"),c=e("json-rpc-engine"),u=n(e("eth-json-rpc-middleware/providerFromEngine")),l=n(e("loglevel")),d=e("swappable-obj-proxy"),f=n(e("eth-query")),h=e("../../../../shared/constants/network"),p=e("../../../../shared/constants/time"),m=e("../../../../shared/modules/network.utils"),g=n(e("../../../../shared/modules/fetch-with-timeout")),y=n(e("./createMetamaskMiddleware")),v=n(e("./createInfuraClient")),b=n(e("./createJsonRpcClient"));function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const k=t.env.METAMASK_ENV,x=(0,g.default)(30*p.SECOND);let A;A=t.env.METAMASK_DEBUG||"test"===k?{type:h.RINKEBY,chainId:h.RINKEBY_CHAIN_ID}:{type:h.MAINNET,chainId:h.MAINNET_CHAIN_ID};const P=_({ticker:"ETH"},A),E={EIPS:{1559:void 0}},S={NETWORK_DID_CHANGE:"networkDidChange",NETWORK_WILL_CHANGE:"networkWillChange",INFURA_IS_BLOCKED:"infuraIsBlocked",INFURA_IS_UNBLOCKED:"infuraIsUnblocked"};r.NETWORK_EVENTS=S;class T extends o.default{constructor(e={}){super(),this.providerStore=new a.ObservableStore(e.provider||_({},P)),this.previousProviderStore=new a.ObservableStore(this.providerStore.getState()),this.networkStore=new a.ObservableStore("loading"),this.networkDetails=new a.ObservableStore(e.networkDetails||_({},E)),this.store=new a.ComposedStore({provider:this.providerStore,previousProviderStore:this.previousProviderStore,network:this.networkStore,networkDetails:this.networkDetails}),this._provider=null,this._blockTracker=null,this._providerProxy=null,this._blockTrackerProxy=null,this.on(S.NETWORK_DID_CHANGE,this.lookupNetwork)}setInfuraProjectId(e){if(!e||"string"!=typeof e)throw new Error("Invalid Infura project ID");this._infuraProjectId=e}initializeProvider(e){this._baseProviderParams=e;const{type:t,rpcUrl:r,chainId:n}=this.getProviderConfig();this._configureProvider({type:t,rpcUrl:r,chainId:n}),this.lookupNetwork()}getProviderAndBlockTracker(){return{provider:this._providerProxy,blockTracker:this._blockTrackerProxy}}getLatestBlock(){return new Promise(((e,t)=>{const{provider:r}=this.getProviderAndBlockTracker();new f.default(r).sendAsync({method:"eth_getBlockByNumber",params:["latest",!1]},((r,n)=>r?t(r):e(n)))}))}async getEIP1559Compatibility(){const{EIPS:e}=this.networkDetails.getState();if(void 0!==e[1559])return e[1559];const t=await this.getLatestBlock(),r=t&&void 0!==t.baseFeePerGas;return this.setNetworkEIPSupport(1559,r),r}verifyNetwork(){this.isNetworkLoading()&&this.lookupNetwork()}getNetworkState(){return this.networkStore.getState()}setNetworkState(e){this.networkStore.putState(e)}setNetworkEIPSupport(e,t){this.networkDetails.updateState({EIPS:{[e]:t}})}clearNetworkDetails(){this.networkDetails.putState(_({},E))}isNetworkLoading(){return"loading"===this.getNetworkState()}lookupNetwork(){if(!this._provider)return void l.default.warn("NetworkController - lookupNetwork aborted due to missing provider");if(!this.getCurrentChainId())return l.default.warn("NetworkController - lookupNetwork aborted due to missing chainId"),this.setNetworkState("loading"),void this.clearNetworkDetails();const e=new f.default(this._provider),t=this.getNetworkState(),{type:r}=this.getProviderConfig();h.INFURA_PROVIDER_TYPES.includes(r)?this._checkInfuraAvailability(r):this.emit(S.INFURA_IS_UNBLOCKED),e.sendAsync({method:"net_version"},((e,r)=>{const n=this.getNetworkState();if(t===n){if(e)return this.setNetworkState("loading"),void this.clearNetworkDetails();this.setNetworkState(r),this.getEIP1559Compatibility()}}))}getCurrentChainId(){var e;const{type:t,chainId:r}=this.getProviderConfig();return(null===(e=h.NETWORK_TYPE_TO_ID_MAP[t])||void 0===e?void 0:e.chainId)||r}setRpcTarget(e,t,r="ETH",n="",i){s.strict.ok((0,m.isPrefixedFormattedHexString)(t),`Invalid chain ID "${t}": invalid hex string.`),s.strict.ok((0,m.isSafeChainId)(parseInt(t,16)),`Invalid chain ID "${t}": numerical value greater than max safe value.`),this.setProviderConfig({type:h.NETWORK_TYPE_RPC,rpcUrl:e,chainId:t,ticker:r,nickname:n,rpcPrefs:i})}async setProviderType(e){s.strict.notStrictEqual(e,h.NETWORK_TYPE_RPC,`NetworkController - cannot call "setProviderType" with type "${h.NETWORK_TYPE_RPC}". Use "setRpcTarget"`),s.strict.ok(h.INFURA_PROVIDER_TYPES.includes(e),`Unknown Infura provider type "${e}".`);const{chainId:t}=h.NETWORK_TYPE_TO_ID_MAP[e];this.setProviderConfig({type:e,rpcUrl:"",chainId:t,ticker:"ETH",nickname:""})}resetConnection(){this.setProviderConfig(this.getProviderConfig())}setProviderConfig(e){this.previousProviderStore.updateState(this.getProviderConfig()),this.providerStore.updateState(e),this._switchNetwork(e)}rollbackToPreviousProvider(){const e=this.previousProviderStore.getState();this.providerStore.updateState(e),this._switchNetwork(e)}getProviderConfig(){return this.providerStore.getState()}getNetworkIdentifier(){const e=this.providerStore.getState();return e.type===h.NETWORK_TYPE_RPC?e.rpcUrl:e.type}async _checkInfuraAvailability(e){const t=`https://${e}.infura.io/v3/${this._infuraProjectId}`;let r=!1;this.once(S.NETWORK_DID_CHANGE,(()=>{r=!0}));try{const e=await x(t,{method:"POST",body:JSON.stringify({jsonrpc:"2.0",method:"eth_blockNumber",params:[],id:1})});if(r)return;if(e.ok)this.emit(S.INFURA_IS_UNBLOCKED);else{const t=await e.json();if(r)return;t.error===h.INFURA_BLOCKED_KEY&&this.emit(S.INFURA_IS_BLOCKED)}}catch(e){l.default.warn("MetaMask - Infura availability check failed",e)}}_switchNetwork(e){this.emit(S.NETWORK_WILL_CHANGE),this.setNetworkState("loading"),this.clearNetworkDetails(),this._configureProvider(e),this.emit(S.NETWORK_DID_CHANGE,e.type)}_configureProvider({type:e,rpcUrl:t,chainId:r}){if(h.INFURA_PROVIDER_TYPES.includes(e))this._configureInfuraProvider(e,this._infuraProjectId);else{if(e!==h.NETWORK_TYPE_RPC)throw new Error(`NetworkController - _configureProvider - unknown type "${e}"`);this._configureStandardProvider(t,r)}}_configureInfuraProvider(e,t){l.default.info("NetworkController - configureInfuraProvider",e);const r=(0,v.default)({network:e,projectId:t});this._setNetworkClient(r)}_configureStandardProvider(e,t){l.default.info("NetworkController - configureStandardProvider",e);const r=(0,b.default)({rpcUrl:e,chainId:t});this._setNetworkClient(r)}_setNetworkClient({networkMiddleware:e,blockTracker:t}){const r=(0,y.default)(this._baseProviderParams),n=new c.JsonRpcEngine;n.push(r),n.push(e);const i=(0,u.default)(n);this._setProviderAndBlockTracker({provider:i,blockTracker:t})}_setProviderAndBlockTracker({provider:e,blockTracker:t}){this._providerProxy?this._providerProxy.setTarget(e):this._providerProxy=(0,d.createSwappableProxy)(e),this._blockTrackerProxy?this._blockTrackerProxy.setTarget(t):this._blockTrackerProxy=(0,d.createEventEmitterProxy)(t,{eventFilter:"skipInternal"}),this._provider=e,this._blockTracker=t}}r.default=T}).call(this,e("_process"))},{file:"/home/circleci/project/app/scripts/controllers/network/network.js"}],[65,{"./handlers":68,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){return function(t,r,n,s){return i.has(t.method)?i.get(t.method)(t,r,n,s,e):n()}};const i=n(e("./handlers")).default.reduce(((e,t)=>{for(const r of t.methodNames)e.set(r,t.implementation);return e}),new Map)},{file:"/home/circleci/project/app/scripts/lib/rpc-method-middleware/createMethodMiddleware.js"}],[2252,{assert:1380,coinstring:1737,crypto:1763,"safe-buffer":3605,secp256k1:3621},function(e,t,r){var n=e("assert"),i=e("safe-buffer").Buffer,s=e("crypto"),o=e("coinstring"),a=e("secp256k1"),c=i.from("Bitcoin seed","utf8"),u=2147483648,l={private:76066276,public:76067358};function d(e){this.versions=e||l,this.depth=0,this.index=0,this._privateKey=null,this._publicKey=null,this.chainCode=null,this._fingerprint=0,this.parentFingerprint=0}function f(e,t,r){var n=i.allocUnsafe(78);n.writeUInt32BE(t,0),n.writeUInt8(e.depth,4);var s=e.depth?e.parentFingerprint:0;return n.writeUInt32BE(s,5),n.writeUInt32BE(e.index,9),e.chainCode.copy(n,13),r.copy(n,45),n}function h(e){var t=s.createHash("sha256").update(e).digest();return s.createHash("rmd160").update(t).digest()}Object.defineProperty(d.prototype,"fingerprint",{get:function(){return this._fingerprint}}),Object.defineProperty(d.prototype,"identifier",{get:function(){return this._identifier}}),Object.defineProperty(d.prototype,"pubKeyHash",{get:function(){return this.identifier}}),Object.defineProperty(d.prototype,"privateKey",{get:function(){return this._privateKey},set:function(e){n.equal(e.length,32,"Private key must be 32 bytes."),n(!0===a.privateKeyVerify(e),"Invalid private key"),this._privateKey=e,this._publicKey=a.publicKeyCreate(e,!0),this._identifier=h(this.publicKey),this._fingerprint=this._identifier.slice(0,4).readUInt32BE(0)}}),Object.defineProperty(d.prototype,"publicKey",{get:function(){return this._publicKey},set:function(e){n(33===e.length||65===e.length,"Public key must be 33 or 65 bytes."),n(!0===a.publicKeyVerify(e),"Invalid public key"),this._publicKey=a.publicKeyConvert(e,!0),this._identifier=h(this.publicKey),this._fingerprint=this._identifier.slice(0,4).readUInt32BE(0),this._privateKey=null}}),Object.defineProperty(d.prototype,"privateExtendedKey",{get:function(){return this._privateKey?o.encode(f(this,this.versions.private,i.concat([i.alloc(1,0),this.privateKey]))):null}}),Object.defineProperty(d.prototype,"publicExtendedKey",{get:function(){return o.encode(f(this,this.versions.public,this.publicKey))}}),d.prototype.derive=function(e){if("m"===e||"M"===e||"m'"===e||"M'"===e)return this;var t=e.split("/"),r=this;return t.forEach((function(e,t){if(0!==t){var i=e.length>1&&"'"===e[e.length-1],s=parseInt(e,10);n(s<u,"Invalid index"),i&&(s+=u),r=r.deriveChild(s)}else n(e,"m","Invalid path")})),r},d.prototype.deriveChild=function(e){var t,r=e>=u,o=i.allocUnsafe(4);if(o.writeUInt32BE(e,0),r){n(this.privateKey,"Could not derive hardened child key");var c=this.privateKey,l=i.alloc(1,0);c=i.concat([l,c]),t=i.concat([c,o])}else t=i.concat([this.publicKey,o]);var f=s.createHmac("sha512",this.chainCode).update(t).digest(),h=f.slice(0,32),p=f.slice(32),m=new d(this.versions);if(this.privateKey)try{m.privateKey=a.privateKeyTweakAdd(this.privateKey,h)}catch(t){return this.derive(e+1)}else try{m.publicKey=a.publicKeyTweakAdd(this.publicKey,h,!0)}catch(t){return this.derive(e+1,r)}return m.chainCode=p,m.depth=this.depth+1,m.parentFingerprint=this.fingerprint,m.index=e,m},d.prototype.sign=function(e){return a.sign(e,this.privateKey).signature},d.prototype.verify=function(e,t){return a.verify(e,t,this.publicKey)},d.prototype.toJSON=function(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}},d.fromMasterSeed=function(e,t){var r=s.createHmac("sha512",c).update(e).digest(),n=r.slice(0,32),i=r.slice(32),o=new d(t);return o.chainCode=i,o.privateKey=n,o},d.fromExtendedKey=function(e,t){var r=new d(t=t||l),i=o.decode(e),s=i.readUInt32BE(0);n(s===t.private||s===t.public,"Version mismatch: does not match private or public"),r.depth=i.readUInt8(4),r.parentFingerprint=i.readUInt32BE(5),r.index=i.readUInt32BE(9),r.chainCode=i.slice(13,45);var a=i.slice(45);return 0===a.readUInt8(0)?(n(s===t.private,"Version mismatch: version does not match private"),r.privateKey=a.slice(1)):(n(s===t.public,"Version mismatch: version does not match public"),r.publicKey=a),r},d.fromJSON=function(e){return d.fromExtendedKey(e.xpriv)},d.HARDENED_OFFSET=u,t.exports=d},{file:"/home/circleci/project/node_modules/hdkey/lib/hdkey.js"}],[1219,{"./account":1212,"./address":1213,"./bytes":1214,"./constants":1215,"./externals":1216,"./hash":1217,"./object":1220,"./signature":1221,"./types":1222,"ethjs-util":2191},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./constants"),r),i(e("./account"),r),i(e("./address"),r),i(e("./hash"),r),i(e("./signature"),r),i(e("./bytes"),r),i(e("./object"),r),i(e("./externals"),r),i(e("./types"),r),i(e("ethjs-util"),r)},{file:"/home/circleci/project/node_modules/@metamask/eth-ledger-bridge-keyring/node_modules/ethereumjs-util/dist/index.js"}],[1209,{buffer:1713,"ethereumjs-abi":2111,"ethereumjs-util":1211,tweetnacl:3810,"tweetnacl-util":3809},function(e,t,r){const{Buffer:n}=e("buffer"),i=e("ethereumjs-util"),s=e("ethereumjs-abi"),o=e("tweetnacl");o.util=e("tweetnacl-util");const a={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},c={encodeData(e,t,r,o=!0){const a=["bytes32"],c=[this.hashType(e,r)];if(o){const u=(e,t,a)=>{if(void 0!==r[t])return["bytes32",null==a?"0x0000000000000000000000000000000000000000000000000000000000000000":i.keccak(this.encodeData(t,a,r,o))];if(void 0===a)throw new Error(`missing value for field ${e} of type ${t}`);if("bytes"===t)return["bytes32",i.keccak(a)];if("string"===t)return"string"==typeof a&&(a=n.from(a,"utf8")),["bytes32",i.keccak(a)];if(t.lastIndexOf("]")===t.length-1){const r=t.slice(0,t.lastIndexOf("[")),n=a.map((t=>u(e,r,t)));return["bytes32",i.keccak(s.rawEncode(n.map((([e])=>e)),n.map((([,e])=>e))))]}return[t,a]};for(const n of r[e]){const[e,r]=u(n.name,n.type,t[n.name]);a.push(e),c.push(r)}}else for(const s of r[e]){let e=t[s.name];if(void 0!==e)if("bytes"===s.type)a.push("bytes32"),e=i.keccak(e),c.push(e);else if("string"===s.type)a.push("bytes32"),"string"==typeof e&&(e=n.from(e,"utf8")),e=i.keccak(e),c.push(e);else if(void 0!==r[s.type])a.push("bytes32"),e=i.keccak(this.encodeData(s.type,e,r,o)),c.push(e);else{if(s.type.lastIndexOf("]")===s.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");a.push(s.type),c.push(e)}}return s.rawEncode(a,c)},encodeType(e,t){let r="",n=this.findTypeDependencies(e,t).filter((t=>t!==e));n=[e].concat(n.sort());for(const e of n){if(!t[e])throw new Error(`No type definition specified: ${e}`);r+=`${e}(${t[e].map((({name:e,type:t})=>`${t} ${e}`)).join(",")})`}return r},findTypeDependencies(e,t,r=[]){const[n]=e.match(/^\w*/u);if(e=n,r.includes(e)||void 0===t[e])return r;r.push(e);for(const n of t[e])for(const e of this.findTypeDependencies(n.type,t,r))!r.includes(e)&&r.push(e);return r},hashStruct(e,t,r,n=!0){return i.keccak(this.encodeData(e,t,r,n))},hashType(e,t){return i.keccak(this.encodeType(e,t))},sanitizeData(e){const t={};for(const r of Object.keys(a.properties))e[r]&&(t[r]=e[r]);return t.types&&(t.types={EIP712Domain:[],...t.types}),t},sign(e,t=!0){const r=this.sanitizeData(e),s=[n.from("1901","hex")];return s.push(this.hashStruct("EIP712Domain",r.domain,r.types,t)),"EIP712Domain"!==r.primaryType&&s.push(this.hashStruct(r.primaryType,r.message,r.types,t)),i.keccak(n.concat(s))}};function u(e){const t=new Error("Expect argument to be non-empty array");if("object"!=typeof e||!e.length)throw t;const r=e.map((function(e){return"bytes"===e.type?i.toBuffer(e.value):e.value})),n=e.map((function(e){return e.type})),o=e.map((function(e){if(!e.name)throw t;return`${e.type} ${e.name}`}));return s.soliditySHA3(["bytes32","bytes32"],[s.soliditySHA3(new Array(e.length).fill("string"),o),s.soliditySHA3(n,r)])}function l(e,t){const r=i.toBuffer(t),n=i.fromRpcSig(r);return i.ecrecover(e,n.v,n.r,n.s)}function d(e){const t=i.toBuffer(e.data);return l(i.hashPersonalMessage(t),e.sig)}function f(e,t){let r=`${e}`;for(;r.length<t;)r=`0${r}`;return r}function h(e){const t=n.from(e,"hex").toString("base64");return o.util.decodeBase64(t)}t.exports={TYPED_MESSAGE_SCHEMA:a,TypedDataUtils:c,concatSig(e,t,r){const n=i.fromSigned(t),s=i.fromSigned(r),o=i.bufferToInt(e),a=f(i.toUnsigned(n).toString("hex"),64),c=f(i.toUnsigned(s).toString("hex"),64),u=i.stripHexPrefix(i.intToHex(o));return i.addHexPrefix(a.concat(c,u)).toString("hex")},normalize(e){if(e){if("number"==typeof e){const t=i.toBuffer(e);e=i.bufferToHex(t)}if("string"!=typeof e){let t="eth-sig-util.normalize() requires hex string or integer input.";throw t+=` received ${typeof e}: ${e}`,new Error(t)}return i.addHexPrefix(e.toLowerCase())}},personalSign(e,t){const r=i.toBuffer(t.data),n=i.hashPersonalMessage(r),s=i.ecsign(n,e);return i.bufferToHex(this.concatSig(s.v,s.r,s.s))},recoverPersonalSignature(e){const t=d(e),r=i.publicToAddress(t);return i.bufferToHex(r)},extractPublicKey:e=>`0x${d(e).toString("hex")}`,typedSignatureHash(e){const t=u(e);return i.bufferToHex(t)},signTypedDataLegacy(e,t){const r=u(t.data),n=i.ecsign(r,e);return i.bufferToHex(this.concatSig(n.v,n.r,n.s))},recoverTypedSignatureLegacy(e){const t=l(u(e.data),e.sig),r=i.publicToAddress(t);return i.bufferToHex(r)},encrypt(e,t,r){switch(r){case"x25519-xsalsa20-poly1305":{if(void 0===t.data)throw new Error('Cannot detect secret message, message params should be of the form {data: "secret message"} ');const r=o.box.keyPair();let n;try{n=o.util.decodeBase64(e)}catch(e){throw new Error("Bad public key")}const i=o.util.decodeUTF8(t.data),s=o.randomBytes(o.box.nonceLength),a=o.box(i,s,n,r.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:o.util.encodeBase64(s),ephemPublicKey:o.util.encodeBase64(r.publicKey),ciphertext:o.util.encodeBase64(a)}}default:throw new Error("Encryption type/version not supported")}},encryptSafely(e,t,r){const{data:i}=t;if(!i)throw new Error("Cannot encrypt empty msg.data");if("object"==typeof i&&i.toJSON)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");const s={data:i,padding:""},o=n.byteLength(JSON.stringify(s),"utf-8")%2048;let a=0;o>0&&(a=2048-o-16),s.padding="0".repeat(a);const c={data:JSON.stringify(s)};return this.encrypt(e,c,r)},decrypt(e,t){switch(e.version){case"x25519-xsalsa20-poly1305":{const r=h(t),n=o.box.keyPair.fromSecretKey(r).secretKey,i=o.util.decodeBase64(e.nonce),s=o.util.decodeBase64(e.ciphertext),a=o.util.decodeBase64(e.ephemPublicKey),c=o.box.open(s,i,a,n);let u;try{u=o.util.encodeUTF8(c)}catch(e){throw new Error("Decryption failed.")}if(u)return u;throw new Error("Decryption failed.")}default:throw new Error("Encryption type/version not supported.")}},decryptSafely(e,t){return JSON.parse(this.decrypt(e,t)).data},getEncryptionPublicKey(e){const t=h(e),r=o.box.keyPair.fromSecretKey(t).publicKey;return o.util.encodeBase64(r)},signTypedMessage(e,t,r="V4"){switch(r){case"V1":return this.signTypedDataLegacy(e,t);case"V3":return this.signTypedData(e,t);case"V4":default:return this.signTypedData_v4(e,t)}},recoverTypedMessage(e,t="V4"){switch(t){case"V1":return this.recoverTypedSignatureLegacy(e);case"V3":return this.recoverTypedSignature(e);case"V4":default:return this.recoverTypedSignature_v4(e)}},signTypedData(e,t){const r=c.sign(t.data,!1),n=i.ecsign(r,e);return i.bufferToHex(this.concatSig(n.v,n.r,n.s))},signTypedData_v4(e,t){const r=c.sign(t.data),n=i.ecsign(r,e);return i.bufferToHex(this.concatSig(n.v,n.r,n.s))},recoverTypedSignature(e){const t=l(c.sign(e.data,!1),e.sig),r=i.publicToAddress(t);return i.bufferToHex(r)},recoverTypedSignature_v4(e){const t=l(c.sign(e.data),e.sig),r=i.publicToAddress(t);return i.bufferToHex(r)}}},{file:"/home/circleci/project/node_modules/@metamask/eth-ledger-bridge-keyring/node_modules/eth-sig-util/index.js"}],[2092,{"./account":2085,"./address":2086,"./bytes":2087,"./constants":2088,"./externals":2089,"./hash":2090,"./object":2093,"./signature":2094,"./types":2095,"ethjs-util":2191},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./constants"),r),i(e("./account"),r),i(e("./address"),r),i(e("./hash"),r),i(e("./signature"),r),i(e("./bytes"),r),i(e("./object"),r),i(e("./externals"),r),i(e("./types"),r),i(e("ethjs-util"),r)},{file:"/home/circleci/project/node_modules/eth-trezor-keyring/node_modules/ethereumjs-util/dist/index.js"}],[3776,{"./constants":3766,"./env/node":3772,"./types":3786,"@babel/runtime/helpers/defineProperty":178,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");r.__esModule=!0;var i={};r.default=void 0;var s=n(e("@babel/runtime/helpers/defineProperty")),o=e("./constants");Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||e in r&&r[e]===o[e]||(r[e]=o[e]))}));var a=e("./env/node"),c=e("./types");function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,s.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||e in r&&r[e]===c[e]||(r[e]=c[e]))}));var d={manifest:a.manifest,init:function(e){return(0,a.init)(e)},getSettings:a.getSettings,on:function(e,t){a.eventEmitter.on(e,t)},off:function(e,t){a.eventEmitter.removeListener(e,t)},removeAllListeners:function(){a.eventEmitter.removeAllListeners()},uiResponse:a.uiResponse,blockchainGetAccountBalanceHistory:function(e){return(0,a.call)(l({method:"blockchainGetAccountBalanceHistory"},e))},blockchainGetCurrentFiatRates:function(e){return(0,a.call)(l({method:"blockchainGetCurrentFiatRates"},e))},blockchainGetFiatRatesForTimestamps:function(e){return(0,a.call)(l({method:"blockchainGetFiatRatesForTimestamps"},e))},blockchainDisconnect:function(e){return(0,a.call)(l({method:"blockchainDisconnect"},e))},blockchainEstimateFee:function(e){return(0,a.call)(l({method:"blockchainEstimateFee"},e))},blockchainGetTransactions:function(e){return(0,a.call)(l({method:"blockchainGetTransactions"},e))},blockchainSetCustomBackend:function(e){return(0,a.call)(l({method:"blockchainSetCustomBackend"},e))},blockchainSubscribe:function(e){return(0,a.call)(l({method:"blockchainSubscribe"},e))},blockchainSubscribeFiatRates:function(e){return(0,a.call)(l({method:"blockchainSubscribeFiatRates"},e))},blockchainUnsubscribe:function(e){return(0,a.call)(l({method:"blockchainUnsubscribe"},e))},blockchainUnsubscribeFiatRates:function(e){return(0,a.call)(l({method:"blockchainUnsubscribeFiatRates"},e))},customMessage:function(e){return(0,a.customMessage)(e)},requestLogin:function(e){return(0,a.requestLogin)(e)},cardanoGetAddress:function(e){var t=a.eventEmitter.listenerCount(o.UI.ADDRESS_VALIDATION)>0;return(0,a.call)(l(l({method:"cardanoGetAddress"},e),{},{useEventListener:t}))},cardanoGetPublicKey:function(e){return(0,a.call)(l({method:"cardanoGetPublicKey"},e))},cardanoSignTransaction:function(e){return(0,a.call)(l({method:"cardanoSignTransaction"},e))},cipherKeyValue:function(e){return(0,a.call)(l({method:"cipherKeyValue"},e))},composeTransaction:function(e){return(0,a.call)(l({method:"composeTransaction"},e))},debugLinkDecision:function(e){return(0,a.call)(l({method:"debugLinkDecision"},e))},debugLinkGetState:function(e){return(0,a.call)(l({method:"debugLinkGetState"},e))},ethereumGetAddress:function(e){var t=a.eventEmitter.listenerCount(o.UI.ADDRESS_VALIDATION)>0;return(0,a.call)(l(l({method:"ethereumGetAddress"},e),{},{useEventListener:t}))},ethereumGetPublicKey:function(e){return(0,a.call)(l({method:"ethereumGetPublicKey"},e))},ethereumSignMessage:function(e){return(0,a.call)(l({method:"ethereumSignMessage"},e))},ethereumSignTransaction:function(e){return(0,a.call)(l({method:"ethereumSignTransaction"},e))},ethereumVerifyMessage:function(e){return(0,a.call)(l({method:"ethereumVerifyMessage"},e))},getAccountInfo:function(e){return(0,a.call)(l({method:"getAccountInfo"},e))},getAddress:function(e){var t=a.eventEmitter.listenerCount(o.UI.ADDRESS_VALIDATION)>0;return(0,a.call)(l(l({method:"getAddress"},e),{},{useEventListener:t}))},getDeviceState:function(e){return(0,a.call)(l({method:"getDeviceState"},e))},getFeatures:function(e){return(0,a.call)(l({method:"getFeatures"},e))},getPublicKey:function(e){return(0,a.call)(l({method:"getPublicKey"},e))},liskGetAddress:function(e){var t=a.eventEmitter.listenerCount(o.UI.ADDRESS_VALIDATION)>0;return(0,a.call)(l(l({method:"liskGetAddress"},e),{},{useEventListener:t}))},liskGetPublicKey:function(e){return(0,a.call)(l({method:"liskGetPublicKey"},e))},liskSignMessage:function(e){return(0,a.call)(l({method:"liskSignMessage"},e))},liskSignTransaction:function(e){return(0,a.call)(l({method:"liskSignTransaction"},e))},liskVerifyMessage:function(e){return(0,a.call)(l({method:"liskVerifyMessage"},e))},nemGetAddress:function(e){var t=a.eventEmitter.listenerCount(o.UI.ADDRESS_VALIDATION)>0;return(0,a.call)(l(l({method:"nemGetAddress"},e),{},{useEventListener:t}))},nemSignTransaction:function(e){return(0,a.call)(l({method:"nemSignTransaction"},e))},pushTransaction:function(e){return(0,a.call)(l({method:"pushTransaction"},e))},rippleGetAddress:function(e){var t=a.eventEmitter.listenerCount(o.UI.ADDRESS_VALIDATION)>0;return(0,a.call)(l(l({method:"rippleGetAddress"},e),{},{useEventListener:t}))},rippleSignTransaction:function(e){return(0,a.call)(l({method:"rippleSignTransaction"},e))},signMessage:function(e){return(0,a.call)(l({method:"signMessage"},e))},signTransaction:function(e){return(0,a.call)(l({method:"signTransaction"},e))},stellarGetAddress:function(e){var t=a.eventEmitter.listenerCount(o.UI.ADDRESS_VALIDATION)>0;return(0,a.call)(l(l({method:"stellarGetAddress"},e),{},{useEventListener:t}))},stellarSignTransaction:function(e){return(0,a.call)(l({method:"stellarSignTransaction"},e))},tezosGetAddress:function(e){var t=a.eventEmitter.listenerCount(o.UI.ADDRESS_VALIDATION)>0;return(0,a.call)(l(l({method:"tezosGetAddress"},e),{},{useEventListener:t}))},tezosGetPublicKey:function(e){return(0,a.call)(l({method:"tezosGetPublicKey"},e))},tezosSignTransaction:function(e){return(0,a.call)(l({method:"tezosSignTransaction"},e))},eosGetPublicKey:function(e){return(0,a.call)(l({method:"eosGetPublicKey"},e))},eosSignTransaction:function(e){return(0,a.call)(l({method:"eosSignTransaction"},e))},binanceGetAddress:function(e){var t=a.eventEmitter.listenerCount(o.UI.ADDRESS_VALIDATION)>0;return(0,a.call)(l(l({method:"binanceGetAddress"},e),{},{useEventListener:t}))},binanceGetPublicKey:function(e){return(0,a.call)(l({method:"binanceGetPublicKey"},e))},binanceSignTransaction:function(e){return(0,a.call)(l({method:"binanceSignTransaction"},e))},verifyMessage:function(e){return(0,a.call)(l({method:"verifyMessage"},e))},resetDevice:function(e){return(0,a.call)(l({method:"resetDevice"},e))},wipeDevice:function(e){return(0,a.call)(l({method:"wipeDevice"},e))},applyFlags:function(e){return(0,a.call)(l({method:"applyFlags"},e))},applySettings:function(e){return(0,a.call)(l({method:"applySettings"},e))},backupDevice:function(e){return(0,a.call)(l({method:"backupDevice"},e))},changePin:function(e){return(0,a.call)(l({method:"changePin"},e))},firmwareUpdate:function(e){return(0,a.call)(l({method:"firmwareUpdate"},e))},recoveryDevice:function(e){return(0,a.call)(l({method:"recoveryDevice"},e))},getCoinInfo:function(e){return(0,a.call)(l({method:"getCoinInfo"},e))},dispose:function(){(0,a.dispose)()},cancel:a.cancel,renderWebUSBButton:function(e){(0,a.renderWebUSBButton)(e)},disableWebUSB:function(){(0,a.disableWebUSB)()}};r.default=d},{file:"/home/circleci/project/node_modules/trezor-connect/lib/index.js"}],[3098,{"safe-event-emitter":3606,xtend:3909},function(e,t,r){"use strict";e("xtend");const n=e("safe-event-emitter");t.exports=class extends n{constructor(e={}){super(),this._state=e}getState(){return this._getState()}putState(e){this._putState(e),this.emit("update",e)}updateState(e){if(e&&"object"==typeof e){const t=this.getState(),r=Object.assign({},t,e);this.putState(r)}else this.putState(e)}subscribe(e){this.on("update",e)}unsubscribe(e){this.removeListener("update",e)}_getState(){return this._state}_putState(e){this._state=e}}},{file:"/home/circleci/project/node_modules/obs-store/index.js"}],[1682,{"browserify-unibabel":1711},function(e,t,r){(function(r){var n=e("browserify-unibabel");function i(e,t){var i=JSON.stringify(t),s=n.utf8ToBuffer(i),o=r.crypto.getRandomValues(new Uint8Array(16));return r.crypto.subtle.encrypt({name:"AES-GCM",iv:o},e,s).then((function(e){var t=new Uint8Array(e),r=n.bufferToBase64(o);return{data:n.bufferToBase64(t),iv:r}}))}function s(e,t){const r=n.base64ToBuffer(t.data),i=n.base64ToBuffer(t.iv);return crypto.subtle.decrypt({name:"AES-GCM",iv:i},e,r).then((function(e){const t=new Uint8Array(e),r=n.bufferToUtf8(t);return JSON.parse(r)})).catch((function(e){throw new Error("Incorrect password")}))}function o(e,t){var i=n.utf8ToBuffer(e),s=n.base64ToBuffer(t);return r.crypto.subtle.importKey("raw",i,{name:"PBKDF2"},!1,["deriveBits","deriveKey"]).then((function(e){return r.crypto.subtle.deriveKey({name:"PBKDF2",salt:s,iterations:1e4,hash:"SHA-256"},e,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}))}function a(e){for(var t=e.toString(16);t.length<2;)t="0"+t;return t}function c(e=32){var t=new Uint8Array(e);return r.crypto.getRandomValues(t),btoa(String.fromCharCode.apply(null,t))}t.exports={encrypt:function(e,t){var r=c();return o(e,r).then((function(e){return i(e,t)})).then((function(e){return e.salt=r,JSON.stringify(e)}))},decrypt:function(e,t){const r=JSON.parse(t),n=r.salt;return o(e,n).then((function(e){return s(e,r)}))},keyFromPassword:o,encryptWithKey:i,decryptWithKey:s,serializeBufferForStorage:function(e){for(var t="0x",r=e.length||e.byteLength,n=0;n<r;n++)t+=a(e[n]);return t},serializeBufferFromStorage:function(e){for(var t="0x"===e.slice(0,2)?e.slice(2):e,r=new Uint8Array(t.length/2),n=0;n<t.length;n+=2){var i=t.substr(n,2);r[n/2]=parseInt(i,16)}return r},generateSalt:c}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{file:"/home/circleci/project/node_modules/browser-passworder/index.js"}],[2043,{"./account":2036,"./address":2037,"./bytes":2038,"./constants":2039,"./externals":2040,"./hash":2041,"./object":2044,"./signature":2045,"./types":2046,"ethjs-util":2191},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./constants"),r),i(e("./account"),r),i(e("./address"),r),i(e("./hash"),r),i(e("./signature"),r),i(e("./bytes"),r),i(e("./object"),r),i(e("./externals"),r),i(e("./types"),r),i(e("ethjs-util"),r)},{file:"/home/circleci/project/node_modules/eth-keyring-controller/node_modules/ethereumjs-util/dist/index.js"}],[1637,{"./wordlists/chinese_simplified.json":1638,"./wordlists/chinese_traditional.json":1639,"./wordlists/english.json":1640,"./wordlists/french.json":1641,"./wordlists/italian.json":1642,"./wordlists/japanese.json":1643,"./wordlists/korean.json":1644,"./wordlists/spanish.json":1645,"create-hash":1758,pbkdf2:3209,randombytes:3333,"safe-buffer":3605,unorm:3816},function(e,t,r){var n=e("safe-buffer").Buffer,i=e("create-hash"),s=e("pbkdf2").pbkdf2Sync,o=e("randombytes"),a=e("unorm"),c=e("./wordlists/chinese_simplified.json"),u=e("./wordlists/chinese_traditional.json"),l=e("./wordlists/english.json"),d=e("./wordlists/french.json"),f=e("./wordlists/italian.json"),h=e("./wordlists/japanese.json"),p=e("./wordlists/korean.json"),m=e("./wordlists/spanish.json"),g=l,y="Invalid mnemonic",v="Invalid entropy";function b(e,t,r){for(;e.length<r;)e=t+e;return e}function w(e){return parseInt(e,2)}function _(e){return e.map((function(e){return b(e.toString(2),"0",8)})).join("")}function k(e){var t=8*e.length/32,r=i("sha256").update(e).digest();return _([].slice.call(r)).slice(0,t)}function x(e,t){var r=n.from(a.nfkd(e),"utf8"),i=n.from(function(e){return"mnemonic"+(e||"")}(a.nfkd(t)),"utf8");return s(r,i,2048,64,"sha512")}function A(e,t){t=t||g;var r=a.nfkd(e).split(" ");if(r.length%3!=0)throw new Error(y);var i=r.map((function(e){var r=t.indexOf(e);if(-1===r)throw new Error(y);return b(r.toString(2),"0",11)})).join(""),s=32*Math.floor(i.length/33),o=i.slice(0,s),c=i.slice(s),u=o.match(/(.{1,8})/g).map(w);if(u.length<16)throw new Error(v);if(u.length>32)throw new Error(v);if(u.length%4!=0)throw new Error(v);var l=n.from(u);if(k(l)!==c)throw new Error("Invalid mnemonic checksum");return l.toString("hex")}function P(e,t){if(n.isBuffer(e)||(e=n.from(e,"hex")),t=t||g,e.length<16)throw new TypeError(v);if(e.length>32)throw new TypeError(v);if(e.length%4!=0)throw new TypeError(v);var r=(_([].slice.call(e))+k(e)).match(/(.{1,11})/g).map((function(e){var r=w(e);return t[r]}));return t===h?r.join(""):r.join(" ")}t.exports={mnemonicToSeed:x,mnemonicToSeedHex:function(e,t){return x(e,t).toString("hex")},mnemonicToEntropy:A,entropyToMnemonic:P,generateMnemonic:function(e,t,r){if((e=e||128)%32!=0)throw new TypeError(v);return P((t=t||o)(e/8),r)},validateMnemonic:function(e,t){try{A(e,t)}catch(e){return!1}return!0},wordlists:{EN:l,JA:h,chinese_simplified:c,chinese_traditional:u,english:l,french:d,italian:f,japanese:h,korean:p,spanish:m}}},{file:"/home/circleci/project/node_modules/bip39/index.js"}],[1954,{bip39:1637,"eth-sig-util":2058,"eth-simple-keyring":2066,"ethereumjs-wallet":1969},function(e,t,r){const{hdkey:n}=e("ethereumjs-wallet"),i=e("eth-simple-keyring"),s=e("bip39"),o=e("eth-sig-util"),a="HD Key Tree";class c extends i{constructor(e={}){super(),this.type=a,this.deserialize(e)}serialize(){return Promise.resolve({mnemonic:this.mnemonic,numberOfAccounts:this.wallets.length,hdPath:this.hdPath})}deserialize(e={}){return this.opts=e||{},this.wallets=[],this.mnemonic=null,this.root=null,this.hdPath=e.hdPath||"m/44'/60'/0'/0",e.mnemonic&&this._initFromMnemonic(e.mnemonic),e.numberOfAccounts?this.addAccounts(e.numberOfAccounts):Promise.resolve([])}addAccounts(e=1){this.root||this._initFromMnemonic(s.generateMnemonic());const t=this.wallets.length,r=[];for(let n=t;n<e+t;n++){const e=this.root.deriveChild(n).getWallet();r.push(e),this.wallets.push(e)}const n=r.map((e=>o.normalize(e.getAddress().toString("hex"))));return Promise.resolve(n)}getAccounts(){return Promise.resolve(this.wallets.map((e=>o.normalize(e.getAddress().toString("hex")))))}_initFromMnemonic(e){this.mnemonic=e;const t=s.mnemonicToSeed(e);this.hdWallet=n.fromMasterSeed(t),this.root=this.hdWallet.derivePath(this.hdPath)}}c.type=a,t.exports=c},{file:"/home/circleci/project/node_modules/eth-hd-keyring/index.js"}],[2066,{buffer:1713,"eth-sig-util":2058,"ethereumjs-util":2076,"ethereumjs-wallet":2081,events:1714},function(e,t,r){(function(r){const{EventEmitter:n}=e("events"),i=e("ethereumjs-wallet").default,s=e("ethereumjs-util"),o="Simple Key Pair",a=e("eth-sig-util");class c extends n{constructor(e){super(),this.type=o,this.wallets=[],this.deserialize(e)}serialize(){return Promise.resolve(this.wallets.map((e=>e.getPrivateKey().toString("hex"))))}deserialize(e=[]){return new Promise(((t,n)=>{try{this.wallets=e.map((e=>{const t=s.stripHexPrefix(e),n=r.from(t,"hex");return i.fromPrivateKey(n)}))}catch(e){n(e)}t()}))}addAccounts(e=1){const t=[];for(let r=0;r<e;r++)t.push(i.generate());this.wallets=this.wallets.concat(t);const r=t.map((e=>s.bufferToHex(e.getAddress())));return Promise.resolve(r)}getAccounts(){return Promise.resolve(this.wallets.map((e=>s.bufferToHex(e.getAddress()))))}signTransaction(e,t,r={}){const n=this.getPrivateKeyFor(e,r),i=t.sign(n);return Promise.resolve(void 0===i?t:i)}signMessage(e,t,n={}){const i=s.stripHexPrefix(t),o=this.getPrivateKeyFor(e,n),c=s.ecsign(r.from(i,"hex"),o),u=a.concatSig(c.v,c.r,c.s);return Promise.resolve(u)}newGethSignMessage(e,t,r={}){const n=this.getPrivateKeyFor(e,r),i=s.toBuffer(t),o=s.hashPersonalMessage(i),c=s.ecsign(o,n),u=a.concatSig(c.v,c.r,c.s);return Promise.resolve(u)}signPersonalMessage(e,t,n={}){const i=this.getPrivateKeyFor(e,n),s=r.from(i,"hex"),o=a.personalSign(s,{data:t});return Promise.resolve(o)}decryptMessage(e,t){const r=this._getWalletForAccount(e),n=s.stripHexPrefix(r.getPrivateKey()),i=a.decrypt(t,n);return Promise.resolve(i)}signTypedData(e,t,r={version:"V1"}){switch(r.version){case"V1":return this.signTypedData_v1(e,t,r);case"V3":return this.signTypedData_v3(e,t,r);case"V4":return this.signTypedData_v4(e,t,r);default:return this.signTypedData_v1(e,t,r)}}signTypedData_v1(e,t,r={}){const n=this.getPrivateKeyFor(e,r),i=a.signTypedDataLegacy(n,{data:t});return Promise.resolve(i)}signTypedData_v3(e,t,r={}){const n=this.getPrivateKeyFor(e,r),i=a.signTypedData(n,{data:t});return Promise.resolve(i)}signTypedData_v4(e,t,r={}){const n=this.getPrivateKeyFor(e,r),i=a.signTypedData_v4(n,{data:t});return Promise.resolve(i)}getEncryptionPublicKey(e,t={}){const r=this.getPrivateKeyFor(e,t),n=a.getEncryptionPublicKey(r);return Promise.resolve(n)}getPrivateKeyFor(e,t={}){if(!e)throw new Error("Must specify address.");const r=this._getWalletForAccount(e,t);return s.toBuffer(r.getPrivateKey())}getAppKeyAddress(e,t){if(!t||"string"!=typeof t)throw new Error("'origin' must be a non-empty string");return new Promise(((r,n)=>{try{const n=this._getWalletForAccount(e,{withAppKeyOrigin:t});return r(a.normalize(n.getAddress().toString("hex")))}catch(e){return n(e)}}))}exportAccount(e,t={}){const r=this._getWalletForAccount(e,t);return Promise.resolve(r.getPrivateKey().toString("hex"))}removeAccount(e){if(!this.wallets.map((e=>s.bufferToHex(e.getAddress()).toLowerCase())).includes(e.toLowerCase()))throw new Error(`Address ${e} not found in this keyring`);this.wallets=this.wallets.filter((t=>s.bufferToHex(t.getAddress()).toLowerCase()!==e.toLowerCase()))}_getWalletForAccount(e,t={}){const n=a.normalize(e);let o=this.wallets.find((e=>s.bufferToHex(e.getAddress())===n));if(!o)throw new Error("Simple Keyring - Unable to find matching address.");if(t.withAppKeyOrigin){const e=o.getPrivateKey(),n=r.from(t.withAppKeyOrigin,"utf8"),a=r.concat([e,n]),c=s.keccak(a,256);o=i.fromPrivateKey(c)}return o}}c.type=o,t.exports=c}).call(this,e("buffer").Buffer)},{file:"/home/circleci/project/node_modules/eth-simple-keyring/index.js"}],[2260,{},function(e,t,r){t.exports=[{constant:!0,inputs:[{name:"interfaceID",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"name",outputs:[{name:"_name",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_tokenId",type:"uint256"}],name:"getApproved",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_approved",type:"address"},{name:"_tokenId",type:"uint256"}],name:"approve",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"transferFrom",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"_index",type:"uint256"}],name:"tokenByIndex",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_tokenId",type:"uint256"}],name:"ownerOf",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"_symbol",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_operator",type:"address"},{name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"},{name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"_tokenId",type:"uint256"}],name:"tokenURI",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_operator",type:"address"}],name:"isApprovedForAll",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"_from",type:"address"},{indexed:!0,name:"_to",type:"address"},{indexed:!0,name:"_tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_owner",type:"address"},{indexed:!0,name:"_approved",type:"address"},{indexed:!0,name:"_tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_owner",type:"address"},{indexed:!0,name:"_operator",type:"address"},{indexed:!1,name:"_approved",type:"bool"}],name:"ApprovalForAll",type:"event"}]},{file:"/home/circleci/project/node_modules/human-standard-collectible-abi/index.js"}],[25,{"eth-rpc-errors":2056,"json-rpc-engine":2607},function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function({addDomainMetadata:e,getAccounts:t,getUnlockPromise:r,hasPermission:s,notifyAccountsChanged:o,requestAccountsPermission:a}){let c=!1;return(0,n.createAsyncMiddleware)((async(n,u,l)=>{let d;switch(n.method){case"eth_accounts":return void(u.result=await t());case"eth_requestAccounts":{if(c)return void(u.error=i.ethErrors.rpc.resourceUnavailable("Already processing eth_requestAccounts. Please wait."));s("eth_accounts")&&(c=!0,await r(),c=!1);let e=await t();if(e.length>0)return void(u.result=e);try{await a()}catch(e){return void(u.error=e)}return e=await t(),void(e.length>0?u.result=e:u.error=i.ethErrors.rpc.internal("Accounts unexpectedly unavailable. Please report this bug."))}case"metamask_sendDomainMetadata":var f;return"string"==typeof(null===(f=n.params)||void 0===f?void 0:f.name)&&e(n.origin,n.params),void(u.result=!0);case"wallet_requestPermissions":var h;"eth_accounts"in(null===(h=n.params)||void 0===h?void 0:h[0])&&(d=async()=>{if(Array.isArray(u.result))for(const e of u.result)"eth_accounts"===e.parentCapability&&o(await t())})}await l(),d&&d()}))};var n=e("json-rpc-engine"),i=e("eth-rpc-errors")},{file:"/home/circleci/project/app/scripts/controllers/permissions/permissionsMethodMiddleware.js"}],[24,{"../../../../shared/constants/permissions":3917,"./enums":22,"@babel/runtime/helpers/defineProperty":178,"@babel/runtime/helpers/interopRequireDefault":184,"fast-safe-stringify":2208},function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/defineProperty")),s=n(e("fast-safe-stringify")),o=e("../../../../shared/constants/permissions"),a=e("./enums");function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){return e.reduce(((e,r)=>u(u({},e),{},{[r]:t})),{})}r.default=class{constructor({restrictedMethods:e,store:t}){this.restrictedMethods=e,this.store=t}getActivityLog(){return this.store.getState()[a.LOG_STORE_KEY]||[]}updateActivityLog(e){this.store.updateState({[a.LOG_STORE_KEY]:e})}getHistory(){return this.store.getState()[a.HISTORY_STORE_KEY]||{}}updateHistory(e){this.store.updateState({[a.HISTORY_STORE_KEY]:e})}updateAccountsHistory(e,t){if(0===t.length)return;const r=l(t,Date.now());this.commitNewHistory(e,{eth_accounts:{accounts:r}})}createMiddleware(){return(e,t,r,n)=>{let i,s;const{origin:o,method:c}=e,u=c.startsWith(a.WALLET_PREFIX);if(a.LOG_IGNORE_METHODS.includes(c)||!u&&!this.restrictedMethods.includes(c)){if("eth_requestAccounts"!==c)return void r();i=this.logRequest(e,u),s=["eth_accounts"]}else i=this.logRequest(e,u),c===`${a.WALLET_PREFIX}requestPermissions`&&(s=this.getRequestedMethods(e));r((e=>{const r=Date.now();this.logResponse(i,t,r),s&&!t.error&&t.result&&this.logPermissionsHistory(s,o,t.result,r,"eth_requestAccounts"===c),e()}))}}logRequest(e,t){const r={id:e.id,method:e.method,methodType:t?a.LOG_METHOD_TYPES.internal:a.LOG_METHOD_TYPES.restricted,origin:e.origin,request:(0,s.default)(e,null,2),requestTime:Date.now(),response:null,responseTime:null,success:null};return this.commitNewActivity(r),r}logResponse(e,t,r){e&&t&&(e.response=(0,s.default)(t,null,2),e.responseTime=r,e.success=!t.error)}commitNewActivity(e){const t=this.getActivityLog();t.push(e),t.length>a.LOG_LIMIT&&t.shift(),this.updateActivityLog(t)}logPermissionsHistory(e,t,r,n,i){let s,o;if(i){s=r;o={eth_accounts:{accounts:l(s,n),lastApproved:n}}}else o=r.map((e=>("eth_accounts"===e.parentCapability&&(s=this.getAccountsFromPermission(e)),e.parentCapability))).reduce(((t,r)=>{if(e.includes(r))if("eth_accounts"===r){const e=l(s,n);t[r]={lastApproved:n,accounts:e}}else t[r]={lastApproved:n};return t}),{});Object.keys(o).length>0&&this.commitNewHistory(t,o)}commitNewHistory(e,t){const r=this.getHistory(),n=u(u({},r[e]),t),i=r[e]&&r[e].eth_accounts,s=t.eth_accounts;if(i&&s){const e=s.lastApproved||i.lastApproved;n.eth_accounts={lastApproved:e,accounts:u(u({},i.accounts),s.accounts)}}r[e]=n,this.updateHistory(r)}getRequestedMethods(e){return e.params&&e.params[0]&&"object"==typeof e.params[0]&&!Array.isArray(e.params[0])?Object.keys(e.params[0]):null}getAccountsFromPermission(e){if("eth_accounts"!==e.parentCapability||!e.caveats)return[];const t=new Set;for(const r of e.caveats)if(r.name===o.CAVEAT_NAMES.exposedAccounts&&Array.isArray(r.value))for(const e of r.value)t.add(e);return[...t]}}},{file:"/home/circleci/project/app/scripts/controllers/permissions/permissionsLog.js"}],[3501,{"./src/caveats":3502,"./src/errors":3503,"@metamask/controllers":3514,"json-rpc-engine":3570,"json-rpc-engine/src/asMiddleware":3569,"uuid/v4":3832},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.CapabilitiesController=void 0;const i=n(e("uuid/v4")),s=e("@metamask/controllers"),o=e("./src/caveats"),a=e("./src/errors"),c=e("json-rpc-engine"),u=e("json-rpc-engine/src/asMiddleware");class l{constructor({method:e,caveats:t,invoker:r}){this["@context"]=["https://github.com/MetaMask/rpc-cap"],this.parentCapability=e,this.id=i.default(),this.date=Date.now(),this.invoker=r,t&&(this.caveats=t)}toJSON(){return{"@context":this["@context"],invoker:this.invoker,parentCapability:this.parentCapability,id:this.id,date:this.date,caveats:this.caveats}}toString(){return JSON.stringify(this.toJSON())}}class d extends s.BaseController{constructor(e,t){if(super(e,t||{}),this.caveats={requireParams:o.requireParams,filterResponse:o.filterResponse,limitResponseLength:o.limitResponseLength,forceParams:o.forceParams},this.safeMethods=e.safeMethods||[],this.restrictedMethods=e.restrictedMethods||{},this.methodPrefix=e.methodPrefix||"",this.engine=e.engine||void 0,!e.requestUserApproval)throw new Error("User approval prompt required.");this.requestUserApproval=e.requestUserApproval,this.defaultState={permissionsRequests:[],permissionsDescriptions:Object.keys(this.restrictedMethods).reduce(((e,t)=>(e[t]=this.restrictedMethods[t].description,e)),{})},this.internalMethods={},this.internalMethods[`${this.methodPrefix}getPermissions`]=this.getPermissionsMiddleware.bind(this),this.internalMethods[`${this.methodPrefix}requestPermissions`]=this.requestPermissionsMiddleware.bind(this),this.initialize()}serialize(){return this.state}createBoundMiddleware(e){return this.providerMiddlewareFunction.bind(this,{origin:e})}createPermissionedEngine(e){const t=new c;return t.push(this.createBoundMiddleware(e)),t}providerMiddlewareFunction(e,t,r,n,i){const s=t.method;if(this.safeMethods.includes(s))return n();if(this.internalMethods[s])return this.internalMethods[s](e,t,r,n,i);if(!this.getMethodKeyFor(s))return r.error=a.methodNotFound({methodName:s,data:t}),i(r.error);let o;try{o=this.getPermission(e.origin,s)}catch(e){return r.error=a.internalError({data:e}),i(r.error)}if(!o)return r.error=a.unauthorized({data:t}),i(r.error);this.executeMethod(e,t,r,n,i)}getMethodKeyFor(e){const t=Object.keys(this.restrictedMethods);if(t.includes(e))return e;const r=t.reduce(((e,t)=>{const r=t.match(/(.+)\*$/);return r?Object.assign(Object.assign({},e),{[r[1]]:!0}):e}),{}),n=e.split("_");let i="";for(;n.length>0&&!t.includes(i)&&!r[i];)i+=n.shift()+"_";return t.includes(i)?i:r[i]?i+"*":""}executeMethod(e,t,r,n,i){const s=this.getMethodKeyFor(t.method),o=this.getPermission(e.origin,t.method);if(s&&"function"==typeof this.restrictedMethods[s].method){const a=this.createVirtualEngineFor(e);if((null==o?void 0:o.caveats)&&o.caveats.length>0){const e=new c;o.caveats.forEach((t=>{const r=(0,this.caveats[t.type])(t);e.push(r)})),e.push(((e,t,r,n)=>this.restrictedMethods[s].method(e,t,r,n,a)));return u(e)(t,r,n,i)}return this.restrictedMethods[s].method(t,r,n,i,a)}return r.error=a.methodNotFound({methodName:t.method,data:t}),i(r.error)}createVirtualEngineFor(e){const t=new c;return t.push(this.providerMiddlewareFunction.bind(this,e)),this.engine&&t.push(u(this.engine)),t.domain=e.origin,t}getPermissionsForDomain(e){const{domains:t={}}=this.state;if(t[e]){const{permissions:r}=t[e];return r}return[]}getPermission(e,t){const r=this.getPermissionsForDomain(e).filter((e=>e.parentCapability===t));if(r.length>0)return r.shift()}getPermissionsRequests(){return this.state.permissionsRequests||[]}removePermissionsRequest(e){const t=this.getPermissionsRequests().filter((t=>t.metadata.id!==e));this.setPermissionsRequests(t)}setPermissionsRequests(e){this.update({permissionsRequests:e})}grantNewPermissions(e,t,r,n){if(!e||"string"!=typeof e)return r.error=a.invalidReq(`Invalid domain: '${e}'.`),n(r.error);for(const e in t)if(!this.getMethodKeyFor(e))return r.error=a.methodNotFound({methodName:e}),n(r.error);const i={};for(const s in t){const o=new l({method:s,invoker:e,caveats:t[s].caveats});if(o.caveats&&!this.validateCaveats(o.caveats))return r.error=a.internalError({message:"Invalid caveats.",data:o}),n(r.error);i[s]=o}this.addPermissionsFor(e,i),r.result=this.getPermissionsForDomain(e),n()}getDomains(){const{domains:e}=this.state;return e||{}}setDomains(e){this.update({domains:e})}getOrCreateDomainSettings(e){const t=this.getDomainSettings(e);return void 0===t?{permissions:[]}:t}getDomainSettings(e){return this.getDomains()[e]}setDomain(e,t){const r=this.getDomains();t.permissions.length>0?r[e]=t:delete r[e],this.setDomains(r)}addPermissionsFor(e,t){const r=this.getOrCreateDomainSettings(e),n=Object.keys(t);r.permissions=r.permissions.filter((e=>!n.includes(e.parentCapability)));for(const e in t)r.permissions.push(t[e]);this.setDomain(e,r)}validateCaveats(e){const t={};for(const r of e){if(!this.validateCaveat(r)||r.name&&t[r.name])return!1;r.name&&(t[r.name]=!0)}return!0}validateCaveat(e){return!(!e||"object"!=typeof e||Array.isArray(e)||!e.type||"string"!=typeof e.type||""===e.name||e.name&&"string"!=typeof e.name)}getCaveats(e,t){const r=this.getPermission(e,t);return null==r?void 0:r.caveats}getCaveat(e,t,r){const n=this.getPermission(e,t);return n?n.caveats&&n.caveats.find((e=>e.name===r)):void 0}addCaveatFor(e,t,r){if(!this.validateCaveat(r))throw a.internalError({message:"Invalid caveat param. Must be a valid caveat object.",data:r});const n=this._getPermissionForCaveat(e,t),i=n.caveats?[...n.caveats,r]:[r];this._validateAndUpdateCaveats(e,t,i,n)}updateCaveatFor(e,t,r,n){if(!r||"string"!=typeof r)throw a.internalError({message:"Invalid caveat param. Must specify a string name.",data:r});const i=this._getPermissionForCaveat(e,t),s=i.caveats&&i.caveats.find((e=>e.name===r)),o=[];if(i.caveats&&i.caveats.forEach((e=>{e.name!==r&&o.push(e)})),!s||!i.caveats)throw a.internalError({message:"No such caveat exists for the relevant permission.",data:r});if(typeof s.value!=typeof n)throw a.internalError({message:"New caveat value is of different type than original.",data:{caveat:s,newValue:n}});s.value=n,o.push(s),this._validateAndUpdateCaveats(e,t,o,i)}_getPermissionForCaveat(e,t){const r=this.getPermission(e,t);if(!r)throw a.internalError({message:"No such permission exists for the given domain.",data:{domain:e,method:t}});return r}_validateAndUpdateCaveats(e,t,r,n){if(!this.validateCaveats(r))throw a.internalError({message:"The new caveats are jointly invalid.",data:r});const i={};n.caveats=r,i[t]=n,this.addPermissionsFor(e,i)}removePermissionsFor(e,t){const r=this.getDomainSettings(e);r&&(r.permissions=r.permissions.filter((e=>{for(const r of t)if(r.parentCapability===e.parentCapability)return!1;return!0})),this.setDomain(e,r))}clearDomains(){this.setDomains({})}validatePermissionsRequest(e){if(!e||!Array.isArray(e.params)||"object"!=typeof e.params[0]||Array.isArray(e.params[0]))throw a.invalidReq({data:e});const t=e.params[0];for(const r in t){if(void 0!==t[r].parentCapability&&r!==t[r].parentCapability)throw a.invalidReq({data:e});if(!this.getMethodKeyFor(r))throw a.methodNotFound({methodName:r,data:e})}}getPermissionsMiddleware(e,t,r,n,i){const s=this.getPermissionsForDomain(e.origin);r.result=s,i()}requestPermissionsMiddleware(e,t,r,n,s){try{this.validatePermissionsRequest(t)}catch(e){return r.error=e,s(r.error)}const o="number"==typeof t.id||t.id?t.id.toString():i.default(),c=t.params[0],u=this.getPermissionsRequests(),l={metadata:{origin:e.origin,id:o},permissions:c};u.push(l),this.setPermissionsRequests(u),this.requestUserApproval(l).then((n=>{if(0===Object.keys(n).length)return r.error=a.userRejectedRequest(t),s(r.error);this.grantNewPermissions(e.origin,n,r,s)})).catch((e=>(r.error=e,s(e)))).finally((()=>{this.removePermissionsRequest(l.metadata.id)}))}}r.CapabilitiesController=d},{file:"/home/circleci/project/node_modules/rpc-cap/dist/index.js"}],[947,{},function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.BaseController=void 0;class n{constructor(e={},t={}){this.defaultConfig={},this.defaultState={},this.disabled=!1,this.name="BaseController",this.internalConfig=this.defaultConfig,this.internalState=this.defaultState,this.internalListeners=[],this.initialState=t,this.initialConfig=e}initialize(){return this.internalState=this.defaultState,this.internalConfig=this.defaultConfig,this.configure(this.initialConfig),this.update(this.initialState),this}get config(){return this.internalConfig}get state(){return this.internalState}configure(e,t=!1,r=!0){if(r){this.internalConfig=t?e:Object.assign(this.internalConfig,e);for(const e in this.internalConfig)void 0!==this.internalConfig[e]&&(this[e]=this.internalConfig[e])}else for(const t in e)void 0!==this.internalConfig[t]&&(this.internalConfig[t]=e[t],this[t]=e[t])}notify(){this.disabled||this.internalListeners.forEach((e=>{e(this.internalState)}))}subscribe(e){this.internalListeners.push(e)}unsubscribe(e){const t=this.internalListeners.findIndex((t=>e===t));return t>-1&&this.internalListeners.splice(t,1),t>-1}update(e,t=!1){this.internalState=t?Object.assign({},e):Object.assign({},this.internalState,e),this.notify()}}r.BaseController=n,r.default=n},{file:"/home/circleci/project/node_modules/@metamask/controllers/dist/BaseController.js"}],[950,{},function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ControllerMessenger=r.RestrictedControllerMessenger=void 0;class n{constructor({controllerMessenger:e,name:t,allowedActions:r,allowedEvents:n}){this.controllerMessenger=e,this.controllerName=t,this.allowedActions=r||null,this.allowedEvents=n||null}registerActionHandler(e,t){if(!e.startsWith(`${this.controllerName}:`))throw new Error(`Only allowed registering action handlers prefixed by '${this.controllerName}:'`);return this.controllerMessenger.registerActionHandler(e,t)}unregisterActionHandler(e){if(!e.startsWith(`${this.controllerName}:`))throw new Error(`Only allowed unregistering action handlers prefixed by '${this.controllerName}:'`);return this.controllerMessenger.unregisterActionHandler(e)}call(e,...t){if(null===this.allowedActions)throw new Error("No actions allowed");if(!this.allowedActions.includes(e))throw new Error(`Action missing from allow list: ${e}`);return this.controllerMessenger.call(e,...t)}publish(e,...t){if(!e.startsWith(`${this.controllerName}:`))throw new Error(`Only allowed publishing events prefixed by '${this.controllerName}:'`);return this.controllerMessenger.publish(e,...t)}subscribe(e,t,r){if(null===this.allowedEvents)throw new Error("No events allowed");if(!this.allowedEvents.includes(e))throw new Error(`Event missing from allow list: ${e}`);return r?this.controllerMessenger.subscribe(e,t,r):this.controllerMessenger.subscribe(e,t)}unsubscribe(e,t){if(null===this.allowedEvents)throw new Error("No events allowed");if(!this.allowedEvents.includes(e))throw new Error(`Event missing from allow list: ${e}`);return this.controllerMessenger.unsubscribe(e,t)}clearEventSubscriptions(e){if(!e.startsWith(`${this.controllerName}:`))throw new Error(`Only allowed clearing events prefixed by '${this.controllerName}:'`);return this.controllerMessenger.clearEventSubscriptions(e)}}r.RestrictedControllerMessenger=n;r.ControllerMessenger=class{constructor(){this.actions=new Map,this.events=new Map,this.eventPayloadCache=new Map}registerActionHandler(e,t){if(this.actions.has(e))throw new Error(`A handler for ${e} has already been registered`);this.actions.set(e,t)}unregisterActionHandler(e){this.actions.delete(e)}clearActions(){this.actions.clear()}call(e,...t){const r=this.actions.get(e);if(!r)throw new Error(`A handler for ${e} has not been registered`);return r(...t)}publish(e,...t){const r=this.events.get(e);if(r)for(const[e,n]of r.entries())if(n){const r=this.eventPayloadCache.get(e),i=n(...t);i!==r&&(this.eventPayloadCache.set(e,i),e(i,r))}else e(...t)}subscribe(e,t,r){let n=this.events.get(e);n||(n=new Map,this.events.set(e,n)),n.set(t,r)}unsubscribe(e,t){const r=this.events.get(e);if(!r||!r.has(t))throw new Error(`Subscription not found for event: ${e}`);r.get(t)&&this.eventPayloadCache.delete(t),r.delete(t)}clearEventSubscriptions(e){this.events.delete(e)}clearSubscriptions(){this.events.clear()}getRestricted({name:e,allowedActions:t,allowedEvents:r}){return new n({controllerMessenger:this,name:e,allowedActions:t,allowedEvents:r})}}},{file:"/home/circleci/project/node_modules/@metamask/controllers/dist/ControllerMessenger.js"}],[949,{"./BaseController":947},function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ComposableController=void 0;const n=e("./BaseController");class i extends n.BaseController{constructor(e,t){super(void 0,e.reduce(((e,t)=>(e[t.name]=t.state,e)),{})),this.controllers=[],this.name="ComposableController",this.initialize(),this.controllers=e,this.messagingSystem=t,this.controllers.forEach((e=>{const{name:t}=e;if(void 0!==e.subscribe)e.subscribe((e=>{this.update({[t]:e})}));else{if(!this.messagingSystem)throw new Error("Messaging system required if any BaseControllerV2 controllers are used");this.messagingSystem.subscribe(`${t}:stateChange`,(e=>{this.update({[t]:e})}))}}))}get flatState(){let e={};for(const t of this.controllers)e=Object.assign(Object.assign({},e),t.state);return e}}r.ComposableController=i,r.default=i},{file:"/home/circleci/project/node_modules/@metamask/controllers/dist/ComposableController.js"}],[977,{"../BaseController":947,"../util":979},function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AddressBookController=void 0;const n=e("../util"),i=e("../BaseController");class s extends i.BaseController{constructor(e,t){super(e,t),this.name="AddressBookController",this.defaultState={addressBook:{}},this.initialize()}clear(){this.update({addressBook:{}})}delete(e,t){if(t=n.toChecksumHexAddress(t),!n.isValidHexAddress(t)||!this.state.addressBook[e]||!this.state.addressBook[e][t])return!1;const r=Object.assign({},this.state.addressBook);return delete r[e][t],0===Object.keys(r[e]).length&&delete r[e],this.update({addressBook:r}),!0}set(e,t,r="1",i=""){if(e=n.toChecksumHexAddress(e),!n.isValidHexAddress(e))return!1;const s={address:e,chainId:r,isEns:!1,memo:i,name:t},o=n.normalizeEnsName(t);return o&&(s.name=o,s.isEns=!0),this.update({addressBook:Object.assign(Object.assign({},this.state.addressBook),{[r]:Object.assign(Object.assign({},this.state.addressBook[r]),{[e]:s})})}),!0}}r.AddressBookController=s,r.default=s},{file:"/home/circleci/project/node_modules/@metamask/controllers/dist/user/AddressBookController.js"}],[956,{"../BaseController":947,"../constants":964,"../util":979},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.AssetsDetectionController=void 0;const i=e("../BaseController"),s=e("../util"),o=e("../constants");class a extends i.BaseController{constructor({onTokensStateChange:e,onPreferencesStateChange:t,onNetworkStateChange:r,getOpenSeaApiKey:n,getBalancesInSingleCall:i,addTokens:s,addCollectible:a,getCollectiblesState:c,getTokenListState:u,getTokensState:l},d,f){super(d,f),this.name="AssetsDetectionController",this.defaultConfig={interval:18e4,networkType:o.MAINNET,selectedAddress:"",tokens:[]},this.initialize(),this.getCollectiblesState=c,this.getTokensState=l,this.getTokenListState=u,this.addTokens=s,e((({tokens:e})=>{this.configure({tokens:e})})),t((({selectedAddress:e})=>{e!==this.config.selectedAddress&&(this.configure({selectedAddress:e}),this.detectAssets())})),r((({provider:e})=>{this.configure({networkType:e.type})})),this.getOpenSeaApiKey=n,this.getBalancesInSingleCall=i,this.addCollectible=a,this.poll()}getOwnerCollectiblesApi(e,t){return`https://api.opensea.io/api/v1/assets?owner=${e}&offset=${t}&limit=50`}getOwnerCollectibles(){var e;return n(this,void 0,void 0,(function*(){const{selectedAddress:t}=this.config;let r,n=[];const i=this.getOpenSeaApiKey();try{let o=0,a=!1;do{const c=this.getOwnerCollectiblesApi(t,o);r=yield s.timeoutFetch(c,i?{headers:{"X-API-KEY":i}}:{},15e3);const u=yield r.json();0!==(null===(e=u.assets)||void 0===e?void 0:e.length)?n=[...n,...u.assets]:a=!0,o+=50}while(!a)}catch(e){return[]}return n}))}poll(e){return n(this,void 0,void 0,(function*(){e&&this.configure({interval:e},!1,!1),this.handle&&clearTimeout(this.handle),yield this.detectAssets(),this.handle=setTimeout((()=>{this.poll(this.config.interval)}),this.config.interval)}))}isMainnet(){return this.config.networkType===o.MAINNET&&!this.disabled}detectAssets(){return n(this,void 0,void 0,(function*(){this.isMainnet()&&(this.detectTokens(),this.detectCollectibles())}))}detectTokens(){return n(this,void 0,void 0,(function*(){if(!this.isMainnet())return;const e=this.config.tokens.map((e=>e.address.toLowerCase())),{tokenList:t}=this.getTokenListState(),r=[];for(const n in t)e.includes(n)||r.push(n);const i=[];i[0]=r.slice(0,1e3),i[1]=r.slice(1e3,r.length-1);const{selectedAddress:o}=this.config;if(o)for(const e of i){if(0===e.length)break;yield s.safelyExecute((()=>n(this,void 0,void 0,(function*(){const r=yield this.getBalancesInSingleCall(o,e),n=[];for(const e in r){let r;const{ignoredTokens:i}=this.getTokensState();i.length&&(r=i.find((t=>t===s.toChecksumHexAddress(e))));const o=Object.keys(t).find((t=>t.toLowerCase()===e.toLowerCase()))||"";void 0===r&&n.push({address:e,decimals:t[o].decimals,symbol:t[o].symbol})}n.length&&(yield this.addTokens(n))}))))}}))}detectCollectibles(){return n(this,void 0,void 0,(function*(){if(!this.isMainnet())return;const e=this.config.selectedAddress;e&&(yield s.safelyExecute((()=>n(this,void 0,void 0,(function*(){const t=(yield this.getOwnerCollectibles()).map((t=>n(this,void 0,void 0,(function*(){const{token_id:r,num_sales:n,background_color:i,image_url:o,image_preview_url:a,image_thumbnail_url:c,image_original_url:u,animation_url:l,animation_original_url:d,name:f,description:h,external_link:p,creator:m,asset_contract:{address:g},last_sale:y}=t;let v;const{ignoredCollectibles:b}=this.getCollectiblesState();if(b.length&&(v=b.find((e=>e.address===s.toChecksumHexAddress(g)&&e.tokenId===Number(r)))),!v&&e===this.config.selectedAddress){const e=Object.assign({},{name:f},m&&{creator:m},h&&{description:h},o&&{image:o},n&&{numberOfSales:n},i&&{backgroundColor:i},a&&{imagePreview:a},c&&{imageThumbnail:c},u&&{imageOriginal:u},l&&{animation:l},d&&{animationOriginal:d},p&&{externalLink:p},y&&{lastSale:y});yield this.addCollectible(g,Number(r),e,!0)}}))));yield Promise.all(t)})))))}))}}r.AssetsDetectionController=a,r.default=a},{file:"/home/circleci/project/node_modules/@metamask/controllers/dist/assets/AssetsDetectionController.js"}],[978,{"../BaseController":947,"../util":979},function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PreferencesController=void 0;const n=e("../BaseController"),i=e("../util");class s extends n.BaseController{constructor(e,t){super(e,t),this.name="PreferencesController",this.defaultState={featureFlags:{},frequentRpcList:[],identities:{},ipfsGateway:"https://ipfs.io/ipfs/",lostIdentities:{},selectedAddress:"",useStaticTokenList:!1},this.initialize()}addIdentities(e){const{identities:t}=this.state;e.forEach((e=>{if(e=i.toChecksumHexAddress(e),t[e])return;const r=Object.keys(t).length;t[e]={name:`Account ${r+1}`,address:e,importTime:Date.now()}})),this.update({identities:Object.assign({},t)})}removeIdentity(e){e=i.toChecksumHexAddress(e);const{identities:t}=this.state;t[e]&&(delete t[e],this.update({identities:Object.assign({},t)}),e===this.state.selectedAddress&&this.update({selectedAddress:Object.keys(t)[0]}))}setAccountLabel(e,t){e=i.toChecksumHexAddress(e);const{identities:r}=this.state;r[e]=r[e]||{},r[e].name=t,this.update({identities:Object.assign({},r)})}setFeatureFlag(e,t){const r=this.state.featureFlags,n=Object.assign(Object.assign({},r),{[e]:t});this.update({featureFlags:Object.assign({},n)})}syncIdentities(e){e=e.map((e=>i.toChecksumHexAddress(e)));const{identities:t,lostIdentities:r}=this.state,n={};for(const r in t)-1===e.indexOf(r)&&(n[r]=t[r],delete t[r]);if(Object.keys(n).length>0)for(const e in n)r[e]=n[e];return this.update({identities:Object.assign({},t),lostIdentities:Object.assign({},r)}),this.addIdentities(e),-1===e.indexOf(this.state.selectedAddress)&&this.update({selectedAddress:e[0]}),this.state.selectedAddress}updateIdentities(e){e=e.map((e=>i.toChecksumHexAddress(e)));const t=this.state.identities,r=e.reduce(((e,r,n)=>(e[r]=t[r]||{address:r,name:`Account ${n+1}`,importTime:Date.now()},e)),{});let{selectedAddress:n}=this.state;Object.keys(r).includes(n)||(n=Object.keys(r)[0]),this.update({identities:Object.assign({},r),selectedAddress:n})}addToFrequentRpcList(e,t,r,n,i){const{frequentRpcList:s}=this.state,o=s.findIndex((({rpcUrl:t})=>t===e));-1!==o&&s.splice(o,1);const a={rpcUrl:e,chainId:t,ticker:r,nickname:n,rpcPrefs:i};s.push(a),this.update({frequentRpcList:[...s]})}removeFromFrequentRpcList(e){const{frequentRpcList:t}=this.state,r=t.findIndex((({rpcUrl:t})=>t===e));-1!==r&&t.splice(r,1),this.update({frequentRpcList:[...t]})}setSelectedAddress(e){this.update({selectedAddress:i.toChecksumHexAddress(e)})}setIpfsGateway(e){this.update({ipfsGateway:e})}setUseStaticTokenList(e){this.update({useStaticTokenList:e})}}r.PreferencesController=s,r.default=s},{file:"/home/circleci/project/node_modules/@metamask/controllers/dist/user/PreferencesController.js"}],[961,{"../BaseController":947,"../util":979},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.TokenRatesController=void 0;const i=e("../BaseController"),s=e("../util"),o={BASE_URL:"https://api.coingecko.com/api/v3",getTokenPriceURL(e,t){return`${this.BASE_URL}/simple/token_price/${e}?${t}`},getPlatformsURL(){return`${this.BASE_URL}/asset_platforms`}};function a(e,t){var r;if(!t)return null;const n=null!==(r=t.find((({chain_identifier:t})=>null!==t&&String(t)===e)))&&void 0!==r?r:null;return(null==n?void 0:n.id)||null}class c extends i.BaseController{constructor({onTokensStateChange:e,onCurrencyRateStateChange:t,onNetworkStateChange:r},n,i){super(n,i),this.tokenList=[],this.name="TokenRatesController",this.defaultConfig={disabled:!0,interval:18e4,nativeCurrency:"eth",chainId:"",tokens:[],threshold:216e5},this.defaultState={contractExchangeRates:{},supportedChains:{timestamp:0,data:null}},this.initialize(),this.configure({disabled:!1},!1,!1),e((e=>{this.configure({tokens:e.tokens})})),t((e=>{this.configure({nativeCurrency:e.nativeCurrency})})),r((({provider:e})=>{const{chainId:t}=e;this.configure({chainId:t})})),this.poll()}poll(e){return n(this,void 0,void 0,(function*(){e&&this.configure({interval:e},!1,!1),this.handle&&clearTimeout(this.handle),yield s.safelyExecute((()=>this.updateExchangeRates())),this.handle=setTimeout((()=>{this.poll(this.config.interval)}),this.config.interval)}))}set chainId(e){!this.disabled&&s.safelyExecute((()=>this.updateExchangeRates()))}get chainId(){throw new Error("Property only used for setting")}set tokens(e){this.tokenList=e,!this.disabled&&s.safelyExecute((()=>this.updateExchangeRates()))}get tokens(){throw new Error("Property only used for setting")}fetchSupportedChains(){return n(this,void 0,void 0,(function*(){try{return yield s.handleFetch(o.getPlatformsURL())}catch(e){return null}}))}fetchExchangeRate(e,t){return n(this,void 0,void 0,(function*(){return s.handleFetch(o.getTokenPriceURL(e,t))}))}getChainSlug(){return n(this,void 0,void 0,(function*(){const{threshold:e,chainId:t}=this.config,{supportedChains:r}=this.state,{data:n,timestamp:i}=r;if(Date.now()-i>e)try{const e=yield this.fetchSupportedChains();return this.update({supportedChains:{data:e,timestamp:Date.now()}}),a(t,e)}catch(e){return a(t,n)}return a(t,n)}))}updateExchangeRates(){return n(this,void 0,void 0,(function*(){if(0===this.tokenList.length||this.disabled)return;const{nativeCurrency:e}=this.config,t=yield this.getChainSlug(),r={};if(t){const n=`contract_addresses=${this.tokenList.map((e=>e.address)).join(",")}&vs_currencies=${e.toLowerCase()}`,i=yield this.fetchExchangeRate(t,n);this.tokenList.forEach((t=>{const n=s.toChecksumHexAddress(t.address),o=i[t.address.toLowerCase()];r[n]=o?o[e.toLowerCase()]:0}))}else this.tokenList.forEach((e=>{const t=s.toChecksumHexAddress(e.address);r[t]=void 0}));this.update({contractExchangeRates:r})}))}}r.TokenRatesController=c,r.default=c},{file:"/home/circleci/project/node_modules/@metamask/controllers/dist/assets/TokenRatesController.js"}],[974,{"../BaseController":947},function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.NotificationController=void 0;const n=e("../BaseController"),i={notifications:{}};class s extends n.BaseController{constructor(e,t){super(e,t||i),this.initialize(),this._addNotifications()}_addNotifications(){const e={},{allNotifications:t}=this.config;Object.values(t).forEach((t=>{e[t.id]=this.state.notifications[t.id]?this.state.notifications[t.id]:Object.assign(Object.assign({},t),{isShown:!1})})),this.update({notifications:e})}updateViewed(e){const t=this.state.notifications;for(const r of Object.keys(e).map(Number))t[r].isShown=e[r];this.update({notifications:t},!0)}}r.NotificationController=s},{file:"/home/circleci/project/node_modules/@metamask/controllers/dist/notification/NotificationController.js"}],[971,{"../util":979,"./AbstractMessageManager":969,uuid:1166},function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PersonalMessageManager=void 0;const n=e("uuid"),i=e("../util"),s=e("./AbstractMessageManager");class o extends s.AbstractMessageManager{constructor(){super(...arguments),this.name="PersonalMessageManager"}addUnapprovedMessageAsync(e,t){return new Promise(((r,n)=>{i.validateSignMessageData(e);const s=this.addUnapprovedMessage(e,t);this.hub.once(`${s}:finished`,(t=>{switch(t.status){case"signed":return r(t.rawSig);case"rejected":return n(new Error("MetaMask Personal Message Signature: User denied message signature."));default:return n(new Error(`MetaMask Personal Message Signature: Unknown problem: ${JSON.stringify(e)}`))}}))}))}addUnapprovedMessage(e,t){t&&(e.origin=t.origin),e.data=i.normalizeMessageData(e.data);const r=n.v1(),s={id:r,messageParams:e,status:"unapproved",time:Date.now(),type:"personal_sign"};return this.addMessage(s),this.hub.emit("unapprovedMessage",Object.assign(Object.assign({},e),{metamaskId:r})),r}prepMessageForSigning(e){return delete e.metamaskId,Promise.resolve(e)}}r.PersonalMessageManager=o,r.default=o},{file:"/home/circleci/project/node_modules/@metamask/controllers/dist/message-manager/PersonalMessageManager.js"}],[972,{"../util":979,"./AbstractMessageManager":969,uuid:1166},function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.TypedMessageManager=void 0;const n=e("uuid"),i=e("../util"),s=e("./AbstractMessageManager");class o extends s.AbstractMessageManager{constructor(){super(...arguments),this.name="TypedMessageManager"}addUnapprovedMessageAsync(e,t,r){return new Promise(((n,s)=>{"V1"===t&&i.validateTypedSignMessageDataV1(e),"V3"===t&&i.validateTypedSignMessageDataV3(e);const o=this.addUnapprovedMessage(e,t,r);this.hub.once(`${o}:finished`,(t=>{switch(t.status){case"signed":return n(t.rawSig);case"rejected":return s(new Error("MetaMask Typed Message Signature: User denied message signature."));case"errored":return s(new Error(`MetaMask Typed Message Signature: ${t.error}`));default:return s(new Error(`MetaMask Typed Message Signature: Unknown problem: ${JSON.stringify(e)}`))}}))}))}addUnapprovedMessage(e,t,r){const i=n.v1(),s=Object.assign(Object.assign({},e),{metamaskId:i,version:t});r&&(e.origin=r.origin);const o={id:i,messageParams:e,status:"unapproved",time:Date.now(),type:"eth_signTypedData"};return this.addMessage(o),this.hub.emit("unapprovedMessage",s),i}setMessageStatusErrored(e,t){const r=this.getMessage(e);r&&(r.error=t,this.updateMessage(r),this.setMessageStatus(e,"errored"))}prepMessageForSigning(e){return delete e.metamaskId,delete e.version,Promise.resolve(e)}}r.TypedMessageManager=o,r.default=o},{file:"/home/circleci/project/node_modules/@metamask/controllers/dist/message-manager/TypedMessageManager.js"}],[979,{"./constants":964,buffer:1713,"eth-ens-namehash":1952,"eth-rpc-errors":2056,"eth-sig-util":2058,"ethereumjs-util":2139,"ethjs-unit":2189,"ethjs-util":2191,jsonschema:2620},function(e,t,r){(function(t){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.validateMinimumIncrease=r.isGasPriceValue=r.isFeeMarketEIP1559Values=r.validateGasValues=r.getIncreasedPriceFromExisting=r.getIncreasedPriceHex=r.convertPriceToDecimal=r.isEIP1559Transaction=r.query=r.normalizeEnsName=r.timeoutFetch=r.handleFetch=r.successfulFetch=r.isSmartContractCode=r.validateTokenToWatch=r.validateTypedSignMessageDataV3=r.validateTypedSignMessageDataV1=r.validateSignMessageData=r.normalizeMessageData=r.validateTransaction=r.isValidHexAddress=r.toChecksumHexAddress=r.safelyExecuteWithTimeout=r.safelyExecute=r.normalizeTransaction=r.hexToText=r.hexToBN=r.handleTransactionFetch=r.getEtherscanApiUrl=r.getBuyURL=r.weiHexToGweiDec=r.gweiDecToWEIBN=r.fractionBN=r.BNToHex=void 0;const s=e("ethereumjs-util"),o=e("ethjs-util"),a=e("ethjs-unit"),c=e("eth-rpc-errors"),u=i(e("eth-ens-namehash")),l=e("eth-sig-util"),d=e("jsonschema"),f=e("./constants"),h=/^[0-9A-Fa-f]+$/gu,p={data:e=>s.addHexPrefix(e),from:e=>s.addHexPrefix(e).toLowerCase(),gas:e=>s.addHexPrefix(e),gasPrice:e=>s.addHexPrefix(e),nonce:e=>s.addHexPrefix(e),to:e=>s.addHexPrefix(e).toLowerCase(),value:e=>s.addHexPrefix(e),maxFeePerGas:e=>s.addHexPrefix(e),maxPriorityFeePerGas:e=>s.addHexPrefix(e),estimatedBaseFee:e=>s.addHexPrefix(e)};function m(e,t){let r="api";e!==f.MAINNET&&(r=`api-${e}`);let n=`${`https://${r}.etherscan.io`}/api?`;for(const e in t)t[e]&&(n+=`${e}=${t[e]}&`);return n+="tag=latest&page=1",n}function g(e,{allowNonPrefixed:t=!0}={}){const r=t?s.addHexPrefix(e):e;return!!s.isHexString(r)&&s.isValidAddress(r)}function y(e,t){return n(this,void 0,void 0,(function*(){const r=yield fetch(e,t);if(!r.ok)throw new Error(`Fetch failed with status '${r.status}' for request '${e}'`);return r}))}function v(e,t){return n(this,void 0,void 0,(function*(){const r=yield y(e,t);return yield r.json()}))}r.BNToHex=function(e){return s.addHexPrefix(e.toString(16))},r.fractionBN=function(e,t,r){const n=new s.BN(t),i=new s.BN(r);return e.mul(n).div(i)},r.gweiDecToWEIBN=function(e){if(Number.isNaN(e))return new s.BN(0);const t=e.toString().split("."),r=t[0]||"0";let n=t[1]||"";if(!n)return a.toWei(r,"gwei");if(n.length<=9)return a.toWei(`${r}.${n}`,"gwei");const i=n.slice(9)[0];n=n.slice(0,9);let o=a.toWei(`${r}.${n}`,"gwei");return Number(i)>=5&&(o=o.add(new s.BN(1))),o},r.weiHexToGweiDec=function(e){const t=new s.BN(o.stripHexPrefix(e),16);return a.fromWei(t,"gwei").toString(10)},r.getBuyURL=function(e="1",t,r=5){switch(e){case"1":return`https://buy.coinbase.com/?code=9ec56d01-7e81-5017-930c-513daa27bb6a&amount=${r}&address=${t}&crypto_currency=ETH`;case"3":return"https://faucet.metamask.io/";case"4":return"https://www.rinkeby.io/";case"5":return"https://goerli-faucet.slock.it/";case"42":return"https://github.com/kovan-testnet/faucet";default:return}},r.getEtherscanApiUrl=m,r.handleTransactionFetch=function(e,t,r,i){return n(this,void 0,void 0,(function*(){const n={module:"account",address:t,startBlock:null==i?void 0:i.fromBlock,apikey:null==i?void 0:i.etherscanApiKey,offset:r.toString(),order:"desc"},s=v(m(e,Object.assign(Object.assign({},n),{action:"txlist"}))),o=v(m(e,Object.assign(Object.assign({},n),{action:"tokentx"})));let[a,c]=yield Promise.all([s,o]);return("0"===a.status||a.result.length<=0)&&(a={status:a.status,result:[]}),("0"===c.status||c.result.length<=0)&&(c={status:c.status,result:[]}),[a,c]}))},r.hexToBN=function(e){return new s.BN(o.stripHexPrefix(e),16)},r.hexToText=function(e){try{const r=o.stripHexPrefix(e);return t.from(r,"hex").toString("utf8")}catch(t){return e}},r.normalizeTransaction=function(e){const t={from:""};let r;for(r in p)e[r]&&(t[r]=p[r](e[r]));return t},r.safelyExecute=function(e,t=!1,r){return n(this,void 0,void 0,(function*(){try{return yield e()}catch(e){return t&&console.error(e),void(null==r||r(e))}}))},r.safelyExecuteWithTimeout=function(e,t=!1,r=500){return n(this,void 0,void 0,(function*(){try{return yield Promise.race([e(),new Promise(((e,t)=>setTimeout((()=>{t(new Error("timeout"))}),r)))])}catch(e){return void(t&&console.error(e))}}))},r.toChecksumHexAddress=function(e){const t=s.addHexPrefix(e);return s.isHexString(t)?s.toChecksumAddress(t):t},r.isValidHexAddress=g,r.validateTransaction=function(e){if(!e.from||"string"!=typeof e.from||!g(e.from))throw new Error(`Invalid "from" address: ${e.from} must be a valid string.`);if("0x"===e.to||void 0===e.to){if(!e.data)throw new Error(`Invalid "to" address: ${e.to} must be a valid string.`);delete e.to}else if(void 0!==e.to&&!g(e.to))throw new Error(`Invalid "to" address: ${e.to} must be a valid string.`);if(void 0!==e.value){const t=e.value.toString();if(t.includes("-"))throw new Error(`Invalid "value": ${t} is not a positive number.`);if(t.includes("."))throw new Error(`Invalid "value": ${t} number must be denominated in wei.`);const r=parseInt(e.value,10);if(!(Number.isFinite(r)&&!Number.isNaN(r)&&!isNaN(Number(t))&&Number.isSafeInteger(r)))throw new Error(`Invalid "value": ${t} number must be a valid number.`)}},r.normalizeMessageData=function(e){try{const t=o.stripHexPrefix(e);if(t.match(h))return s.addHexPrefix(t)}catch(e){}return s.bufferToHex(t.from(e,"utf8"))},r.validateSignMessageData=function(e){const{from:t,data:r}=e;if(!t||"string"!=typeof t||!g(t))throw new Error(`Invalid "from" address: ${t} must be a valid string.`);if(!r||"string"!=typeof r)throw new Error(`Invalid message "data": ${r} must be a valid string.`)},r.validateTypedSignMessageDataV1=function(e){if(!e.from||"string"!=typeof e.from||!g(e.from))throw new Error(`Invalid "from" address: ${e.from} must be a valid string.`);if(!e.data||!Array.isArray(e.data))throw new Error(`Invalid message "data": ${e.data} must be a valid array.`);try{l.typedSignatureHash(e.data)}catch(e){throw new Error("Expected EIP712 typed data.")}},r.validateTypedSignMessageDataV3=function(e){if(!e.from||"string"!=typeof e.from||!g(e.from))throw new Error(`Invalid "from" address: ${e.from} must be a valid string.`);if(!e.data||"string"!=typeof e.data)throw new Error(`Invalid message "data": ${e.data} must be a valid array.`);let t;try{t=JSON.parse(e.data)}catch(e){throw new Error("Data must be passed as a valid JSON string.")}if(d.validate(t,l.TYPED_MESSAGE_SCHEMA).errors.length>0)throw new Error("Data must conform to EIP-712 schema. See https://git.io/fNtcx.")},r.validateTokenToWatch=function(e){const{address:t,symbol:r,decimals:n}=e;if(!t||!r||void 0===n)throw c.ethErrors.rpc.invalidParams("Must specify address, symbol, and decimals.");if("string"!=typeof r)throw c.ethErrors.rpc.invalidParams("Invalid symbol: not a string.");if(r.length>11)throw c.ethErrors.rpc.invalidParams(`Invalid symbol "${r}": longer than 11 characters.`);const i=parseInt(n,10);if(isNaN(i)||i>36||i<0)throw c.ethErrors.rpc.invalidParams(`Invalid decimals "${n}": must be 0 <= 36.`);if(!g(t))throw c.ethErrors.rpc.invalidParams(`Invalid address "${t}".`)},r.isSmartContractCode=function(e){return!!e&&("0x"!==e&&"0x0"!==e)},r.successfulFetch=y,r.handleFetch=v,r.timeoutFetch=function(e,t,r=500){return n(this,void 0,void 0,(function*(){return Promise.race([y(e,t),new Promise(((e,t)=>setTimeout((()=>{t(new Error("timeout"))}),r)))])}))},r.normalizeEnsName=function(e){if(e&&"string"==typeof e)try{const t=u.default.normalize(e.trim());if(t.match(/^(([\w\d-]+)\.)*[\w\d-]{7,}\.(eth|test)$/u))return t}catch(e){}return null},r.query=function(e,t,r=[]){return new Promise(((n,i)=>{e[t](...r,((e,t)=>{e?i(e):n(t)}))}))};r.isEIP1559Transaction=e=>{const t=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);return t(e,"maxFeePerGas")&&t(e,"maxPriorityFeePerGas")};r.convertPriceToDecimal=e=>parseInt(void 0===e?"0x0":e,16);r.getIncreasedPriceHex=(e,t)=>s.addHexPrefix(`${parseInt(""+e*t,10).toString(16)}`);r.getIncreasedPriceFromExisting=(e,t)=>r.getIncreasedPriceHex(r.convertPriceToDecimal(e),t);r.validateGasValues=e=>{Object.keys(e).forEach((t=>{const r=e[t];if("string"!=typeof r||!s.isHexString(r))throw new TypeError(`expected hex string for ${t} but received: ${r}`)}))};r.isFeeMarketEIP1559Values=e=>{var t,r;return void 0!==(null===(t=e)||void 0===t?void 0:t.maxFeePerGas)||void 0!==(null===(r=e)||void 0===r?void 0:r.maxPriorityFeePerGas)};r.isGasPriceValue=e=>{var t;return void 0!==(null===(t=e)||void 0===t?void 0:t.gasPrice)},r.validateMinimumIncrease=function(e,t){const n=r.convertPriceToDecimal(e),i=r.convertPriceToDecimal(t);if(n>=i)return e;throw new Error(`The proposed value: ${n} should meet or exceed the minimum value: ${i}`)}}).call(this,e("buffer").Buffer)},{file:"/home/circleci/project/node_modules/@metamask/controllers/dist/util.js"}],[948,{immer:1156},function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getPersistentState=r.getAnonymizedState=r.BaseController=void 0;const n=e("immer");n.enablePatches();function i(e,t,r){return Object.keys(e).reduce(((n,i)=>{const s=t[i][r],o=e[i];return"function"==typeof s?n[i]=s(o):s&&(n[i]=o),n}),{})}r.BaseController=class{constructor({messenger:e,metadata:t,name:r,state:n}){this.messagingSystem=e,this.name=r,this.internalState=n,this.metadata=t,this.messagingSystem.registerActionHandler(`${r}:getState`,(()=>this.state))}get state(){return this.internalState}set state(e){throw new Error("Controller state cannot be directly mutated; use 'update' method instead.")}update(e){const[t,r]=n.produceWithPatches(this.internalState,e);this.internalState=t,this.messagingSystem.publish(`${this.name}:stateChange`,t,r)}destroy(){this.messagingSystem.clearEventSubscriptions(`${this.name}:stateChange`)}},r.getAnonymizedState=function(e,t){return i(e,t,"anonymous")},r.getPersistentState=function(e,t){return i(e,t,"persist")}},{file:"/home/circleci/project/node_modules/@metamask/controllers/dist/BaseControllerV2.js"}],[955,{"../BaseController":947,"human-standard-collectible-abi":2260,"human-standard-token-abi":2261,"single-call-balance-checker-abi":3673,web3:3846},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.AssetsContractController=void 0;const s=i(e("web3")),o=i(e("human-standard-token-abi")),a=i(e("human-standard-collectible-abi")),c=i(e("single-call-balance-checker-abi")),u=e("../BaseController");class l extends u.BaseController{constructor(e,t){super(e,t),this.name="AssetsContractController",this.defaultConfig={provider:void 0},this.initialize()}contractSupportsInterface(e,t){return n(this,void 0,void 0,(function*(){const r=this.web3.eth.contract(a.default).at(e);return new Promise(((e,n)=>{r.supportsInterface(t,((t,r)=>{t?n(t):e(r)}))}))}))}set provider(e){this.web3=new s.default(e)}get provider(){throw new Error("Property only used for setting")}contractSupportsMetadataInterface(e){return n(this,void 0,void 0,(function*(){return this.contractSupportsInterface(e,"0x5b5e139f")}))}contractSupportsEnumerableInterface(e){return n(this,void 0,void 0,(function*(){return this.contractSupportsInterface(e,"0x780e9d63")}))}getBalanceOf(e,t){return n(this,void 0,void 0,(function*(){const r=this.web3.eth.contract(o.default).at(e);return new Promise(((e,n)=>{r.balanceOf(t,((t,r)=>{t?n(t):e(r)}))}))}))}getCollectibleTokenId(e,t,r){const n=this.web3.eth.contract(a.default).at(e);return new Promise(((e,i)=>{n.tokenOfOwnerByIndex(t,r,((t,r)=>{t?i(t):e(r.toNumber())}))}))}getCollectibleTokenURI(e,t){return n(this,void 0,void 0,(function*(){if(!(yield this.contractSupportsMetadataInterface(e)))return"";const r=this.web3.eth.contract(a.default).at(e);return new Promise(((e,n)=>{r.tokenURI(t,((t,r)=>{t?n(t):e(r)}))}))}))}getTokenDecimals(e){return n(this,void 0,void 0,(function*(){const t=this.web3.eth.contract(o.default).at(e);return new Promise(((e,r)=>{t.decimals(((t,n)=>{t?r(t):e(n)}))}))}))}getAssetName(e){return n(this,void 0,void 0,(function*(){const t=this.web3.eth.contract(a.default).at(e);return new Promise(((e,r)=>{t.name(((t,n)=>{t?r(t):e(n)}))}))}))}getAssetSymbol(e){return n(this,void 0,void 0,(function*(){const t=this.web3.eth.contract(a.default).at(e);return new Promise(((e,r)=>{t.symbol(((t,n)=>{t?r(t):e(n)}))}))}))}getOwnerOf(e,t){return n(this,void 0,void 0,(function*(){const r=this.web3.eth.contract(a.default).at(e);return new Promise(((e,n)=>{r.ownerOf(t,((t,r)=>{t?n(t):e(r)}))}))}))}getBalancesInSingleCall(e,t){return n(this,void 0,void 0,(function*(){const r=this.web3.eth.contract(c.default).at("0xb1f8e55c7f64d203c1400b9d8555d050f94adf39");return new Promise(((n,i)=>{r.balances([e],t,((e,r)=>{if(e)return void i(e);const s={};r.length>0&&t.forEach(((e,t)=>{const n=r[t];n.isZero()||(s[e]=n)})),n(s)}))}))}))}}r.AssetsContractController=l,r.default=l},{file:"/home/circleci/project/node_modules/@metamask/controllers/dist/assets/AssetsContractController.js"}],[958,{"../BaseControllerV2":948,"../apis/crypto-compare":951,"../util":979,"async-mutex":1406},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.CurrencyRateController=void 0;const i=e("async-mutex"),s=e("../BaseControllerV2"),o=e("../util"),a=e("../apis/crypto-compare"),c={conversionDate:{persist:!0,anonymous:!0},conversionRate:{persist:!0,anonymous:!0},currentCurrency:{persist:!0,anonymous:!0},nativeCurrency:{persist:!0,anonymous:!0},pendingCurrentCurrency:{persist:!1,anonymous:!0},pendingNativeCurrency:{persist:!1,anonymous:!0},usdConversionRate:{persist:!0,anonymous:!0}},u={conversionDate:0,conversionRate:0,currentCurrency:"usd",nativeCurrency:"ETH",pendingCurrentCurrency:null,pendingNativeCurrency:null,usdConversionRate:null};class l extends s.BaseController{constructor({includeUsdRate:e=!1,interval:t=18e4,messenger:r,state:n,fetchExchangeRate:s=a.fetchExchangeRate}){super({name:"CurrencyRateController",metadata:c,messenger:r,state:Object.assign(Object.assign({},u),n)}),this.mutex=new i.Mutex,this.includeUsdRate=e,this.intervalDelay=t,this.fetchExchangeRate=s}start(){return n(this,void 0,void 0,(function*(){yield this.startPolling()}))}stop(){this.stopPolling()}destroy(){super.destroy(),this.stopPolling()}setCurrentCurrency(e){return n(this,void 0,void 0,(function*(){this.update((t=>{t.pendingCurrentCurrency=e})),yield this.updateExchangeRate()}))}setNativeCurrency(e){return n(this,void 0,void 0,(function*(){this.update((t=>{t.pendingNativeCurrency=e})),yield this.updateExchangeRate()}))}stopPolling(){this.intervalId&&clearInterval(this.intervalId)}startPolling(){return n(this,void 0,void 0,(function*(){this.stopPolling(),yield o.safelyExecute((()=>this.updateExchangeRate())),this.intervalId=setInterval((()=>n(this,void 0,void 0,(function*(){yield o.safelyExecute((()=>this.updateExchangeRate()))}))),this.intervalDelay)}))}updateExchangeRate(){return n(this,void 0,void 0,(function*(){const e=yield this.mutex.acquire(),{currentCurrency:t,nativeCurrency:r,pendingCurrentCurrency:n,pendingNativeCurrency:i}=this.state,s=Date.now()/1e3;let o=null,a=null;const c=null!=n?n:t,u=null!=i?i:r;try{c&&u&&""!==c&&""!==u&&({conversionRate:o,usdConversionRate:a}=yield this.fetchExchangeRate(c,u,this.includeUsdRate))}catch(e){if(!e.message.includes("market does not exist for this coin pair"))throw e}finally{try{this.update((()=>({conversionDate:s,conversionRate:o,nativeCurrency:u,currentCurrency:c,pendingCurrentCurrency:null,pendingNativeCurrency:null,usdConversionRate:a})))}finally{e()}}return this.state}))}}r.CurrencyRateController=l,r.default=l},{file:"/home/circleci/project/node_modules/@metamask/controllers/dist/assets/CurrencyRateController.js"}],[959,{"../BaseController":947,"../util":979,"ethereumjs-util":2139},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.TokenBalancesController=r.BN=void 0;const i=e("ethereumjs-util");Object.defineProperty(r,"BN",{enumerable:!0,get:function(){return i.BN}});const s=e("../BaseController"),o=e("../util");class a extends s.BaseController{constructor({onTokensStateChange:e,getSelectedAddress:t,getBalanceOf:r},n,i){super(n,i),this.name="TokenBalancesController",this.defaultConfig={interval:18e4,tokens:[]},this.defaultState={contractBalances:{}},this.initialize(),e((({tokens:e})=>{this.configure({tokens:e}),this.updateBalances()})),this.getSelectedAddress=t,this.getBalanceOf=r,this.poll()}poll(e){return n(this,void 0,void 0,(function*(){e&&this.configure({interval:e},!1,!1),this.handle&&clearTimeout(this.handle),yield o.safelyExecute((()=>this.updateBalances())),this.handle=setTimeout((()=>{this.poll(this.config.interval)}),this.config.interval)}))}updateBalances(){return n(this,void 0,void 0,(function*(){if(this.disabled)return;const{tokens:e}=this.config,t={};for(const r in e){const{address:n}=e[r];try{t[n]=yield this.getBalanceOf(n,this.getSelectedAddress()),e[r].balanceError=null}catch(s){t[n]=new i.BN(0),e[r].balanceError=s}}this.update({contractBalances:t})}))}}r.TokenBalancesController=a,r.default=a},{file:"/home/circleci/project/node_modules/@metamask/controllers/dist/assets/TokenBalancesController.js"}],[957,{"../BaseController":947,"../constants":964,"../util":979,"./assetsUtil":963,"async-mutex":1406,events:1714},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.CollectiblesController=void 0;const i=e("events"),s=e("async-mutex"),o=e("../BaseController"),a=e("../util"),c=e("../constants"),u=e("./assetsUtil");class l extends o.BaseController{constructor({onPreferencesStateChange:e,onNetworkStateChange:t,getAssetName:r,getAssetSymbol:n,getCollectibleTokenURI:o},a,u){super(a,u),this.mutex=new s.Mutex,this.hub=new i.EventEmitter,this.name="CollectiblesController",this.defaultConfig={networkType:c.MAINNET,selectedAddress:"",chainId:""},this.defaultState={allCollectibleContracts:{},allCollectibles:{},collectibleContracts:[],collectibles:[],ignoredCollectibles:[]},this.initialize(),this.getAssetName=r,this.getAssetSymbol=n,this.getCollectibleTokenURI=o,e((({selectedAddress:e})=>{var t,r;const{allCollectibleContracts:n,allCollectibles:i}=this.state,{chainId:s}=this.config;this.configure({selectedAddress:e}),this.update({collectibleContracts:(null===(t=n[e])||void 0===t?void 0:t[s])||[],collectibles:(null===(r=i[e])||void 0===r?void 0:r[s])||[]})})),t((({provider:e})=>{var t,r;const{allCollectibleContracts:n,allCollectibles:i}=this.state,{selectedAddress:s}=this.config,{chainId:o}=e;this.configure({chainId:o}),this.update({collectibleContracts:(null===(t=n[s])||void 0===t?void 0:t[o])||[],collectibles:(null===(r=i[s])||void 0===r?void 0:r[o])||[]})}))}getCollectibleApi(e,t){return`https://api.opensea.io/api/v1/asset/${e}/${t}`}getCollectibleContractInformationApi(e){return`https://api.opensea.io/api/v1/asset_contract/${e}`}getCollectibleInformationFromApi(e,t){return n(this,void 0,void 0,(function*(){const r=this.getCollectibleApi(e,t);let n;n=this.openSeaApiKey?yield a.handleFetch(r,{headers:{"X-API-KEY":this.openSeaApiKey}}):yield a.handleFetch(r);const{num_sales:i,background_color:s,image_url:o,image_preview_url:c,image_thumbnail_url:u,image_original_url:l,animation_url:d,animation_original_url:f,name:h,description:p,external_link:m,creator:g,last_sale:y}=n;return Object.assign({},{name:h},g&&{creator:g},p&&{description:p},o&&{image:o},i&&{numberOfSales:i},s&&{backgroundColor:s},c&&{imagePreview:c},u&&{imageThumbnail:u},l&&{imageOriginal:l},d&&{animation:d},f&&{animationOriginal:f},m&&{externalLink:m},y&&{lastSale:y})}))}getCollectibleInformationFromTokenURI(e,t){return n(this,void 0,void 0,(function*(){const r=yield this.getCollectibleTokenURI(e,t),n=yield a.handleFetch(r);return{image:n[Object.prototype.hasOwnProperty.call(n,"image")?"image":"image_url"],name:n.name}}))}getCollectibleInformation(e,t){return n(this,void 0,void 0,(function*(){let r;return r=yield a.safelyExecute((()=>n(this,void 0,void 0,(function*(){return yield this.getCollectibleInformationFromApi(e,t)})))),r||(r=yield a.safelyExecute((()=>n(this,void 0,void 0,(function*(){return yield this.getCollectibleInformationFromTokenURI(e,t)})))),r||{})}))}getCollectibleContractInformationFromApi(e){return n(this,void 0,void 0,(function*(){const t=this.getCollectibleContractInformationApi(e);let r;return r=this.openSeaApiKey?yield a.handleFetch(t,{headers:{"X-API-KEY":this.openSeaApiKey}}):yield a.handleFetch(t),r}))}getCollectibleContractInformationFromContract(e){return n(this,void 0,void 0,(function*(){return{name:yield this.getAssetName(e),symbol:yield this.getAssetSymbol(e),address:e,asset_contract_type:null,created_date:null,schema_name:null,total_supply:null,description:null,external_link:null,image_url:null}}))}getCollectibleContractInformation(e){return n(this,void 0,void 0,(function*(){let t;return t=yield a.safelyExecute((()=>n(this,void 0,void 0,(function*(){return yield this.getCollectibleContractInformationFromApi(e)})))),t||(t=yield a.safelyExecute((()=>n(this,void 0,void 0,(function*(){return yield this.getCollectibleContractInformationFromContract(e)})))),t||{address:e,asset_contract_type:null,created_date:null,name:null,schema_name:null,symbol:null,total_supply:null,description:null,external_link:null,image_url:null})}))}addIndividualCollectible(e,t,r){return n(this,void 0,void 0,(function*(){const n=yield this.mutex.acquire();try{e=a.toChecksumHexAddress(e);const{allCollectibles:i,collectibles:s}=this.state,{chainId:o,selectedAddress:c}=this.config,l=s.find((r=>r.address.toLowerCase()===e.toLowerCase()&&r.tokenId===t));if(r=r||(yield this.getCollectibleInformation(e,t)),l){if(!u.compareCollectiblesMetadata(r,l))return s;{const r=s.findIndex((r=>r.address.toLowerCase()===e.toLowerCase()&&r.tokenId===t));-1!==r&&s.splice(r,1)}}const d=Object.assign({address:e,tokenId:t},r),f=[...s,d],h=i[c],p=Object.assign(Object.assign({},h),{[o]:f}),m=Object.assign(Object.assign({},i),{[c]:p});return this.update({allCollectibles:m,collectibles:f}),f}finally{n()}}))}addCollectibleContract(e,t){return n(this,void 0,void 0,(function*(){const r=yield this.mutex.acquire();try{e=a.toChecksumHexAddress(e);const{allCollectibleContracts:n,collectibleContracts:i}=this.state,{chainId:s,selectedAddress:o}=this.config;if(i.find((t=>t.address.toLowerCase()===e.toLowerCase())))return i;const c=yield this.getCollectibleContractInformation(e),{asset_contract_type:u,created_date:l,name:d,schema_name:f,symbol:h,total_supply:p,description:m,external_link:g,image_url:y}=c;if(t&&!y||0===Object.keys(c).length)return i;const v=Object.assign({},{address:e},m&&{description:m},d&&{name:d},y&&{logo:y},h&&{symbol:h},null!==p&&{totalSupply:p},u&&{assetContractType:u},l&&{createdDate:l},f&&{schemaName:f},g&&{externalLink:g}),b=[...i,v],w=n[o],_=Object.assign(Object.assign({},w),{[s]:b}),k=Object.assign(Object.assign({},n),{[o]:_});return this.update({allCollectibleContracts:k,collectibleContracts:b}),b}finally{r()}}))}removeAndIgnoreIndividualCollectible(e,t){e=a.toChecksumHexAddress(e);const{allCollectibles:r,collectibles:n,ignoredCollectibles:i}=this.state,{chainId:s,selectedAddress:o}=this.config,c=[...i],u=n.filter((r=>{if(r.address.toLowerCase()===e.toLowerCase()&&r.tokenId===t){return!c.find((r=>r.address===e&&r.tokenId===t))&&c.push(r),!1}return!0})),l=r[o],d=Object.assign(Object.assign({},l),{[s]:u}),f=Object.assign(Object.assign({},r),{[o]:d});this.update({allCollectibles:f,collectibles:u,ignoredCollectibles:c})}removeIndividualCollectible(e,t){e=a.toChecksumHexAddress(e);const{allCollectibles:r,collectibles:n}=this.state,{chainId:i,selectedAddress:s}=this.config,o=n.filter((r=>!(r.address.toLowerCase()===e.toLowerCase()&&r.tokenId===t))),c=r[s],u=Object.assign(Object.assign({},c),{[i]:o}),l=Object.assign(Object.assign({},r),{[s]:u});this.update({allCollectibles:l,collectibles:o})}removeCollectibleContract(e){e=a.toChecksumHexAddress(e);const{allCollectibleContracts:t,collectibleContracts:r}=this.state,{chainId:n,selectedAddress:i}=this.config,s=r.filter((t=>!(t.address.toLowerCase()===e.toLowerCase()))),o=t[i],c=Object.assign(Object.assign({},o),{[n]:s}),u=Object.assign(Object.assign({},t),{[i]:c});return this.update({allCollectibleContracts:u,collectibleContracts:s}),s}setApiKey(e){this.openSeaApiKey=e}addCollectible(e,t,r,i){return n(this,void 0,void 0,(function*(){e=a.toChecksumHexAddress(e);const n=yield this.addCollectibleContract(e,i);r=r||(yield this.getCollectibleInformation(e,t));n.find((t=>t.address.toLowerCase()===e.toLowerCase()))&&(yield this.addIndividualCollectible(e,t,r))}))}removeCollectible(e,t){e=a.toChecksumHexAddress(e),this.removeIndividualCollectible(e,t);const{collectibles:r}=this.state;r.find((t=>t.address.toLowerCase()===e.toLowerCase()))||this.removeCollectibleContract(e)}removeAndIgnoreCollectible(e,t){e=a.toChecksumHexAddress(e),this.removeAndIgnoreIndividualCollectible(e,t);const{collectibles:r}=this.state;r.find((t=>t.address.toLowerCase()===e.toLowerCase()))||this.removeCollectibleContract(e)}clearIgnoredCollectibles(){this.update({ignoredCollectibles:[]})}}r.CollectiblesController=l,r.default=l},{file:"/home/circleci/project/node_modules/@metamask/controllers/dist/assets/CollectiblesController.js"}],[953,{"../BaseControllerV2":948,"eth-rpc-errors":2056,nanoid:1163},function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ApprovalController=void 0;const n=e("eth-rpc-errors"),i=e("nanoid"),s=e("../BaseControllerV2"),o="ApprovalController",a={pendingApprovals:{persist:!1,anonymous:!0},pendingApprovalCount:{persist:!1,anonymous:!1}};class c extends s.BaseController{constructor({messenger:e,showApprovalRequest:t,state:r={}}){super({name:o,metadata:a,messenger:e,state:Object.assign(Object.assign({},{pendingApprovals:{},pendingApprovalCount:0}),r)}),this._approvals=new Map,this._origins=new Map,this._showApprovalRequest=t,this.registerMessageHandlers()}registerMessageHandlers(){this.messagingSystem.registerActionHandler(`${o}:clearRequests`,this.clear.bind(this)),this.messagingSystem.registerActionHandler(`${o}:addRequest`,((e,t)=>t?this.addAndShowApprovalRequest(e):this.add(e))),this.messagingSystem.registerActionHandler(`${o}:hasRequest`,this.has.bind(this)),this.messagingSystem.registerActionHandler(`${o}:acceptRequest`,this.accept.bind(this)),this.messagingSystem.registerActionHandler(`${o}:rejectRequest`,this.reject.bind(this))}addAndShowApprovalRequest(e){const t=this._add(e.origin,e.type,e.id,e.requestData);return this._showApprovalRequest(),t}add(e){return this._add(e.origin,e.type,e.id,e.requestData)}get(e){return this.state.pendingApprovals[e]}getApprovalCount(e={}){var t,r;if(!e.origin&&!e.type)throw new Error("Must specify origin, type, or both.");const{origin:n,type:i}=e;if(n&&i)return Number(Boolean(null===(t=this._origins.get(n))||void 0===t?void 0:t.has(i)));if(n)return(null===(r=this._origins.get(n))||void 0===r?void 0:r.size)||0;let s=0;for(const e of Object.values(this.state.pendingApprovals))e.type===i&&(s+=1);return s}getTotalApprovalCount(){return this.state.pendingApprovalCount}has(e={}){var t;const{id:r,origin:n,type:i}=e;if(r){if("string"!=typeof r)throw new Error("May not specify non-string id.");return this._approvals.has(r)}if(i&&"string"!=typeof i)throw new Error("May not specify non-string type.");if(n){if("string"!=typeof n)throw new Error("May not specify non-string origin.");return i?Boolean(null===(t=this._origins.get(n))||void 0===t?void 0:t.has(i)):this._origins.has(n)}if(i){for(const e of Object.values(this.state.pendingApprovals))if(e.type===i)return!0;return!1}throw new Error("Must specify a valid combination of id, origin, and type.")}accept(e,t){this._deleteApprovalAndGetCallbacks(e).resolve(t)}reject(e,t){this._deleteApprovalAndGetCallbacks(e).reject(t)}clear(){const e=n.ethErrors.rpc.resourceUnavailable("The request was rejected; please try again.");for(const t of this._approvals.keys())this.reject(t,e);this._origins.clear(),this.update((()=>({pendingApprovals:{},pendingApprovalCount:0})))}_add(e,t,r=i.nanoid(),s){var o;if(this._validateAddParams(r,e,t,s),null===(o=this._origins.get(e))||void 0===o?void 0:o.has(t))throw n.ethErrors.rpc.resourceUnavailable(((e,t)=>`Request of type '${t}' already pending for origin ${e}. Please wait.`)(e,t));return new Promise(((n,i)=>{this._approvals.set(r,{resolve:n,reject:i}),this._addPendingApprovalOrigin(e,t),this._addToStore(r,e,t,s)}))}_validateAddParams(e,t,r,i){let s=null;if(e&&"string"==typeof e?this._approvals.has(e)?s=`Approval request with id '${e}' already exists.`:t&&"string"==typeof t?r&&"string"==typeof r?i&&("object"!=typeof i||Array.isArray(i))&&(s="Request data must be a plain object if specified."):s="Must specify non-empty string type.":s="Must specify non-empty string origin.":s="Must specify non-empty string id.",s)throw n.ethErrors.rpc.internal(s)}_addPendingApprovalOrigin(e,t){const r=this._origins.get(e)||new Set;r.add(t),this._origins.has(e)||this._origins.set(e,r)}_addToStore(e,t,r,n){const i={id:e,origin:t,type:r,time:Date.now(),requestData:n||null};this.update((t=>{t.pendingApprovals[e]=i,t.pendingApprovalCount=Object.keys(t.pendingApprovals).length}))}_delete(e){this._approvals.delete(e);const{origin:t,type:r}=this.state.pendingApprovals[e];this._origins.get(t).delete(r),this._isEmptyOrigin(t)&&this._origins.delete(t),this.update((t=>{delete t.pendingApprovals[e],t.pendingApprovalCount=Object.keys(t.pendingApprovals).length}))}_deleteApprovalAndGetCallbacks(e){const t=this._approvals.get(e);if(!t)throw new Error(`Approval request with id '${e}' not found.`);return this._delete(e),t}_isEmptyOrigin(e){var t;return!(null===(t=this._origins.get(e))||void 0===t?void 0:t.size)}}r.ApprovalController=c,r.default=c},{file:"/home/circleci/project/node_modules/@metamask/controllers/dist/approval/ApprovalController.js"}],[2592,{"whatwg-fetch":3899},function(e,t,r){e("whatwg-fetch"),t.exports=self.fetch.bind(self)},{file:"/home/circleci/project/node_modules/isomorphic-fetch/fetch-npm-browserify.js"}],[965,{"../BaseControllerV2":948,"../util":979,"./gas-util":966,"eth-query":2052,"ethereumjs-util":2139,uuid:1166},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.GasFeeController=r.GAS_ESTIMATE_TYPES=r.LEGACY_GAS_PRICES_API_URL=void 0;const s=i(e("eth-query")),o=e("uuid"),a=e("ethereumjs-util"),c=e("../BaseControllerV2"),u=e("../util"),l=e("./gas-util");r.LEGACY_GAS_PRICES_API_URL="https://api.metaswap.codefi.network/gasPrices",r.GAS_ESTIMATE_TYPES={FEE_MARKET:"fee-market",LEGACY:"legacy",ETH_GASPRICE:"eth_gasPrice",NONE:"none"};const d={gasFeeEstimates:{persist:!0,anonymous:!1},estimatedGasFeeTimeBounds:{persist:!0,anonymous:!1},gasEstimateType:{persist:!0,anonymous:!1}},f={gasFeeEstimates:{},estimatedGasFeeTimeBounds:{},gasEstimateType:r.GAS_ESTIMATE_TYPES.NONE};class h extends c.BaseController{constructor({interval:e=15e3,messenger:t,state:i,fetchGasEstimates:o=l.fetchGasEstimates,fetchEthGasPriceEstimate:a=l.fetchEthGasPriceEstimate,fetchLegacyGasPriceEstimates:c=l.fetchLegacyGasPriceEstimates,getCurrentNetworkEIP1559Compatibility:u,getCurrentAccountEIP1559Compatibility:h,getChainId:p,getCurrentNetworkLegacyGasAPICompatibility:m,getProvider:g,onNetworkStateChange:y,legacyAPIEndpoint:v=r.LEGACY_GAS_PRICES_API_URL,EIP1559APIEndpoint:b="https://mock-gas-server.herokuapp.com/"}){super({name:"GasFeeController",metadata:d,messenger:t,state:Object.assign(Object.assign({},f),i)}),this.intervalDelay=e,this.fetchGasEstimates=o,this.fetchEthGasPriceEstimate=a,this.fetchLegacyGasPriceEstimates=c,this.pollTokens=new Set,this.getCurrentNetworkEIP1559Compatibility=u,this.getCurrentNetworkLegacyGasAPICompatibility=m,this.getCurrentAccountEIP1559Compatibility=h,this.EIP1559APIEndpoint=b,this.legacyAPIEndpoint=v,this.getChainId=p,this.currentChainId=this.getChainId();const w=g();this.ethQuery=new s.default(w),y((()=>n(this,void 0,void 0,(function*(){const e=g(),t=this.getChainId();this.ethQuery=new s.default(e),this.currentChainId!==t&&(this.currentChainId=t,yield this.resetPolling())}))))}resetPolling(){return n(this,void 0,void 0,(function*(){if(0!==this.pollTokens.size){const e=Array.from(this.pollTokens);this.stopPolling(),yield this.getGasFeeEstimatesAndStartPolling(e[0]),e.slice(1).forEach((e=>{this.pollTokens.add(e)}))}}))}fetchGasFeeEstimates(e){return n(this,void 0,void 0,(function*(){return yield this._fetchGasFeeEstimateData(e)}))}getGasFeeEstimatesAndStartPolling(e){return n(this,void 0,void 0,(function*(){const t=e||o.v1();return this.pollTokens.add(t),1===this.pollTokens.size&&(yield this._fetchGasFeeEstimateData(),this._poll()),t}))}_fetchGasFeeEstimateData(e={}){return n(this,void 0,void 0,(function*(){const{shouldUpdateState:t=!0}=e;let n;const i=this.getCurrentNetworkLegacyGasAPICompatibility();let s=this.getChainId();"string"==typeof s&&a.isHexString(s)&&(s=parseInt(s,16));try{n=yield this.getEIP1559Compatibility()}catch(e){console.error(e),n=!1}let o={gasFeeEstimates:{},estimatedGasFeeTimeBounds:{},gasEstimateType:r.GAS_ESTIMATE_TYPES.NONE};try{if(n){const e=yield this.fetchGasEstimates(this.EIP1559APIEndpoint.replace("<chain_id>",`${s}`)),{suggestedMaxPriorityFeePerGas:t,suggestedMaxFeePerGas:n}=e.medium,i=this.getTimeEstimate(t,n);o={gasFeeEstimates:e,estimatedGasFeeTimeBounds:i,gasEstimateType:r.GAS_ESTIMATE_TYPES.FEE_MARKET}}else{if(!i)throw new Error("Main gas fee/price estimation failed. Use fallback");{const e=yield this.fetchLegacyGasPriceEstimates(this.legacyAPIEndpoint.replace("<chain_id>",`${s}`));o={gasFeeEstimates:e,estimatedGasFeeTimeBounds:{},gasEstimateType:r.GAS_ESTIMATE_TYPES.LEGACY}}}}catch(e){try{const e=yield this.fetchEthGasPriceEstimate(this.ethQuery);o={gasFeeEstimates:e,estimatedGasFeeTimeBounds:{},gasEstimateType:r.GAS_ESTIMATE_TYPES.ETH_GASPRICE}}catch(e){throw new Error(`Gas fee/price estimation failed. Message: ${e.message}`)}}return t&&this.update((()=>o)),o}))}disconnectPoller(e){this.pollTokens.delete(e),0===this.pollTokens.size&&this.stopPolling()}stopPolling(){this.intervalId&&clearInterval(this.intervalId),this.pollTokens.clear(),this.resetState()}destroy(){super.destroy(),this.stopPolling()}_poll(){this.intervalId&&clearInterval(this.intervalId),this.intervalId=setInterval((()=>n(this,void 0,void 0,(function*(){yield u.safelyExecute((()=>this._fetchGasFeeEstimateData()))}))),this.intervalDelay)}resetState(){this.update((()=>f))}getEIP1559Compatibility(){var e,t;return n(this,void 0,void 0,(function*(){const r=yield this.getCurrentNetworkEIP1559Compatibility(),n=null===(t=null===(e=this.getCurrentAccountEIP1559Compatibility)||void 0===e?void 0:e.call(this))||void 0===t||t;return r&&n}))}getTimeEstimate(e,t){return this.state.gasFeeEstimates&&this.state.gasEstimateType===r.GAS_ESTIMATE_TYPES.FEE_MARKET?l.calculateTimeEstimate(e,t,this.state.gasFeeEstimates):{}}}r.GasFeeController=h,r.default=h},{file:"/home/circleci/project/node_modules/@metamask/controllers/dist/gas/GasFeeController.js"}],[960,{"../BaseControllerV2":948,"../apis/token-service":952,"../util":979,"@metamask/contract-metadata":946,"abort-controller":1351,"async-mutex":1406},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.TokenListController=void 0;const o=s(e("@metamask/contract-metadata")),a=e("async-mutex"),c=s(e("abort-controller")),u=e("../BaseControllerV2"),l=e("../util"),d=e("../apis/token-service"),f={tokenList:{persist:!0,anonymous:!0},tokensChainsCache:{persist:!0,anonymous:!0}},h={tokenList:{},tokensChainsCache:{}};class p extends u.BaseController{constructor({chainId:e,useStaticTokenList:t,onNetworkStateChange:r,onPreferencesStateChange:i,interval:s=36e5,cacheRefreshThreshold:o=18e5,messenger:u,state:l}){super({name:"TokenListController",metadata:f,messenger:u,state:Object.assign(Object.assign({},h),l)}),this.mutex=new a.Mutex,this.intervalDelay=s,this.cacheRefreshThreshold=o,this.chainId=e,this.useStaticTokenList=t,this.abortController=new c.default,r((e=>n(this,void 0,void 0,(function*(){this.chainId!==e.provider.chainId&&(this.abortController.abort(),this.abortController=new c.default,this.chainId=e.provider.chainId,yield this.restart())})))),i((e=>n(this,void 0,void 0,(function*(){this.useStaticTokenList!==e.useStaticTokenList&&(this.abortController.abort(),this.abortController=new c.default,this.useStaticTokenList=e.useStaticTokenList,yield this.restart())}))))}start(){return n(this,void 0,void 0,(function*(){yield this.startPolling()}))}restart(){return n(this,void 0,void 0,(function*(){this.stopPolling(),yield this.startPolling()}))}stop(){this.stopPolling()}destroy(){super.destroy(),this.stopPolling()}stopPolling(){this.intervalId&&clearInterval(this.intervalId)}startPolling(){return n(this,void 0,void 0,(function*(){yield l.safelyExecute((()=>this.fetchTokenList())),this.intervalId=setInterval((()=>n(this,void 0,void 0,(function*(){yield l.safelyExecute((()=>this.fetchTokenList()))}))),this.intervalDelay)}))}fetchTokenList(){return n(this,void 0,void 0,(function*(){this.useStaticTokenList?yield this.fetchFromStaticTokenList():yield this.fetchFromDynamicTokenList()}))}fetchFromStaticTokenList(){return n(this,void 0,void 0,(function*(){const e={};for(const t in o.default){const r=o.default[t],{erc20:n,logo:s}=r,a=i(r,["erc20","logo"]);n&&(e[t]=Object.assign(Object.assign({},a),{address:t,iconUrl:s,occurrences:null}))}this.update((()=>({tokenList:e,tokensChainsCache:{}})))}))}fetchFromDynamicTokenList(){return n(this,void 0,void 0,(function*(){const e=yield this.mutex.acquire();try{const t=yield l.safelyExecute((()=>this.fetchFromCache())),r=this.state,{tokensChainsCache:n}=r,s=i(r,["tokensChainsCache"]),o={};if(t)for(const e of t)o[e.address]=e;else{const e=yield l.safelyExecute((()=>d.fetchTokenList(this.chainId,this.abortController.signal)));if(!e){const e=n[this.chainId]?n[this.chainId].data:[];for(const t of e)o[t.address]=t;return void this.update((()=>Object.assign(Object.assign({},s),{tokenList:o,tokensChainsCache:n})))}const t=e.filter((e=>e.occurrences&&e.occurrences>=2)),r=t.map((e=>e.symbol)),i=[...new Set(r.filter(((e,t)=>r.indexOf(e)!==t)))],a=t.filter((e=>!i.includes(e.symbol)));for(const e of a)o[e.address]=e}const a=Object.assign(Object.assign({},n),{[this.chainId]:{timestamp:Date.now(),data:Object.values(o)}});this.update((()=>Object.assign(Object.assign({},s),{tokenList:o,tokensChainsCache:a})))}finally{e()}}))}fetchFromCache(){return n(this,void 0,void 0,(function*(){const{tokensChainsCache:e}=this.state,t=e[this.chainId],r=Date.now();return(null==t?void 0:t.data)&&r-(null==t?void 0:t.timestamp)<this.cacheRefreshThreshold?t.data:null}))}fetchTokenMetadata(e){return n(this,void 0,void 0,(function*(){const t=yield this.mutex.acquire();try{return yield d.fetchTokenMetadata(this.chainId,e,this.abortController.signal)}finally{t()}}))}}r.TokenListController=p,r.default=p},{file:"/home/circleci/project/node_modules/@metamask/controllers/dist/assets/TokenListController.js"}],[970,{"../util":979,"./AbstractMessageManager":969,uuid:1166},function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MessageManager=void 0;const n=e("uuid"),i=e("../util"),s=e("./AbstractMessageManager");class o extends s.AbstractMessageManager{constructor(){super(...arguments),this.name="MessageManager"}addUnapprovedMessageAsync(e,t){return new Promise(((r,n)=>{i.validateSignMessageData(e);const s=this.addUnapprovedMessage(e,t);this.hub.once(`${s}:finished`,(t=>{switch(t.status){case"signed":return r(t.rawSig);case"rejected":return n(new Error("MetaMask Message Signature: User denied message signature."));default:return n(new Error(`MetaMask Message Signature: Unknown problem: ${JSON.stringify(e)}`))}}))}))}addUnapprovedMessage(e,t){t&&(e.origin=t.origin),e.data=i.normalizeMessageData(e.data);const r=n.v1(),s={id:r,messageParams:e,status:"unapproved",time:Date.now(),type:"eth_sign"};return this.addMessage(s),this.hub.emit("unapprovedMessage",Object.assign(Object.assign({},e),{metamaskId:r})),r}prepMessageForSigning(e){return delete e.metamaskId,Promise.resolve(e)}}r.MessageManager=o,r.default=o},{file:"/home/circleci/project/node_modules/@metamask/controllers/dist/message-manager/MessageManager.js"}],[954,{"../BaseController":947,"../util":979,"async-mutex":1406,"eth-query":2052},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.AccountTrackerController=void 0;const s=i(e("eth-query")),o=e("async-mutex"),a=e("../BaseController"),c=e("../util");class u extends a.BaseController{constructor({onPreferencesStateChange:e,getIdentities:t},r,i){super(r,i),this.mutex=new o.Mutex,this.name="AccountTrackerController",this.refresh=()=>n(this,void 0,void 0,(function*(){this.syncAccounts();const{accounts:e}=this.state;for(const t in e)yield c.safelyExecuteWithTimeout((()=>n(this,void 0,void 0,(function*(){const r=yield c.query(this.ethQuery,"getBalance",[t]);e[t]={balance:c.BNToHex(r)},this.update({accounts:Object.assign({},e)})}))))})),this.defaultConfig={interval:1e4},this.defaultState={accounts:{}},this.initialize(),this.getIdentities=t,e((()=>{this.refresh()})),this.poll()}syncAccounts(){const{accounts:e}=this.state,t=Object.keys(this.getIdentities()),r=Object.keys(e),n=t.filter((e=>-1===r.indexOf(e))),i=r.filter((e=>-1===t.indexOf(e)));n.forEach((t=>{e[t]={balance:"0x0"}})),i.forEach((t=>{delete e[t]})),this.update({accounts:Object.assign({},e)})}set provider(e){this.ethQuery=new s.default(e)}get provider(){throw new Error("Property only used for setting")}poll(e){return n(this,void 0,void 0,(function*(){const t=yield this.mutex.acquire();e&&this.configure({interval:e},!1,!1),this.handle&&clearTimeout(this.handle),yield this.refresh(),this.handle=setTimeout((()=>{t(),this.poll(this.config.interval)}),this.config.interval)}))}}r.AccountTrackerController=u,r.default=u},{file:"/home/circleci/project/node_modules/@metamask/controllers/dist/assets/AccountTrackerController.js"}],[975,{"../BaseController":947,"../util":979,"eth-phishing-detect/src/config.json":2050,"eth-phishing-detect/src/detector":2051,"punycode/":3325},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.PhishingController=void 0;const s=e("punycode/"),o=i(e("eth-phishing-detect/src/config.json")),a=i(e("eth-phishing-detect/src/detector")),c=e("../BaseController"),u=e("../util");class l extends c.BaseController{constructor(e,t){super(e,t),this.configUrl="https://cdn.jsdelivr.net/gh/MetaMask/eth-phishing-detect@master/src/config.json",this.name="PhishingController",this.defaultConfig={interval:36e5},this.defaultState={phishing:o.default,whitelist:[]},this.detector=new a.default(this.defaultState.phishing),this.initialize(),this.poll()}poll(e){return n(this,void 0,void 0,(function*(){e&&this.configure({interval:e},!1,!1),this.handle&&clearTimeout(this.handle),yield u.safelyExecute((()=>this.updatePhishingLists())),this.handle=setTimeout((()=>{this.poll(this.config.interval)}),this.config.interval)}))}test(e){const t=s.toASCII(e);return-1===this.state.whitelist.indexOf(t)&&this.detector.check(t).result}bypass(e){const t=s.toASCII(e),{whitelist:r}=this.state;-1===r.indexOf(t)&&this.update({whitelist:[...r,t]})}updatePhishingLists(){return n(this,void 0,void 0,(function*(){if(this.disabled)return;const e=yield this.queryConfig(this.configUrl);e&&(this.detector=new a.default(e),this.update({phishing:e}))}))}queryConfig(e){return n(this,void 0,void 0,(function*(){const t=yield fetch(e,{cache:"no-cache"});switch(t.status){case 200:return yield t.json();case 304:case 403:return null;default:throw new Error(`Fetch failed with status '${t.status}' for request '${e}'`)}}))}}r.PhishingController=l,r.default=l},{file:"/home/circleci/project/node_modules/@metamask/controllers/dist/third-party/PhishingController.js"}],[968,{"../BaseController":947,"../util":979,"async-mutex":1406,"eth-keyring-controller":2034,"eth-sig-util":2058,"ethereumjs-util":2139,"ethereumjs-wallet":1121,"ethjs-util":2191},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.KeyringController=r.SignTypedDataVersion=r.AccountImportStrategy=r.KeyringTypes=void 0;const c=e("ethereumjs-util"),u=e("ethjs-util"),l=e("eth-sig-util"),d=s(e("ethereumjs-wallet")),f=a(e("eth-keyring-controller")),h=e("async-mutex"),p=e("../BaseController"),m=e("../util"),g=new WeakMap;var y,v;!function(e){e.simple="Simple Key Pair",e.hd="HD Key Tree"}(y=r.KeyringTypes||(r.KeyringTypes={})),function(e){e.privateKey="privateKey",e.json="json"}(r.AccountImportStrategy||(r.AccountImportStrategy={})),function(e){e.V1="V1",e.V3="V3",e.V4="V4"}(v=r.SignTypedDataVersion||(r.SignTypedDataVersion={}));class b extends p.BaseController{constructor({removeIdentity:e,syncIdentities:t,updateIdentities:r,setSelectedAddress:n},i,s){super(i,s),this.mutex=new h.Mutex,this.name="KeyringController",g.set(this,{keyring:new f.default(Object.assign({initState:s},i))}),this.defaultState=Object.assign(Object.assign({},g.get(this).keyring.store.getState()),{keyrings:[]}),this.removeIdentity=e,this.syncIdentities=t,this.updateIdentities=r,this.setSelectedAddress=n,this.initialize(),this.fullUpdate()}addNewAccount(){return o(this,void 0,void 0,(function*(){const e=g.get(this).keyring.getKeyringsByType("HD Key Tree")[0];if(!e)throw new Error("No HD keyring found");const t=yield g.get(this).keyring.getAccounts();yield g.get(this).keyring.addNewAccount(e);const r=yield g.get(this).keyring.getAccounts();return yield this.verifySeedPhrase(),this.updateIdentities(r),r.forEach((e=>{t.includes(e)||this.setSelectedAddress(e)})),this.fullUpdate()}))}addNewAccountWithoutUpdate(){return o(this,void 0,void 0,(function*(){const e=g.get(this).keyring.getKeyringsByType("HD Key Tree")[0];if(!e)throw new Error("No HD keyring found");return yield g.get(this).keyring.addNewAccount(e),yield this.verifySeedPhrase(),this.fullUpdate()}))}createNewVaultAndRestore(e,t){return o(this,void 0,void 0,(function*(){const r=yield this.mutex.acquire();try{this.updateIdentities([]);const n=yield g.get(this).keyring.createNewVaultAndRestore(e,t);return this.updateIdentities(yield g.get(this).keyring.getAccounts()),this.fullUpdate(),n}finally{r()}}))}createNewVaultAndKeychain(e){return o(this,void 0,void 0,(function*(){const t=yield this.mutex.acquire();try{const r=yield g.get(this).keyring.createNewVaultAndKeychain(e);return this.updateIdentities(yield g.get(this).keyring.getAccounts()),this.fullUpdate(),r}finally{t()}}))}isUnlocked(){return g.get(this).keyring.memStore.getState().isUnlocked}exportSeedPhrase(e){if(g.get(this).keyring.password===e)return g.get(this).keyring.keyrings[0].mnemonic;throw new Error("Invalid password")}exportAccount(e,t){if(g.get(this).keyring.password===e)return g.get(this).keyring.exportAccount(t);throw new Error("Invalid password")}getAccounts(){return g.get(this).keyring.getAccounts()}importAccountWithStrategy(e,t){return o(this,void 0,void 0,(function*(){let r;switch(e){case"privateKey":const[n]=t;if(!n)throw new Error("Cannot import an empty key.");const i=c.addHexPrefix(n);if(!c.isValidPrivate(c.toBuffer(i)))throw new Error("Cannot import invalid private key.");r=u.stripHexPrefix(i);break;case"json":let s;const[o,a]=t;try{s=d.thirdparty.fromEtherWallet(o,a)}catch(e){s=s||(yield d.default.fromV3(o,a,!0))}r=c.bufferToHex(s.getPrivateKey());break;default:throw new Error(`Unexpected import strategy: '${e}'`)}const n=yield g.get(this).keyring.addNewKeyring(y.simple,[r]),i=yield n.getAccounts(),s=yield g.get(this).keyring.getAccounts();return this.updateIdentities(s),this.setSelectedAddress(i[0]),this.fullUpdate()}))}removeAccount(e){return o(this,void 0,void 0,(function*(){return this.removeIdentity(e),yield g.get(this).keyring.removeAccount(e),this.fullUpdate()}))}setLocked(){return g.get(this).keyring.setLocked()}signMessage(e){return g.get(this).keyring.signMessage(e)}signPersonalMessage(e){return g.get(this).keyring.signPersonalMessage(e)}signTypedMessage(e,t){return o(this,void 0,void 0,(function*(){try{const r=l.normalize(e.from),{password:n}=g.get(this).keyring,i=yield this.exportAccount(n,r),s=c.toBuffer(c.addHexPrefix(i));switch(t){case v.V1:return l.signTypedDataLegacy(s,{data:e.data});case v.V3:return l.signTypedData(s,{data:JSON.parse(e.data)});case v.V4:return l.signTypedData_v4(s,{data:JSON.parse(e.data)});default:throw new Error(`Unexpected signTypedMessage version: '${t}'`)}}catch(e){throw new Error(`Keyring Controller signTypedMessage: ${e}`)}}))}signTransaction(e,t){return g.get(this).keyring.signTransaction(e,t)}submitPassword(e){return o(this,void 0,void 0,(function*(){yield g.get(this).keyring.submitPassword(e);const t=yield g.get(this).keyring.getAccounts();return yield this.syncIdentities(t),this.fullUpdate()}))}subscribe(e){g.get(this).keyring.store.subscribe(e)}unsubscribe(e){return g.get(this).keyring.store.unsubscribe(e)}onLock(e){return g.get(this).keyring.on("lock",e)}onUnlock(e){return g.get(this).keyring.on("unlock",e)}verifySeedPhrase(){return o(this,void 0,void 0,(function*(){const e=g.get(this).keyring.getKeyringsByType(y.hd)[0];if(!e)throw new Error("No HD keyring found.");const t=(yield e.serialize()).mnemonic,r=yield e.getAccounts();if(0===r.length)throw new Error("Cannot verify an empty keyring.");const n=new(g.get(this).keyring.getKeyringClassForType(y.hd))({mnemonic:t,numberOfAccounts:r.length}),i=yield n.getAccounts();if(i.length!==r.length)throw new Error("Seed phrase imported incorrect number of accounts.");return i.forEach(((e,t)=>{if(e.toLowerCase()!==r[t].toLowerCase())throw new Error("Seed phrase imported different accounts.")})),t}))}fullUpdate(){return o(this,void 0,void 0,(function*(){const e=yield Promise.all(g.get(this).keyring.keyrings.map(((e,t)=>o(this,void 0,void 0,(function*(){const r=yield e.getAccounts();return{accounts:Array.isArray(r)?r.map((e=>m.toChecksumHexAddress(e))):[],index:t,type:e.type}})))));return this.update({keyrings:[...e]}),g.get(this).keyring.fullUpdate()}))}}r.KeyringController=b,r.default=b},{file:"/home/circleci/project/node_modules/@metamask/controllers/dist/keyring/KeyringController.js"}],[962,{"../BaseController":947,"../constants":964,"../util":979,"@metamask/contract-metadata":946,"async-mutex":1406,ethers:1140,events:1714,"human-standard-collectible-abi":2260,uuid:1166},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.TokensController=void 0;const s=e("events"),o=i(e("@metamask/contract-metadata")),a=i(e("human-standard-collectible-abi")),c=e("uuid"),u=e("async-mutex"),l=e("ethers"),d=e("../BaseController"),f=e("../util"),h=e("../constants");var p;!function(e){e.accepted="accepted",e.failed="failed",e.pending="pending",e.rejected="rejected"}(p||(p={}));class m extends d.BaseController{constructor({onPreferencesStateChange:e,onNetworkStateChange:t,config:r,state:n}){super(r,n),this.mutex=new u.Mutex,this.hub=new s.EventEmitter,this.name="TokensController",this.defaultConfig=Object.assign({networkType:h.MAINNET,selectedAddress:"",chainId:"",provider:void 0},r),this.defaultState=Object.assign({allTokens:{},allIgnoredTokens:{},ignoredTokens:[],suggestedAssets:[],tokens:[]},n),this.initialize(),e((({selectedAddress:e})=>{var t,r;const{allTokens:n,allIgnoredTokens:i}=this.state,{chainId:s}=this.config;this.configure({selectedAddress:e}),this.update({tokens:(null===(t=n[s])||void 0===t?void 0:t[e])||[],ignoredTokens:(null===(r=i[s])||void 0===r?void 0:r[e])||[]})})),t((({provider:e})=>{var t,r;const{allTokens:n,allIgnoredTokens:i}=this.state,{selectedAddress:s}=this.config,{chainId:o}=e;this.configure({chainId:o}),this.ethersProvider=this._instantiateNewEthersProvider(),this.update({tokens:(null===(t=n[o])||void 0===t?void 0:t[s])||[],ignoredTokens:(null===(r=i[o])||void 0===r?void 0:r[s])||[]})}))}failSuggestedAsset(e,t){const r=Object.assign(Object.assign({},e),{status:p.failed,error:t});this.hub.emit(`${e.id}:finished`,r)}_instantiateNewEthersProvider(){var e;return new l.ethers.providers.Web3Provider(null===(e=this.config)||void 0===e?void 0:e.provider)}addToken(e,t,r,i){return n(this,void 0,void 0,(function*(){const n=yield this.mutex.acquire();try{e=f.toChecksumHexAddress(e);const{tokens:s,ignoredTokens:o}=this.state,a=yield this._detectIsERC721(e),c={address:e,symbol:t,decimals:r,image:i,isERC721:a},u=s.find((t=>t.address.toLowerCase()===e.toLowerCase()));if(u){const e=s.indexOf(u);s[e]=c}else s.push(c);const l=o.filter((t=>t.toLowerCase()!==e.toLowerCase())),{newAllTokens:d,newAllIgnoredTokens:h}=this._getNewAllTokensState(s,l);return this.update({allTokens:d,tokens:s,allIgnoredTokens:h,ignoredTokens:l}),s}finally{n()}}))}addTokens(e){return n(this,void 0,void 0,(function*(){const t=yield this.mutex.acquire(),{tokens:r,ignoredTokens:i}=this.state;try{e=yield Promise.all(e.map((e=>n(this,void 0,void 0,(function*(){return e.isERC721=yield this._detectIsERC721(e.address),e})))));let s=i;e.forEach((e=>{const{address:t,symbol:n,decimals:i,image:o,isERC721:a}=e,c=f.toChecksumHexAddress(t),u={address:c,symbol:n,decimals:i,image:o,isERC721:a},l=r.find((e=>e.address.toLowerCase()===c.toLowerCase()));if(l){const e=r.indexOf(l);r[e]=u}else r.push(u);s=s.filter((e=>e.toLowerCase()!==t.toLowerCase()))}));const{newAllTokens:o,newAllIgnoredTokens:a}=this._getNewAllTokensState(r,s);return this.update({tokens:r,allTokens:o,allIgnoredTokens:a,ignoredTokens:s}),r}finally{t()}}))}updateTokenType(e){return n(this,void 0,void 0,(function*(){const t=yield this._detectIsERC721(e),{tokens:r}=this.state,n=r.findIndex((t=>t.address.toLowerCase()===e.toLowerCase()));return r[n].isERC721=t,this.update({tokens:r}),r[n]}))}_detectIsERC721(e){var t,r;return n(this,void 0,void 0,(function*(){const n=f.toChecksumHexAddress(e);if(!0===(null===(t=o.default[n])||void 0===t?void 0:t.erc721))return Promise.resolve(!0);if(!0===(null===(r=o.default[n])||void 0===r?void 0:r.erc20))return Promise.resolve(!1);const i=yield this._createEthersContract(e,a.default,this.ethersProvider);try{return yield i.supportsInterface("0x80ac58cd")}catch(e){return!1}}))}_createEthersContract(e,t,r){return n(this,void 0,void 0,(function*(){return yield new l.ethers.Contract(e,t,r)}))}_generateRandomId(){return c.v1()}watchAsset(e,t){return n(this,void 0,void 0,(function*(){const r={asset:e,id:this._generateRandomId(),status:p.pending,time:Date.now(),type:t};try{switch(t){case"ERC20":f.validateTokenToWatch(e);break;default:throw new Error(`Asset of type ${t} not supported`)}}catch(e){return this.failSuggestedAsset(r,e),Promise.reject(e)}const n=new Promise(((e,t)=>{this.hub.once(`${r.id}:finished`,(r=>{switch(r.status){case p.accepted:return e(r.asset.address);case p.rejected:return t(new Error("User rejected to watch the asset."));case p.failed:return t(new Error(r.error.message));default:return t(new Error(`Unknown status: ${r.status}`))}}))})),{suggestedAssets:i}=this.state;return i.push(r),this.update({suggestedAssets:[...i]}),this.hub.emit("pendingSuggestedAsset",r),{result:n,suggestedAssetMeta:r}}))}acceptWatchAsset(e){return n(this,void 0,void 0,(function*(){const{suggestedAssets:t}=this.state,r=t.findIndex((({id:t})=>e===t)),n=t[r];try{switch(n.type){case"ERC20":const{address:e,symbol:t,decimals:r,image:i}=n.asset;yield this.addToken(e,t,r,i),n.status=p.accepted,this.hub.emit(`${n.id}:finished`,n);break;default:throw new Error(`Asset of type ${n.type} not supported`)}}catch(e){this.failSuggestedAsset(n,e)}const i=t.filter((({id:t})=>t!==e));this.update({suggestedAssets:[...i]})}))}rejectWatchAsset(e){const{suggestedAssets:t}=this.state,r=t.findIndex((({id:t})=>e===t)),n=t[r];if(!n)return;n.status=p.rejected,this.hub.emit(`${n.id}:finished`,n);const i=t.filter((({id:t})=>t!==e));this.update({suggestedAssets:[...i]})}removeAndIgnoreToken(e){e=f.toChecksumHexAddress(e);const{tokens:t,ignoredTokens:r}=this.state,n=r.find((t=>t.toLowerCase()===e.toLowerCase())),i=t.filter((t=>t.address.toLowerCase()!==e.toLowerCase()||(!n&&r.push(e),!1))),{newAllTokens:s,newAllIgnoredTokens:o}=this._getNewAllTokensState(i,r);this.update({allTokens:s,tokens:i,allIgnoredTokens:o,ignoredTokens:r})}_getNewAllTokensState(e,t){const{allTokens:r,allIgnoredTokens:n}=this.state,{chainId:i,selectedAddress:s}=this.config,o=r[i],a=n[i],c=Object.assign(Object.assign({},o),{[s]:e}),u=Object.assign(Object.assign({},a),{[s]:t});return{newAllTokens:Object.assign(Object.assign({},r),{[i]:c}),newAllIgnoredTokens:Object.assign(Object.assign({},n),{[i]:u})}}clearIgnoredTokens(){this.update({ignoredTokens:[],allIgnoredTokens:{}})}}r.TokensController=m,r.default=m},{file:"/home/circleci/project/node_modules/@metamask/controllers/dist/assets/TokensController.js"}],[973,{"../BaseController":947,"../constants":964,"async-mutex":1406,"eth-json-rpc-infura/src/createProvider":1989,"eth-query":2052,"web3-provider-engine/subproviders/provider":1196,"web3-provider-engine/zero":1206},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.NetworkController=r.NetworksChainId=void 0;const o=s(e("eth-query")),a=s(e("web3-provider-engine/subproviders/provider")),c=s(e("eth-json-rpc-infura/src/createProvider")),u=s(e("web3-provider-engine/zero")),l=e("async-mutex"),d=e("../BaseController"),f=e("../constants");var h;!function(e){e.mainnet="1",e.kovan="42",e.rinkeby="4",e.goerli="5",e.ropsten="3",e.localhost="",e.rpc="",e.optimism="10",e.optimismTest="69"}(h=r.NetworksChainId||(r.NetworksChainId={}));class p extends d.BaseController{constructor(e,t){super(e,t),this.internalProviderConfig={},this.mutex=new l.Mutex,this.name="NetworkController",this.defaultState={network:"loading",isCustomNetwork:!1,provider:{type:f.MAINNET,chainId:h.mainnet},properties:{isEIP1559Compatible:!1}},this.initialize(),this.getEIP1559Compatibility()}initializeProvider(e,t,r,n,i){switch(this.update({isCustomNetwork:this.getIsCustomNetwork(r)}),e){case"kovan":case f.MAINNET:case"rinkeby":case"goerli":case"optimism":case"optimismTest":case"ropsten":this.setupInfuraProvider(e);break;case"localhost":this.setupStandardProvider("http://localhost:8545");break;case f.RPC:t&&this.setupStandardProvider(t,r,n,i);break;default:throw new Error(`Unrecognized network type: '${e}'`)}}refreshNetwork(){this.update({network:"loading",properties:{}});const{rpcTarget:e,type:t,chainId:r,ticker:n}=this.state.provider;this.initializeProvider(t,e,r,n),this.lookupNetwork()}registerProvider(){this.provider.on("error",this.verifyNetwork.bind(this)),this.ethQuery=new o.default(this.provider)}setupInfuraProvider(e){const t=c.default({network:e,projectId:this.config.infuraProjectId}),r=new a.default(t),n=Object.assign(Object.assign({},this.internalProviderConfig),{dataSubprovider:r,engineParams:{blockTrackerProvider:t,pollingInterval:12e3}});this.updateProvider(u.default(n))}getIsCustomNetwork(e){return e!==h.mainnet&&e!==h.kovan&&e!==h.rinkeby&&e!==h.goerli&&e!==h.ropsten&&e!==h.localhost}setupStandardProvider(e,t,r,n){const i=Object.assign(Object.assign({},this.internalProviderConfig),{chainId:t,engineParams:{pollingInterval:12e3},nickname:n,rpcUrl:e,ticker:r});this.updateProvider(u.default(i))}updateProvider(e){this.safelyStopProvider(this.provider),this.provider=e,this.registerProvider()}safelyStopProvider(e){setTimeout((()=>{null==e||e.stop()}),500)}verifyNetwork(){"loading"===this.state.network&&this.lookupNetwork()}set providerConfig(e){this.internalProviderConfig=e;const{type:t,rpcTarget:r,chainId:n,ticker:i,nickname:s}=this.state.provider;this.initializeProvider(t,r,n,i,s),this.registerProvider(),this.lookupNetwork()}get providerConfig(){throw new Error("Property only used for setting")}lookupNetwork(){return n(this,void 0,void 0,(function*(){if(!this.ethQuery||!this.ethQuery.sendAsync)return;const e=yield this.mutex.acquire();this.ethQuery.sendAsync({method:"net_version"},((t,r)=>{this.update({network:t?"loading":r}),e()}))}))}setProviderType(e){const t=this.state.provider,{rpcTarget:r,chainId:n,nickname:s}=t,o=i(t,["rpcTarget","chainId","nickname"]);this.update({provider:Object.assign(Object.assign({},o),{type:e,ticker:"ETH",chainId:h[e]})}),this.refreshNetwork()}setRpcTarget(e,t,r,n){this.update({provider:Object.assign(Object.assign({},this.state.provider),{type:f.RPC,ticker:r,rpcTarget:e,chainId:t,nickname:n})}),this.refreshNetwork()}getEIP1559Compatibility(){var e;const{properties:t={}}=this.state;return t.isEIP1559Compatible||"function"!=typeof(null===(e=this.ethQuery)||void 0===e?void 0:e.sendAsync)?Promise.resolve(!0):new Promise(((e,r)=>{this.ethQuery.sendAsync({method:"eth_getBlockByNumber",params:["latest",!1]},((n,i)=>{if(n)r(n);else{const r=void 0!==i.baseFeePerGas;t.isEIP1559Compatible!==r&&this.update({properties:{isEIP1559Compatible:r}}),e(r)}}))}))}}r.NetworkController=p,r.default=p},{file:"/home/circleci/project/node_modules/@metamask/controllers/dist/network/NetworkController.js"}],[976,{"../BaseController":947,"../constants":964,"../util":979,"@ethereumjs/common":294,"@ethereumjs/tx":298,"async-mutex":1406,"eth-method-registry":1105,"eth-query":2052,"eth-rpc-errors":2056,"ethereumjs-util":2139,events:1714,uuid:1166},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.TransactionController=r.SPEED_UP_RATE=r.CANCEL_RATE=r.StateReconcileMethod=r.WalletDevice=r.TransactionStatus=void 0;const s=e("events"),o=e("ethereumjs-util"),a=e("eth-rpc-errors"),c=i(e("eth-method-registry")),u=i(e("eth-query")),l=i(e("@ethereumjs/common")),d=e("@ethereumjs/tx"),f=e("uuid"),h=e("async-mutex"),p=e("../BaseController"),m=e("../util"),g=e("../constants"),y="london";var v,b;!function(e){e.approved="approved",e.cancelled="cancelled",e.confirmed="confirmed",e.failed="failed",e.rejected="rejected",e.signed="signed",e.submitted="submitted",e.unapproved="unapproved"}(v=r.TransactionStatus||(r.TransactionStatus={})),function(e){e.MM_MOBILE="metamask_mobile",e.MM_EXTENSION="metamask_extension",e.OTHER="other_device"}(r.WalletDevice||(r.WalletDevice={})),function(e){e.ETHERSCAN="etherscan",e.BLOCKCHAIN="blockchain"}(b=r.StateReconcileMethod||(r.StateReconcileMethod={})),r.CANCEL_RATE=1.5,r.SPEED_UP_RATE=1.1;class w extends p.BaseController{constructor({getNetworkState:e,onNetworkStateChange:t,getProvider:r},n,i){super(n,i),this.mutex=new h.Mutex,this.normalizeTokenTx=(e,t,r)=>{const n=1e3*parseInt(e.timeStamp,10),{to:i,from:s,gas:o,gasPrice:a,gasUsed:c,hash:u,contractAddress:l,tokenDecimal:d,tokenSymbol:h,value:p}=e;return{id:f.v1({msecs:n}),isTransfer:!0,networkID:t,chainId:r,status:v.confirmed,time:n,transaction:{chainId:1,from:s,gas:o,gasPrice:a,gasUsed:c,to:i,value:p},transactionHash:u,transferInformation:{contractAddress:l,decimals:Number(d),symbol:h}}},this.hub=new s.EventEmitter,this.name="TransactionController",this.defaultConfig={interval:5e3,txHistoryLimit:40},this.defaultState={methodData:{},transactions:[]},this.initialize();const o=r();this.getNetworkState=e,this.ethQuery=new u.default(o),this.registry=new c.default({provider:o}),t((()=>{const e=r();this.ethQuery=new u.default(e),this.registry=new c.default({provider:e})})),this.poll()}failTransaction(e,t){const r=Object.assign(Object.assign({},e),{error:t,status:v.failed});this.updateTransaction(r),this.hub.emit(`${e.id}:finished`,r)}registryLookup(e){return n(this,void 0,void 0,(function*(){const t=yield this.registry.lookup(e);return{registryMethod:t,parsedRegistryMethod:this.registry.parse(t)}}))}normalizeTx(e,t,r){const n=1e3*parseInt(e.timeStamp,10),i={blockNumber:e.blockNumber,id:f.v1({msecs:n}),networkID:t,chainId:r,time:n,transaction:{data:e.input,from:e.from,gas:m.BNToHex(new o.BN(e.gas)),gasPrice:m.BNToHex(new o.BN(e.gasPrice)),gasUsed:m.BNToHex(new o.BN(e.gasUsed)),nonce:m.BNToHex(new o.BN(e.nonce)),to:e.to,value:m.BNToHex(new o.BN(e.value))},transactionHash:e.hash};return"0"===e.isError?Object.assign(Object.assign({},i),{status:v.confirmed}):Object.assign(Object.assign({},i),{error:new Error("Transaction failed"),status:v.failed})}poll(e){return n(this,void 0,void 0,(function*(){e&&this.configure({interval:e},!1,!1),this.handle&&clearTimeout(this.handle),yield m.safelyExecute((()=>this.queryTransactionStatuses())),this.handle=setTimeout((()=>{this.poll(this.config.interval)}),this.config.interval)}))}handleMethodData(e){return n(this,void 0,void 0,(function*(){const t=yield this.mutex.acquire();try{const{methodData:r}=this.state;if(Object.keys(r).find((t=>e===t)))return r[e];const n=yield this.registryLookup(e);return this.update({methodData:Object.assign(Object.assign({},r),{[e]:n})}),n}finally{t()}}))}addTransaction(e,t,r){return n(this,void 0,void 0,(function*(){const{provider:n,network:i}=this.getNetworkState(),{transactions:s}=this.state;e=m.normalizeTransaction(e),m.validateTransaction(e);const o={id:f.v1(),networkID:i,chainId:n.chainId,origin:t,status:v.unapproved,time:Date.now(),transaction:e,deviceConfirmedOn:r};try{const{gas:t}=yield this.estimateGas(e);e.gas=t}catch(e){return this.failTransaction(o,e),Promise.reject(e)}const c=new Promise(((e,t)=>{this.hub.once(`${o.id}:finished`,(r=>{switch(r.status){case v.submitted:return e(r.transactionHash);case v.rejected:return t(a.ethErrors.provider.userRejectedRequest("User rejected the transaction"));case v.cancelled:return t(a.ethErrors.rpc.internal("User cancelled the transaction"));case v.failed:return t(a.ethErrors.rpc.internal(r.error.message));default:return t(a.ethErrors.rpc.internal(`MetaMask Tx Signature: Unknown problem: ${JSON.stringify(r)}`))}}))}));return s.push(o),this.update({transactions:this.trimTransactionsForState(s)}),this.hub.emit("unapprovedTransaction",o),{result:c,transactionMeta:o}}))}prepareUnsignedEthTx(e){return d.TransactionFactory.fromTxData(e,{common:this.getCommonConfiguration(),freeze:!1})}getCommonConfiguration(){const{network:e,provider:{type:t,chainId:r,nickname:n}}=this.getNetworkState();if(t!==g.RPC)return new l.default({chain:t,hardfork:y});const i={name:n,chainId:parseInt(r,void 0),networkId:parseInt(e,void 0)};return l.default.forCustomChain(g.MAINNET,i,y)}approveTransaction(e){return n(this,void 0,void 0,(function*(){const{transactions:t}=this.state,r=yield this.mutex.acquire(),{provider:n}=this.getNetworkState(),{chainId:i}=n,s=t.findIndex((({id:t})=>e===t)),a=t[s],{nonce:c}=a.transaction;try{const{from:e}=a.transaction;if(!this.sign)return r(),void this.failTransaction(a,new Error("No sign method defined."));if(!i)return r(),void this.failTransaction(a,new Error("No chainId defined."));const t=parseInt(i,void 0),{approved:n}=v,s=c||(yield m.query(this.ethQuery,"getTransactionCount",[e,"pending"]));a.status=n,a.transaction.nonce=s,a.transaction.chainId=t;const u=Object.assign(Object.assign({},a.transaction),{gasLimit:a.transaction.gas,chainId:t,nonce:s,status:n}),l=m.isEIP1559Transaction(a.transaction),d=l?Object.assign(Object.assign({},u),{maxFeePerGas:a.transaction.maxFeePerGas,maxPriorityFeePerGas:a.transaction.maxPriorityFeePerGas,estimatedBaseFee:a.transaction.estimatedBaseFee,type:2}):u;l&&delete d.gasPrice;const f=this.prepareUnsignedEthTx(d),h=yield this.sign(f,e);a.status=v.signed,this.updateTransaction(a);const p=o.bufferToHex(h.serialize());a.rawTransaction=p,this.updateTransaction(a);const g=yield m.query(this.ethQuery,"sendRawTransaction",[p]);a.transactionHash=g,a.status=v.submitted,this.updateTransaction(a),this.hub.emit(`${a.id}:finished`,a)}catch(e){this.failTransaction(a,e)}finally{r()}}))}cancelTransaction(e){const t=this.state.transactions.find((({id:t})=>t===e));if(!t)return;t.status=v.rejected,this.hub.emit(`${t.id}:finished`,t);const r=this.state.transactions.filter((({id:t})=>t!==e));this.update({transactions:this.trimTransactionsForState(r)})}stopTransaction(e,t){var i,s;return n(this,void 0,void 0,(function*(){t&&m.validateGasValues(t);const n=this.state.transactions.find((({id:t})=>t===e));if(!n)return;if(!this.sign)throw new Error("No sign method defined.");const a=m.getIncreasedPriceFromExisting(n.transaction.gasPrice,r.CANCEL_RATE),c=m.isGasPriceValue(t)&&t.gasPrice,u=c&&m.validateMinimumIncrease(c,a)||a,l=null===(i=n.transaction)||void 0===i?void 0:i.maxFeePerGas,d=m.getIncreasedPriceFromExisting(l,r.CANCEL_RATE),f=m.isFeeMarketEIP1559Values(t)&&t.maxFeePerGas,h=f&&m.validateMinimumIncrease(f,d)||l&&d,p=null===(s=n.transaction)||void 0===s?void 0:s.maxPriorityFeePerGas,g=m.getIncreasedPriceFromExisting(p,r.CANCEL_RATE),y=m.isFeeMarketEIP1559Values(t)&&t.maxPriorityFeePerGas,b=y&&m.validateMinimumIncrease(y,g)||p&&g,w=h&&b?{from:n.transaction.from,gasLimit:n.transaction.gas,maxFeePerGas:h,maxPriorityFeePerGas:b,type:2,nonce:n.transaction.nonce,to:n.transaction.from,value:"0x0"}:{from:n.transaction.from,gasLimit:n.transaction.gas,gasPrice:u,nonce:n.transaction.nonce,to:n.transaction.from,value:"0x0"},_=this.prepareUnsignedEthTx(w),k=yield this.sign(_,n.transaction.from),x=o.bufferToHex(k.serialize());yield m.query(this.ethQuery,"sendRawTransaction",[x]),n.status=v.cancelled,this.hub.emit(`${n.id}:finished`,n)}))}speedUpTransaction(e,t){var i,s;return n(this,void 0,void 0,(function*(){t&&m.validateGasValues(t);const n=this.state.transactions.find((({id:t})=>t===e));if(!n)return;if(!this.sign)throw new Error("No sign method defined.");const{transactions:a}=this.state,c=m.getIncreasedPriceFromExisting(n.transaction.gasPrice,r.SPEED_UP_RATE),u=m.isGasPriceValue(t)&&t.gasPrice,l=u&&m.validateMinimumIncrease(u,c)||c,d=null===(i=n.transaction)||void 0===i?void 0:i.maxFeePerGas,h=m.getIncreasedPriceFromExisting(d,r.SPEED_UP_RATE),p=m.isFeeMarketEIP1559Values(t)&&t.maxFeePerGas,g=p&&m.validateMinimumIncrease(p,h)||d&&h,y=null===(s=n.transaction)||void 0===s?void 0:s.maxPriorityFeePerGas,v=m.getIncreasedPriceFromExisting(y,r.SPEED_UP_RATE),b=m.isFeeMarketEIP1559Values(t)&&t.maxPriorityFeePerGas,w=b&&m.validateMinimumIncrease(b,v)||y&&v,_=g&&w?Object.assign(Object.assign({},n.transaction),{gasLimit:n.transaction.gas,maxFeePerGas:g,maxPriorityFeePerGas:w,type:2}):Object.assign(Object.assign({},n.transaction),{gasLimit:n.transaction.gas,gasPrice:l}),k=this.prepareUnsignedEthTx(_),x=yield this.sign(k,n.transaction.from),A=o.bufferToHex(x.serialize()),P=yield m.query(this.ethQuery,"sendRawTransaction",[A]),E=Object.assign(Object.assign({},n),{id:f.v1(),time:Date.now(),transactionHash:P}),S=g&&w?Object.assign(Object.assign({},E),{transaction:Object.assign(Object.assign({},n.transaction),{maxFeePerGas:g,maxPriorityFeePerGas:w})}):Object.assign(Object.assign({},E),{transaction:Object.assign(Object.assign({},n.transaction),{gasPrice:l})});a.push(S),this.update({transactions:this.trimTransactionsForState(a)}),this.hub.emit(`${n.id}:speedup`,S)}))}estimateGas(e){return n(this,void 0,void 0,(function*(){const t=Object.assign({},e),{gas:r,gasPrice:n,to:i,value:s,data:a}=t,c=void 0===n?yield m.query(this.ethQuery,"gasPrice"):n,{isCustomNetwork:u}=this.getNetworkState();if(void 0!==r)return{gas:r,gasPrice:c};const{gasLimit:l}=yield m.query(this.ethQuery,"getBlockByNumber",["latest",!1]),d=i?yield m.query(this.ethQuery,"getCode",[i]):void 0;if(!u&&(!i||i&&!a&&(!d||"0x"===d)))return{gas:"0x5208",gasPrice:c};t.data=a?o.addHexPrefix(a):a,t.value=void 0===s?"0x0":s;const f=m.hexToBN(l);t.gas=m.BNToHex(m.fractionBN(f,19,20));const h=yield m.query(this.ethQuery,"estimateGas",[t]),p=m.hexToBN(h),g=f.muln(.9),y=p.muln(1.5);return p.gt(g)||u?{gas:o.addHexPrefix(h),gasPrice:c}:y.lt(g)?{gas:o.addHexPrefix(m.BNToHex(y)),gasPrice:c}:{gas:o.addHexPrefix(m.BNToHex(g)),gasPrice:c}}))}queryTransactionStatuses(){return n(this,void 0,void 0,(function*(){const{transactions:e}=this.state,{provider:t,network:r}=this.getNetworkState(),{chainId:i}=t;let s=!1;yield m.safelyExecute((()=>Promise.all(e.map(((t,o)=>n(this,void 0,void 0,(function*(){if(t.status===v.submitted&&(t.chainId===i||!t.chainId&&t.networkID===r)){const r=yield m.query(this.ethQuery,"getTransactionByHash",[t.transactionHash]);null===r&&(e[o].status=v.failed,s=!0),(null==r?void 0:r.blockNumber)&&(e[o].status=v.confirmed,this.hub.emit(`${t.id}:confirmed`,t),s=!0)}}))))))),s&&this.update({transactions:this.trimTransactionsForState(e)})}))}updateTransaction(e){const{transactions:t}=this.state;e.transaction=m.normalizeTransaction(e.transaction),m.validateTransaction(e.transaction);const r=t.findIndex((({id:t})=>e.id===t));t[r]=e,this.update({transactions:this.trimTransactionsForState(t)})}wipeTransactions(e){if(e)return void this.update({transactions:[]});const{provider:t,network:r}=this.getNetworkState(),{chainId:n}=t,i=this.state.transactions.filter((({networkID:e,chainId:t})=>!(t===n||!t&&e===r)));this.update({transactions:this.trimTransactionsForState(i)})}fetchAll(e,t){return n(this,void 0,void 0,(function*(){const{provider:r,network:i}=this.getNetworkState(),{chainId:s,type:o}=r,{transactions:a}=this.state;if(-1===["1","3","4","42"].indexOf(i))return;const[c,u]=yield m.handleTransactionFetch(o,e,this.config.txHistoryLimit,t),l=c.result.map((e=>this.normalizeTx(e,i,s))),d=u.result.map((e=>this.normalizeTokenTx(e,i,s))),[f,h]=this.transactionStateReconciler([...l,...d],a,b.ETHERSCAN);let p;return h.sort(((e,t)=>e.time<t.time?-1:1)),h.forEach((t=>n(this,void 0,void 0,(function*(){if((t.chainId===s||!t.chainId&&t.networkID===i)&&t.transaction.to&&t.transaction.to.toLowerCase()===e.toLowerCase()&&t.blockNumber&&(!p||parseInt(p,10)<parseInt(t.blockNumber,10))&&(p=t.blockNumber),void 0===t.toSmartContract)if(!t.transaction.to||t.transaction.data&&"0x"===t.transaction.data)t.toSmartContract=!1;else{const e=yield m.query(this.ethQuery,"getCode",[t.transaction.to]);t.toSmartContract=m.isSmartContractCode(e)}})))),f&&this.update({transactions:this.trimTransactionsForState(h)}),p}))}trimTransactionsForState(e){const t=new Set,r=e.reverse().filter((e=>{const{chainId:r,networkID:n,status:i,transaction:s,time:o}=e;if(s){const e=`${s.nonce}-${null!=r?r:n}-${new Date(o).toDateString()}`;if(t.has(e))return!0;if(t.size<this.config.txHistoryLimit||!this.isFinalState(i))return t.add(e),!0}return!1}));return r.reverse(),r}transactionStateReconciler(e,t,r){switch(r){case b.ETHERSCAN:return this.etherscanTransactionStateReconciler(e,t);default:return[!1,[]]}}isFinalState(e){return e===v.rejected||e===v.confirmed||e===v.failed||e===v.cancelled}etherscanTransactionStateReconciler(e,t){const r=this.getUpdatedTransactions(e,t),n=this.getNewTransactions(e,t),i=t.map((e=>{const t=r.findIndex((({transactionHash:t})=>t===e.transactionHash));return-1===t?e:r[t]}));return[n.length>0||i.length>0,[...n,...i]]}getNewTransactions(e,t){return e.filter((e=>!t.find((({transactionHash:t})=>t===e.transactionHash))))}getUpdatedTransactions(e,t){return e.filter((e=>t.find((t=>e.transactionHash===t.transactionHash&&this.isTransactionOutdated(e,t)))))}isTransactionOutdated(e,t){const r=this.isStatusOutdated(e.transactionHash,t.transactionHash,e.status,t.status),n=this.isGasDataOutdated(e.transaction.gasUsed,t.transaction.gasUsed);return r||n}isStatusOutdated(e,t,r,n){return e===t&&r!==n}isGasDataOutdated(e,t){return e!==t}}r.TransactionController=w,r.default=w},{file:"/home/circleci/project/node_modules/@metamask/controllers/dist/transaction/TransactionController.js"}],[146,{},function(e,t,r){"use strict";function n(e){return new Promise((t=>setTimeout(t,e)))}async function i(e){const t=await window.fetch(`http://localhost:8889?key=${e}`),r=await t.text();return r.length?JSON.parse(r):null}t.exports=class{static openBox(e){return this.address=e,Promise.resolve({onSyncDone:e=>{setTimeout(e,200)},openSpace:async(e,t)=>{const{onSyncDone:r}=t;return this.spaceName=e,setTimeout(r,150),await n(50),{private:{get:async e=>{await n(50);return await i(`${this.address}-${this.spaceName}-${e}`)},set:async(e,t)=>(await async function(e,t){return(await window.fetch("http://localhost:8889",{method:"POST",body:JSON.stringify({key:e,data:t})})).text()}(`${this.address}-${this.spaceName}-${e}`,t),await n(50),null)}}},logout:()=>{}})}static async getConfig(e){return await i(`${e}-metamask-metamaskBackup`)?{spaces:{metamask:{}}}:{}}}},{file:"/home/circleci/project/development/mock-3box.js"}],[2029,{"safe-event-emitter":3606},function(e,t,r){const n=e("safe-event-emitter");t.exports=function(e){const t=new n;t.sendAsync=e.handle.bind(e),t.send=(t,r)=>{if(!r)throw new Error('Web3 Provider - must provider callback to "send" method');e.handle(t,r)},e.on&&e.on("notification",(e=>{t.emit("data",null,e)}));return t}},{file:"/home/circleci/project/node_modules/eth-json-rpc-middleware/providerFromEngine.js"}],[16,{"./middleware/pending":18,"@babel/runtime/helpers/interopRequireDefault":184,"eth-json-rpc-middleware/wallet":2033,"json-rpc-engine":2607},function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=function({version:e,getAccounts:t,processTransaction:r,processEthSignMessage:n,processTypedMessage:a,processTypedMessageV3:c,processTypedMessageV4:u,processPersonalMessage:l,processDecryptMessage:d,processEncryptionPublicKey:f,getPendingNonce:h,getPendingTransactionByHash:p}){return(0,i.mergeMiddleware)([(0,i.createScaffoldMiddleware)({eth_syncing:!1,web3_clientVersion:`MetaMask/v${e}`}),(0,s.default)({getAccounts:t,processTransaction:r,processEthSignMessage:n,processTypedMessage:a,processTypedMessageV3:c,processTypedMessageV4:u,processPersonalMessage:l,processDecryptMessage:d,processEncryptionPublicKey:f}),(0,o.createPendingNonceMiddleware)({getPendingNonce:h}),(0,o.createPendingTxMiddleware)({getPendingTransactionByHash:p})])};var i=e("json-rpc-engine"),s=n(e("eth-json-rpc-middleware/wallet")),o=e("./middleware/pending")},{file:"/home/circleci/project/app/scripts/controllers/network/createMetamaskMiddleware.js"}],[152,{"./3id":153,"./api":155,"./config.js":156,"./privateStore":158,"./publicStore":159,"./space":160,"./utils/id":162,"./utils/index":163,"./verified":165,"3box-orbitdb-plugins":147,"@babel/runtime/helpers/asyncToGenerator":174,"@babel/runtime/helpers/classCallCheck":175,"@babel/runtime/helpers/createClass":177,"@babel/runtime/helpers/defineProperty":178,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/slicedToArray":197,"@babel/runtime/regenerator":204,ipfs:2519,"orbit-db":3168,"orbit-db-access-controllers":3101,"orbit-db-pubsub":3161,store:3709},function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),i=n(e("@babel/runtime/helpers/slicedToArray")),s=n(e("@babel/runtime/regenerator")),o=n(e("@babel/runtime/helpers/defineProperty")),a=n(e("@babel/runtime/helpers/asyncToGenerator")),c=n(e("@babel/runtime/helpers/classCallCheck")),u=n(e("@babel/runtime/helpers/createClass"));function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(r,!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=e("store"),h=e("ipfs"),p=e("orbit-db"),m=e("orbit-db-pubsub"),g=e("orbit-db-access-controllers"),y=e("3box-orbitdb-plugins"),v=y.LegacyIPFS3BoxAccessController,b=y.ThreadAccessController,w=y.ModeratorAccessController;g.addAccessController({AccessController:v}),g.addAccessController({AccessController:b}),g.addAccessController({AccessController:w});var _,k,x=e("./3id"),A=e("./publicStore"),P=e("./privateStore"),E=e("./verified"),S=e("./space"),T=e("./utils/index"),j=e("./utils/id"),C=e("./config.js"),I=e("./api"),O="ethereum-eoa",B=C.address_server_url,N=C.pinning_node,M=C.pinning_room,R=C.ipfs_options,L=C.orbitdb_options,D=function(){function e(t,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(0,c.default)(this,e),this._3id=t,this._web3provider=r,this._ipfs=n,this._serverUrl=i.addressServer||B,this._onSyncDoneCB=function(){},this._boxSynced=!1,this.public=null,this.private=null,this.verified=new E(this),this.spaces={},this.spacesPubSubMessages={}}var t,r,n,o,l,h,g,y,v,b,w,C,R,D,K,U,F,z,q,V,G,$,W,Y,J,Z,X,Q,ee,te;return(0,u.default)(e,[{key:"_load",value:(te=(0,a.default)(s.default.mark((function e(){var t,r,n,o,c,u,l,f,h,g,y,v,b,w,_=this,x=arguments;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=x.length>0&&void 0!==x[0]?x[0]:{},r=this._3id.muportFingerprint+".root",this.pinningNode=t.pinningNode||N,this._ipfs.swarm.connect(this.pinningNode,(function(){})),e.t0=p,e.t1=this._ipfs,e.t2=t.orbitPath,e.next=9,this._3id.getOdbId();case 9:return e.t3=e.sent,e.t4={directory:e.t2,identity:e.t3},e.next=13,e.t0.createInstance.call(e.t0,e.t1,e.t4);case 13:return this._orbitdb=e.sent,k=this._orbitdb,n=this._3id.getKeyringBySpaceName(r).getPublicKeys(!0).signingKey,e.next=18,this._orbitdb.feed(r,d({},L,{format:"dag-pb",accessController:{write:[n],type:"legacy-ipfs-3box",skipManifest:!0}}));case 18:return this._rootStore=e.sent,o=this._rootStore.address.toString(),e.t5=m,e.t6=this._ipfs,e.next=24,this._ipfs.id();case 24:return e.t7=e.sent.id,this._pubsub=new e.t5(e.t6,e.t7),c=function(){var e=(0,a.default)(s.default.mark((function e(t,r){return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r===_.pinningNode.split("/").pop()&&_._pubsub.publish(M,{type:"PIN_DB",odbAddress:o,did:_.DID});case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),this.public=new A(this._orbitdb,this._3id.muportFingerprint+".public",this._linkProfile.bind(this),this._ensurePinningNodeConnected.bind(this),this._3id),this.private=new P(this._orbitdb,this._3id.muportFingerprint+".private",this._ensurePinningNodeConnected.bind(this),this._3id),e.next=31,Promise.all([this.public._load(),this.private._load()]);case 31:return u=e.sent,l=(0,i.default)(u,2),f=l[0],h=l[1],g=[],y={},v=!0,b=!1,w=function(){var e=(0,a.default)(s.default.mark((function e(t,r){var n;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b||(b=!0,setTimeout((function(){v=!1}),3e3)),"HAS_ENTRIES"!==r.type){e.next=12;break}if(r.odbAddress!==h||y[h]||(g.push(_.private._sync(r.numEntries)),y[h]=!0),r.odbAddress!==f||y[f]||(g.push(_.public._sync(r.numEntries)),y[f]=!0),v&&!0===r.odbAddress.includes("space")&&(_.spacesPubSubMessages[r.odbAddress]=r),2!==g.length){e.next=12;break}return n=g,g=[],e.next=10,Promise.all(n);case 10:_._boxSynced=!0,_._onSyncDoneCB();case 12:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),this._pubsub.subscribe(M,w,c),e.next=43,this._createRootStore(o,h,f,this.pinningNode);case 43:case"end":return e.stop()}}),e,this)}))),function(){return te.apply(this,arguments)})},{key:"_createRootStore",value:(ee=(0,a.default)(s.default.mark((function e(t,r,n){var i,o=this;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._rootStore.load();case 2:return e.next=4,this._rootStore.iterator({limit:-1}).collect();case 4:if((i=e.sent).find((function(e){return e.payload.value.odbAddress===n}))){e.next=8;break}return e.next=8,this._rootStore.add({odbAddress:n});case 8:if(i.find((function(e){return e.payload.value.odbAddress===r}))){e.next=11;break}return e.next=11,this._rootStore.add({odbAddress:r});case 11:this._publishRootStore(t),function(){var e=(0,a.default)(s.default.mark((function e(){return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.filter((function(e){return"address-link"===e.payload.value.type})).map((function(e){o._ipfs.dag.get(e.payload.value.data)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()();case 14:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return ee.apply(this,arguments)})},{key:"openSpace",value:(Q=(0,a.default)(s.default.mark((function e(t){var r,n=arguments;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.length>1&&void 0!==n[1]?n[1]:{},this.spaces[t]){e.next=23;break}return this.spaces[t]=new S(t,this._3id,this._orbitdb,this._rootStore,this._ensurePinningNodeConnected.bind(this)),e.prev=3,r=Object.assign({numEntriesMessages:this.spacesPubSubMessages},r),e.next=7,this.spaces[t].open(r);case 7:return e.next=9,this.isAddressLinked();case 9:if(e.sent){e.next=11;break}this.linkAddress();case 11:e.next=21;break;case 13:if(e.prev=13,e.t0=e.catch(3),delete this.spaces[t],!e.t0.message.includes("User denied message signature.")){e.next=20;break}throw new Error("User denied space consent.");case 20:throw new Error("An error occured while opening space: ",e.t0.message);case 21:e.next=24;break;case 23:r.onSyncDone&&r.onSyncDone();case 24:return e.abrupt("return",this.spaces[t]);case 25:case"end":return e.stop()}}),e,this,[[3,13]])}))),function(e){return Q.apply(this,arguments)})},{key:"onSyncDone",value:function(e){this._onSyncDoneCB=e,this._boxSynced&&this._onSyncDoneCB()}},{key:"_publishRootStore",value:(X=(0,a.default)(s.default.mark((function e(t){var r;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._3id.signJWT({rootStoreAddress:t});case 2:return r=e.sent,e.prev=3,e.next=6,T.fetchJson(this._serverUrl+"/odbAddress",{address_token:r});case 6:e.next=12;break;case 8:if(e.prev=8,e.t0=e.catch(3),e.t0.statusCode){e.next=12;break}throw new Error(e.t0);case 12:return e.abrupt("return",!0);case 13:case"end":return e.stop()}}),e,this,[[3,8]])}))),function(e){return X.apply(this,arguments)})},{key:"linkAddress",value:(Z=(0,a.default)(s.default.mark((function e(){var t,r=arguments;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=r.length>0&&void 0!==r[0]?r[0]:{}).proof){e.next=5;break}return e.next=4,this._writeAddressLink(t.proof);case 4:return e.abrupt("return");case 5:if(t.type&&t.type!==O){e.next=8;break}return e.next=8,this._linkProfile();case 8:case"end":return e.stop()}}),e,this)}))),function(){return Z.apply(this,arguments)})},{key:"linkAccount",value:(J=(0,a.default)(s.default.mark((function e(){var t,r=arguments;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:O,console.warn("linkAccount: deprecated, please use linkAddress going forward"),e.next=4,this.linkAddress(t);case 4:case"end":return e.stop()}}),e,this)}))),function(){return J.apply(this,arguments)})},{key:"removeAddressLink",value:(Y=(0,a.default)(s.default.mark((function e(t){var r,n;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=t.toLowerCase(),e.next=3,this.isAddressLinked({address:t});case 3:if(e.sent){e.next=6;break}throw new Error("removeAddressLink: link for given address does not exist");case 6:return r={address:t,type:"delete-address-link"},e.next=10,this._3id.signJWT(r,{expiresIn:3600});case 10:return n=e.sent,e.prev=11,e.next=14,T.fetchJson(this._serverUrl+"/linkdelete",{delete_token:n});case 14:e.next=20;break;case 16:if(e.prev=16,e.t0=e.catch(11),e.t0.statusCode){e.next=20;break}throw new Error(e.t0);case 20:return e.next=22,this._deleteAddressLink(t);case 22:return e.abrupt("return",!0);case 23:case"end":return e.stop()}}),e,this,[[11,16]])}))),function(e){return Y.apply(this,arguments)})},{key:"isAddressLinked",value:(W=(0,a.default)(s.default.mark((function e(){var t,r,n,i=arguments;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=i.length>0&&void 0!==i[0]?i[0]:{}).address&&(t.address=t.address.toLowerCase()),e.next=4,this._readAddressLinks();case 4:return r=e.sent,n=r.find((function(e){var r=!t.address||e.address===t.address;return t.type?r&&e.type===t.type:r})),e.abrupt("return",Boolean(n));case 7:case"end":return e.stop()}}),e,this)}))),function(){return W.apply(this,arguments)})},{key:"isAccountLinked",value:($=(0,a.default)(s.default.mark((function e(){var t,r=arguments;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:O,console.warn("isAccountLinked: deprecated, please use isAddressLinked going forward"),e.abrupt("return",this.isAddressLinked(t));case 3:case"end":return e.stop()}}),e,this)}))),function(){return $.apply(this,arguments)})},{key:"listAddressLinks",value:(G=(0,a.default)(s.default.mark((function e(){var t;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readAddressLinks();case 2:return t=e.sent,e.abrupt("return",t.reduce((function(e,t){var r=Object.assign({},t);return r.linkId=r.entry.hash,delete r.entry,r}),[]));case 4:case"end":return e.stop()}}),e,this)}))),function(){return G.apply(this,arguments)})},{key:"_linkProfile",value:(V=(0,a.default)(s.default.mark((function e(){var t,r,n,i;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._3id.managementAddress,e.next=3,this._readAddressLink(t);case 3:if(r=e.sent){e.next=19;break}return n=this.DID,e.prev=6,e.next=9,T.getLinkConsent(t,n,this._web3provider);case 9:i=e.sent,e.next=16;break;case 12:throw e.prev=12,e.t0=e.catch(6),console.log(e.t0),new Error("Link consent message must be signed before adding data, to link address to store");case 16:return r={version:1,type:O,message:i.msg,signature:i.sig,timestamp:i.timestamp},e.next=19,this._writeAddressLink(r);case 19:return e.next=21,this.public.get("proof_did");case 21:if(e.sent){e.next=29;break}return e.t1=this.public,e.next=25,this._3id.signJWT();case 25:return e.t2=e.sent,e.t3={noLink:!0},e.next=29,e.t1.set.call(e.t1,"proof_did",e.t2,e.t3);case 29:T.fetchJson(this._serverUrl+"/link",r).catch(console.error);case 30:case"end":return e.stop()}}),e,this,[[6,12]])}))),function(){return V.apply(this,arguments)})},{key:"_writeAddressLink",value:(q=(0,a.default)(s.default.mark((function e(t){var r,n;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ipfs.dag.put(t);case 2:return r=e.sent.toBaseEncodedString(),e.next=5,this._linkCIDExists(r);case 5:if(!e.sent){e.next=8;break}return e.abrupt("return");case 8:return n={type:"address-link",data:r},e.next=11,this._rootStore.add(n);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return q.apply(this,arguments)})},{key:"_linkCIDExists",value:(z=(0,a.default)(s.default.mark((function e(t){var r,n;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._rootStore.iterator({limit:-1}).collect();case 2:return r=e.sent,n=r.filter((function(e){return"address-link"===e.payload.value.type})),e.abrupt("return",n.find((function(e){return e.data===t})));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return z.apply(this,arguments)})},{key:"_deleteAddressLink",value:(F=(0,a.default)(s.default.mark((function e(t){var r;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=t.toLowerCase(),e.next=3,this._readAddressLink(t);case 3:if(r=e.sent){e.next=6;break}throw new Error("_deleteAddressLink: link for given address does not exist");case 6:return e.abrupt("return",this._rootStore.remove(r.entry.hash));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return F.apply(this,arguments)})},{key:"_readAddressLinks",value:(U=(0,a.default)(s.default.mark((function e(){var t,r,n,i=this;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._rootStore.iterator({limit:-1}).collect();case 2:return t=e.sent,r=t.filter((function(e){return"address-link"===e.payload.value.type})),n=r.map(function(){var e=(0,a.default)(s.default.mark((function e(t){var r;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i._ipfs.dag.get(t.payload.value.data);case 2:if((r=e.sent.value).address){e.next=7;break}return e.next=6,T.recoverPersonalSign(r.message,r.signature);case 6:r.address=e.sent;case 7:return r.entry=t,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",Promise.all(n));case 6:case"end":return e.stop()}}),e,this)}))),function(){return U.apply(this,arguments)})},{key:"_readAddressLink",value:(K=(0,a.default)(s.default.mark((function e(t){var r;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=t.toLowerCase(),e.next=3,this._readAddressLinks();case 3:return r=e.sent,e.abrupt("return",r.find((function(e){return e.address.toLowerCase()===t})));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return K.apply(this,arguments)})},{key:"_ensurePinningNodeConnected",value:(D=(0,a.default)(s.default.mark((function e(t,r){var n,i=this;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ipfs.pubsub.peers(t);case 2:e.sent.find((function(e){return e===i.pinningNode.split("/").pop()}))||(this._ipfs.swarm.connect(this.pinningNode,(function(){})),n=this._rootStore.address.toString(),r?this._pubsub.publish(M,{type:"SYNC_DB",odbAddress:t,thread:!0}):this._pubsub.publish(M,{type:"PIN_DB",odbAddress:n}));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return D.apply(this,arguments)})},{key:"close",value:(R=(0,a.default)(s.default.mark((function e(){return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._orbitdb.stop();case 2:return e.next=4,this._pubsub.disconnect();case 4:k=null;case 5:case"end":return e.stop()}}),e,this)}))),function(){return R.apply(this,arguments)})},{key:"logout",value:(C=(0,a.default)(s.default.mark((function e(){var t;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.close();case 2:this._3id.logout(),t=this._3id.managementAddress,f.remove("linkConsent_"+t);case 5:case"end":return e.stop()}}),e,this)}))),function(){return C.apply(this,arguments)})},{key:"DID",get:function(){return this._3id.muportDID}}],[{key:"getProfile",value:(w=(0,a.default)(s.default.mark((function e(t){var r,n,i,o,a=arguments;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.length>1&&void 0!==a[1]?a[1]:{},n=r.metadata,!(r=Object.assign({useCacheService:!0},r)).useCacheService){e.next=9;break}return e.next=6,I.getProfile(t,r.profileServer,{metadata:n});case 6:i=e.sent,e.next=15;break;case 9:if(!n){e.next=11;break}throw new Error("getting metadata is not yet supported outside of the API");case 11:return o=t.toLowerCase(),e.next=14,this._getProfileOrbit(o,r);case 14:i=e.sent;case 15:return e.abrupt("return",i);case 16:case"end":return e.stop()}}),e,this)}))),function(e){return w.apply(this,arguments)})},{key:"getProfiles",value:(b=(0,a.default)(s.default.mark((function e(t){var r,n=arguments;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},e.abrupt("return",I.getProfiles(t,r));case 2:case"end":return e.stop()}}),e)}))),function(e){return b.apply(this,arguments)})},{key:"getSpace",value:(v=(0,a.default)(s.default.mark((function e(t,r){var n,i=arguments;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>2&&void 0!==i[2]?i[2]:{},e.abrupt("return",I.getSpace(t,r,n.profileServer,n));case 2:case"end":return e.stop()}}),e)}))),function(e,t){return v.apply(this,arguments)})},{key:"getThread",value:(y=(0,a.default)(s.default.mark((function e(t,r,n,i){var o,a=arguments;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.length>4&&void 0!==a[4]?a[4]:{},e.abrupt("return",I.getThread(t,r,n,i,o));case 2:case"end":return e.stop()}}),e)}))),function(e,t,r,n){return y.apply(this,arguments)})},{key:"getThreadByAddress",value:(g=(0,a.default)(s.default.mark((function e(t){var r,n=arguments;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},e.abrupt("return",I.getThreadByAddress(t,r));case 2:case"end":return e.stop()}}),e)}))),function(e){return g.apply(this,arguments)})},{key:"getConfig",value:(h=(0,a.default)(s.default.mark((function e(t){var r,n=arguments;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},e.abrupt("return",I.getConfig(t,r));case 2:case"end":return e.stop()}}),e)}))),function(e){return h.apply(this,arguments)})},{key:"listSpaces",value:(l=(0,a.default)(s.default.mark((function e(t){var r,n=arguments;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},e.abrupt("return",I.listSpaces(t,r.profileServer));case 2:case"end":return e.stop()}}),e)}))),function(e){return l.apply(this,arguments)})},{key:"_getProfileOrbit",value:(o=(0,a.default)(s.default.mark((function e(t){var r,n,i,o,c,u,l,d,f,h,m,g=arguments;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=g.length>1&&void 0!==g[1]?g[1]:{},!j.isMuportDID(t)){e.next=3;break}throw new Error("DID are supported in the cached version only");case 3:return e.next=5,I.getRootStoreAddress(t.toLowerCase(),r.addressServer);case 5:if(n=e.sent,!_){e.next=12;break}i=_,e.next=15;break;case 12:return e.next=14,H(r.ipfs,r.iframeStore,r.ipfsOptions);case 14:i=e.sent;case 15:if(k?o=k:(c=null,o=new p(i,r.orbitPath,{cache:c})),u=r.pinningNode||N,i.swarm.connect(u,(function(){})),l=new A(o),!n){e.next=41;break}return e.next=22,o.open(n);case 22:return d=e.sent,f=new Promise((function(e,t){d.events.on("ready",e)})),d.load(),e.next=27,f;case 27:if(d.iterator({limit:-1}).collect().length){e.next=30;break}return e.next=30,new Promise((function(e,t){d.events.on("replicate.progress",(function(t,r,n,i,s){i===s&&d.events.on("replicated",e)}))}));case 30:return h=d.iterator({limit:-1}).collect().find((function(e){return"public"===e.payload.value.odbAddress.split(".")[1]})),e.next=33,l._load(h.payload.value.odbAddress);case 33:return e.next=35,l._sync();case 35:return m=l.all(),function(){var e=(0,a.default)(s.default.mark((function e(){return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.close();case 2:return e.next=4,l.close();case 4:case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),e.abrupt("return",m);case 41:return e.abrupt("return",null);case 42:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})},{key:"profileGraphQL",value:(n=(0,a.default)(s.default.mark((function e(t){var r,n=arguments;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},e.abrupt("return",I.profileGraphQL(t,r.graphqlServer));case 2:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})},{key:"getVerifiedAccounts",value:(r=(0,a.default)(s.default.mark((function e(t){return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I.getVerifiedAccounts(t));case 1:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)})},{key:"openBox",value:(t=(0,a.default)(s.default.mark((function t(r,n){var i,o,a,c,u=arguments;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=u.length>2&&void 0!==u[2]?u[2]:{},t.t0=_,t.t0){t.next=6;break}return t.next=5,H(i.ipfs,i.iframeStore,i.ipfsOptions);case 5:t.t0=t.sent;case 6:return o=t.t0,_=o,t.next=10,x.getIdFromEthAddress(r,n,o,i);case 10:return a=t.sent,c=new e(a,n,o,i),t.next=14,c._load(i);case 14:return t.abrupt("return",c);case 15:case"end":return t.stop()}}),t)}))),function(e,r){return t.apply(this,arguments)})},{key:"isLoggedIn",value:function(e){return x.isLoggedIn(e)}}]),e}();function H(e,t,r){return K.apply(this,arguments)}function K(){return(K=(0,a.default)(s.default.mark((function e(t,r,n){return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&r&&console.log("Warning: iframeStore true, orbit db cache in iframe, but the given ipfs object is being used, and may not be running in same iframe."),!t){e.next=5;break}return e.abrupt("return",t);case 5:return e.abrupt("return",new Promise((function(e,r){(t=new h(n||R)).on("error",(function(e){console.error(e),r(e)})),t.on("ready",(function(){return e(t)}))})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}D.idUtils=j,t.exports=D},{file:"/home/circleci/project/node_modules/3box/lib/3box.js"}],[2204,{"./core":2203,"./helpers":2205},function(e,t,r){var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(r,"__esModule",{value:!0});
/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017 Joachim Wester
 * MIT license
 */
var i=e("./helpers"),s=e("./core"),o=e("./core");r.applyOperation=o.applyOperation,r.applyPatch=o.applyPatch,r.applyReducer=o.applyReducer,r.getValueByPointer=o.getValueByPointer,r.validate=o.validate,r.validator=o.validator;var a=e("./helpers");r.JsonPatchError=a.PatchError,r.deepClone=a._deepClone,r.escapePathComponent=a.escapePathComponent,r.unescapePathComponent=a.unescapePathComponent;var c=new WeakMap,u=function(e){this.observers=new Map,this.obj=e},l=function(e,t){this.callback=e,this.observer=t};function d(e,t){t.unobserve()}function f(e,t){var r,n=function(e){return c.get(e)}(e);if(n){var s=function(e,t){return e.observers.get(t)}(n,t);r=s&&s.observer}else n=new u(e),c.set(e,n);if(r)return r;if(r={},n.value=i._deepClone(e),t){r.callback=t,r.next=null;var o=function(){h(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(o)};"undefined"!=typeof window&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=[],r.object=e,r.unobserve=function(){h(r),clearTimeout(r.next),function(e,t){e.observers.delete(t.callback)}(n,r),"undefined"!=typeof window&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},n.observers.set(t,new l(t,r)),r}function h(e,t){void 0===t&&(t=!1);var r=c.get(e.object);p(r.value,e.object,e.patches,"",t),e.patches.length&&s.applyPatch(r.value,e.patches);var n=e.patches;return n.length>0&&(e.patches=[],e.callback&&e.callback(n)),n}function p(e,t,r,n,s){if(t!==e){"function"==typeof t.toJSON&&(t=t.toJSON());for(var o=i._objectKeys(t),a=i._objectKeys(e),c=!1,u=a.length-1;u>=0;u--){var l=e[f=a[u]];if(!i.hasOwnProperty(t,f)||void 0===t[f]&&void 0!==l&&!1===Array.isArray(t))Array.isArray(e)===Array.isArray(t)?(s&&r.push({op:"test",path:n+"/"+i.escapePathComponent(f),value:i._deepClone(l)}),r.push({op:"remove",path:n+"/"+i.escapePathComponent(f)}),c=!0):(s&&r.push({op:"test",path:n,value:e}),r.push({op:"replace",path:n,value:t}),!0);else{var d=t[f];"object"==typeof l&&null!=l&&"object"==typeof d&&null!=d?p(l,d,r,n+"/"+i.escapePathComponent(f),s):l!==d&&(!0,s&&r.push({op:"test",path:n+"/"+i.escapePathComponent(f),value:i._deepClone(l)}),r.push({op:"replace",path:n+"/"+i.escapePathComponent(f),value:i._deepClone(d)}))}}if(c||o.length!=a.length)for(u=0;u<o.length;u++){var f=o[u];i.hasOwnProperty(e,f)||void 0===t[f]||r.push({op:"add",path:n+"/"+i.escapePathComponent(f),value:i._deepClone(t[f])})}}}function m(e,t,r){void 0===r&&(r=!1);var n=[];return p(e,t,n,"",r),n}r.unobserve=d,r.observe=f,r.generate=h,r.compare=m;var g=e("./core"),y=e("./helpers");r.default=n({},g,{unobserve:d,observe:f,generate:h,compare:m,JsonPatchError:y.PatchError,deepClone:i._deepClone,escapePathComponent:i.escapePathComponent,unescapePathComponent:y.unescapePathComponent})},{file:"/home/circleci/project/node_modules/fast-json-patch/lib/duplex.js"}],[1953,{_process:3225},function(e,t,r){(function(e,r){
/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.5.7
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2016
 * @license MIT
 */
!function(){"use strict";var n="object"==typeof window?window:{};!n.JS_SHA3_NO_NODE_JS&&"object"==typeof e&&e.versions&&e.versions.node&&(n=r);for(var i=!n.JS_SHA3_NO_COMMON_JS&&"object"==typeof t&&t.exports,s="0123456789abcdef".split(""),o=[0,8,16,24],a=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],c=[224,256,384,512],u=["hex","buffer","arrayBuffer","array"],l=function(e,t,r){return function(n){return new _(e,t,e).update(n)[r]()}},d=function(e,t,r){return function(n,i){return new _(e,t,i).update(n)[r]()}},f=function(e,t){var r=l(e,t,"hex");r.create=function(){return new _(e,t,e)},r.update=function(e){return r.create().update(e)};for(var n=0;n<u.length;++n){var i=u[n];r[i]=l(e,t,i)}return r},h=[{name:"keccak",padding:[1,256,65536,16777216],bits:c,createMethod:f},{name:"sha3",padding:[6,1536,393216,100663296],bits:c,createMethod:f},{name:"shake",padding:[31,7936,2031616,520093696],bits:[128,256],createMethod:function(e,t){var r=d(e,t,"hex");r.create=function(r){return new _(e,t,r)},r.update=function(e,t){return r.create(t).update(e)};for(var n=0;n<u.length;++n){var i=u[n];r[i]=d(e,t,i)}return r}}],p={},m=[],g=0;g<h.length;++g)for(var y=h[g],v=y.bits,b=0;b<v.length;++b){var w=y.name+"_"+v[b];m.push(w),p[w]=y.createMethod(v[b],y.padding)}function _(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}_.prototype.update=function(e){var t="string"!=typeof e;t&&e.constructor===ArrayBuffer&&(e=new Uint8Array(e));for(var r,n,i=e.length,s=this.blocks,a=this.byteCount,c=this.blockCount,u=0,l=this.s;u<i;){if(this.reset)for(this.reset=!1,s[0]=this.block,r=1;r<c+1;++r)s[r]=0;if(t)for(r=this.start;u<i&&r<a;++u)s[r>>2]|=e[u]<<o[3&r++];else for(r=this.start;u<i&&r<a;++u)(n=e.charCodeAt(u))<128?s[r>>2]|=n<<o[3&r++]:n<2048?(s[r>>2]|=(192|n>>6)<<o[3&r++],s[r>>2]|=(128|63&n)<<o[3&r++]):n<55296||n>=57344?(s[r>>2]|=(224|n>>12)<<o[3&r++],s[r>>2]|=(128|n>>6&63)<<o[3&r++],s[r>>2]|=(128|63&n)<<o[3&r++]):(n=65536+((1023&n)<<10|1023&e.charCodeAt(++u)),s[r>>2]|=(240|n>>18)<<o[3&r++],s[r>>2]|=(128|n>>12&63)<<o[3&r++],s[r>>2]|=(128|n>>6&63)<<o[3&r++],s[r>>2]|=(128|63&n)<<o[3&r++]);if(this.lastByteIndex=r,r>=a){for(this.start=r-a,this.block=s[c],r=0;r<c;++r)l[r]^=s[r];k(l),this.reset=!0}else this.start=r}return this},_.prototype.finalize=function(){var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,n=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[r],t=1;t<r+1;++t)e[t]=0;for(e[r-1]|=2147483648,t=0;t<r;++t)n[t]^=e[t];k(n)},_.prototype.toString=_.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,a=0,c="";a<n;){for(o=0;o<t&&a<n;++o,++a)e=r[o],c+=s[e>>4&15]+s[15&e]+s[e>>12&15]+s[e>>8&15]+s[e>>20&15]+s[e>>16&15]+s[e>>28&15]+s[e>>24&15];a%t==0&&(k(r),o=0)}return i&&(e=r[o],i>0&&(c+=s[e>>4&15]+s[15&e]),i>1&&(c+=s[e>>12&15]+s[e>>8&15]),i>2&&(c+=s[e>>20&15]+s[e>>16&15])),c},_.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,s=0,o=0,a=this.outputBits>>3;e=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(a);for(var c=new Uint32Array(e);o<n;){for(s=0;s<t&&o<n;++s,++o)c[o]=r[s];o%t==0&&k(r)}return i&&(c[s]=r[s],e=e.slice(0,a)),e},_.prototype.buffer=_.prototype.arrayBuffer,_.prototype.digest=_.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,n=this.s,i=this.outputBlocks,s=this.extraBytes,o=0,a=0,c=[];a<i;){for(o=0;o<r&&a<i;++o,++a)e=a<<2,t=n[o],c[e]=255&t,c[e+1]=t>>8&255,c[e+2]=t>>16&255,c[e+3]=t>>24&255;a%r==0&&k(n)}return s&&(e=a<<2,t=n[o],s>0&&(c[e]=255&t),s>1&&(c[e+1]=t>>8&255),s>2&&(c[e+2]=t>>16&255)),c};var k=function(e){var t,r,n,i,s,o,c,u,l,d,f,h,p,m,g,y,v,b,w,_,k,x,A,P,E,S,T,j,C,I,O,B,N,M,R,L,D,H,K,U,F,z,q,V,G,$,W,Y,J,Z,X,Q,ee,te,re,ne,ie,se,oe,ae,ce,ue,le;for(n=0;n<48;n+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],s=e[1]^e[11]^e[21]^e[31]^e[41],o=e[2]^e[12]^e[22]^e[32]^e[42],c=e[3]^e[13]^e[23]^e[33]^e[43],u=e[4]^e[14]^e[24]^e[34]^e[44],l=e[5]^e[15]^e[25]^e[35]^e[45],d=e[6]^e[16]^e[26]^e[36]^e[46],f=e[7]^e[17]^e[27]^e[37]^e[47],t=(h=e[8]^e[18]^e[28]^e[38]^e[48])^(o<<1|c>>>31),r=(p=e[9]^e[19]^e[29]^e[39]^e[49])^(c<<1|o>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=i^(u<<1|l>>>31),r=s^(l<<1|u>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=o^(d<<1|f>>>31),r=c^(f<<1|d>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=u^(h<<1|p>>>31),r=l^(p<<1|h>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=d^(i<<1|s>>>31),r=f^(s<<1|i>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,m=e[0],g=e[1],$=e[11]<<4|e[10]>>>28,W=e[10]<<4|e[11]>>>28,j=e[20]<<3|e[21]>>>29,C=e[21]<<3|e[20]>>>29,ae=e[31]<<9|e[30]>>>23,ce=e[30]<<9|e[31]>>>23,z=e[40]<<18|e[41]>>>14,q=e[41]<<18|e[40]>>>14,M=e[2]<<1|e[3]>>>31,R=e[3]<<1|e[2]>>>31,y=e[13]<<12|e[12]>>>20,v=e[12]<<12|e[13]>>>20,Y=e[22]<<10|e[23]>>>22,J=e[23]<<10|e[22]>>>22,I=e[33]<<13|e[32]>>>19,O=e[32]<<13|e[33]>>>19,ue=e[42]<<2|e[43]>>>30,le=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,re=e[4]<<30|e[5]>>>2,L=e[14]<<6|e[15]>>>26,D=e[15]<<6|e[14]>>>26,b=e[25]<<11|e[24]>>>21,w=e[24]<<11|e[25]>>>21,Z=e[34]<<15|e[35]>>>17,X=e[35]<<15|e[34]>>>17,B=e[45]<<29|e[44]>>>3,N=e[44]<<29|e[45]>>>3,P=e[6]<<28|e[7]>>>4,E=e[7]<<28|e[6]>>>4,ne=e[17]<<23|e[16]>>>9,ie=e[16]<<23|e[17]>>>9,H=e[26]<<25|e[27]>>>7,K=e[27]<<25|e[26]>>>7,_=e[36]<<21|e[37]>>>11,k=e[37]<<21|e[36]>>>11,Q=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,V=e[8]<<27|e[9]>>>5,G=e[9]<<27|e[8]>>>5,S=e[18]<<20|e[19]>>>12,T=e[19]<<20|e[18]>>>12,se=e[29]<<7|e[28]>>>25,oe=e[28]<<7|e[29]>>>25,U=e[38]<<8|e[39]>>>24,F=e[39]<<8|e[38]>>>24,x=e[48]<<14|e[49]>>>18,A=e[49]<<14|e[48]>>>18,e[0]=m^~y&b,e[1]=g^~v&w,e[10]=P^~S&j,e[11]=E^~T&C,e[20]=M^~L&H,e[21]=R^~D&K,e[30]=V^~$&Y,e[31]=G^~W&J,e[40]=te^~ne&se,e[41]=re^~ie&oe,e[2]=y^~b&_,e[3]=v^~w&k,e[12]=S^~j&I,e[13]=T^~C&O,e[22]=L^~H&U,e[23]=D^~K&F,e[32]=$^~Y&Z,e[33]=W^~J&X,e[42]=ne^~se&ae,e[43]=ie^~oe&ce,e[4]=b^~_&x,e[5]=w^~k&A,e[14]=j^~I&B,e[15]=C^~O&N,e[24]=H^~U&z,e[25]=K^~F&q,e[34]=Y^~Z&Q,e[35]=J^~X&ee,e[44]=se^~ae&ue,e[45]=oe^~ce&le,e[6]=_^~x&m,e[7]=k^~A&g,e[16]=I^~B&P,e[17]=O^~N&E,e[26]=U^~z&M,e[27]=F^~q&R,e[36]=Z^~Q&V,e[37]=X^~ee&G,e[46]=ae^~ue&te,e[47]=ce^~le&re,e[8]=x^~m&y,e[9]=A^~g&v,e[18]=B^~P&S,e[19]=N^~E&T,e[28]=z^~M&L,e[29]=q^~R&D,e[38]=Q^~V&$,e[39]=ee^~G&W,e[48]=ue^~te&ne,e[49]=le^~re&ie,e[0]^=a[n],e[1]^=a[n+1]};if(i)t.exports=p;else for(g=0;g<m.length;++g)n[m[g]]=p[m[g]]}()}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{file:"/home/circleci/project/node_modules/eth-ens-namehash/node_modules/js-sha3/src/sha3.js"}],[2266,{"./idna-map":2265,punycode:1715},function(e,t,r){var n,i;n=this,i=function(e,t){function r(r,n,i){for(var s=[],o=e.ucs2.decode(r),a=0;a<o.length;a++){var c=o[a],u=e.ucs2.encode([o[a]]),l=t.mapChar(c),d=l>>23,f=l>>21&3,h=l>>5&65535,p=31&l,m=t.mapStr.substr(h,p);if(0===f||n&&1&d)throw new Error("Illegal char "+u);1===f?s.push(m):2===f?s.push(i?m:u):3===f&&s.push(u)}return s.join("").normalize("NFC")}function n(t,n,s){void 0===s&&(s=!1);var o=r(t,s,n).split(".");return(o=o.map((function(t){return t.startsWith("xn--")?i(t=e.decode(t.substring(4)),s,!1):i(t,s,n),t}))).join(".")}function i(e,n,i){if("-"===e[2]&&"-"===e[3])throw new Error("Failed to validate "+e);if(e.startsWith("-")||e.endsWith("-"))throw new Error("Failed to validate "+e);if(e.includes("."))throw new Error("Failed to validate "+e);if(r(e,n,i)!==e)throw new Error("Failed to validate "+e);var s=e.codePointAt(0);if(t.mapChar(s)&2<<23)throw new Error("Label contains illegal character: "+s)}return{toUnicode:function(e,t){return void 0===t&&(t={}),n(e,!1,"useStd3ASCII"in t&&t.useStd3ASCII)},toAscii:function(t,r){void 0===r&&(r={});var i,s=!("transitional"in r)||r.transitional,o="useStd3ASCII"in r&&r.useStd3ASCII,a="verifyDnsLength"in r&&r.verifyDnsLength,c=n(t,s,o).split(".").map(e.toASCII),u=c.join(".");if(a){if(u.length<1||u.length>253)throw new Error("DNS name has wrong length: "+u);for(i=0;i<c.length;i++){var l=c[i];if(l.length<1||l.length>63)throw new Error("DNS label has wrong length: "+l)}}return u}}},"function"==typeof define&&define.amd?define(["punycode","./idna-map"],(function(e,t){return i(e,t)})):"object"==typeof r?t.exports=i(e("punycode"),e("./idna-map")):n.uts46=i(n.punycode,n.idna_map)},{file:"/home/circleci/project/node_modules/idna-uts46-hx/uts46.js"}],[256,{cids:230},function(e,t,r){const n=e("cids");r.cidForWeb=e=>{let t=new n(e);0===t.version&&(t=t.toV1());let r=t.toString("base32");if(r.length>63){const e=t.toString("base36");if(e.length<=63)return e;throw new TypeError("CID is longer than DNS limit of 63 characters and is not compatible with public gateways")}return r};r.cidV0ToV1Base32=e=>{let t=new n(e);return 0===t.version&&(t=t.toV1()),t.toString("base32")}},{file:"/home/circleci/project/node_modules/@ensdomains/content-hash/src/helpers.js"}],[248,{"./constants":247,buffer:1713,multibase:233,varint:3840,"web-encoding":3844},function(e,t,r){"use strict";const{Buffer:n}=e("buffer"),i=e("multibase"),s=e("varint"),{names:o}=e("./constants"),{TextDecoder:a}=e("web-encoding"),c=new a,u={};for(const e in o)u[o[e]]=e;function l(e){r.decode(e)}r.names=o,r.codes=Object.freeze(u),r.toHexString=function(e){if(!(e instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return(n.isBuffer(e)?e:n.from(e.buffer,e.byteOffset,e.byteLength)).toString("hex")},r.fromHexString=function(e){return n.from(e,"hex")},r.toB58String=function(e){if(!(e instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return c.decode(i.encode("base58btc",e)).slice(1)},r.fromB58String=function(e){const t=e instanceof Uint8Array?c.decode(e):e;return i.decode("z"+t)},r.decode=function(e){if(!(e instanceof Uint8Array))throw new Error("multihash must be a Uint8Array");let t=n.isBuffer(e)?e:n.from(e.buffer,e.byteOffset,e.byteLength);if(t.length<2)throw new Error("multihash too short. must be > 2 bytes.");const i=s.decode(t);if(!r.isValidCode(i))throw new Error(`multihash unknown function code: 0x${i.toString(16)}`);t=t.slice(s.decode.bytes);const o=s.decode(t);if(o<0)throw new Error(`multihash invalid length: ${o}`);if(t=t.slice(s.decode.bytes),t.length!==o)throw new Error(`multihash length inconsistent: 0x${t.toString("hex")}`);return{code:i,name:u[i],length:o,digest:t}},r.encode=function(e,t,i){if(!e||void 0===t)throw new Error("multihash encode requires at least two args: digest, code");const o=r.coerceCode(t);if(!(e instanceof Uint8Array))throw new Error("digest should be a Uint8Array");if(null==i&&(i=e.length),i&&e.length!==i)throw new Error("digest length should be equal to specified length.");const a=s.encode(o),c=s.encode(i),u=n.alloc(a.length+c.length+e.length);return u.set(a,0),u.set(c,a.length),u.set(e,a.length+c.length),u},r.coerceCode=function(e){let t=e;if("string"==typeof e){if(void 0===o[e])throw new Error(`Unrecognized hash function named: ${e}`);t=o[e]}if("number"!=typeof t)throw new Error(`Hash function code should be a number. Got: ${t}`);if(void 0===u[t]&&!r.isAppCode(t))throw new Error(`Unrecognized function code: ${t}`);return t},r.isAppCode=function(e){return e>0&&e<16},r.isValidCode=function(e){return!!r.isAppCode(e)||!!u[e]},r.validate=l,r.prefix=function(e){return l(e),n.from(e.buffer,e.byteOffset,2)}},{file:"/home/circleci/project/node_modules/@ensdomains/content-hash/node_modules/multihashes/src/index.js"}],[258,{buffer:1713,cids:230,"js-base64":2594,multihashes:248},function(e,t,r){(function(t){const n=e("cids"),i=e("multihashes"),s=e("js-base64"),o=e=>{let t=e.slice(0,2),r=e.slice(2),n="";return n="0x"===t?r:e,i.fromHexString(n)},a=e=>{try{const{multihash:t}=e;if(t.length<38){const e=i.decode(t);if("identity"===e.name&&e.length<36)return!1}return!0}catch(e){return!1}return!1},c={skynet:e=>s.toUint8Array(e),swarm:e=>{const t=i.encode(o(e),"keccak-256");return new n(1,"swarm-manifest",t).bytes},ipfs:e=>new n(e).toV1().bytes,ipns:e=>{const t=new n(e);if(!a(t))throw Error("ipns-ns allows only valid cryptographic libp2p-key identifiers, try using ED25519 pubkey instead");return new n(1,"libp2p-key",t.multihash).bytes},utf8:e=>t.from(e,"utf8")},u={hexMultiHash:e=>{const t=new n(e);return i.decode(t.multihash).digest.toString("hex")},ipfs:e=>{const t=new n(e).toV1();return t.toString("libp2p-key"===t.codec?"base36":"base32")},ipns:e=>{const t=new n(e).toV1();return a(t)?t.toString("base36"):(console.warn("[ensdomains/content-hash] use of non-cryptographic identifiers in ipns-ns is deprecated and will be removed, migrate to ED25519 libp2p-key"),String(i.decode(new n(e).multihash).digest))},utf8:e=>e.toString("utf8"),base64:e=>s.fromUint8Array(e,!0)},l={"skynet-ns":{encode:c.skynet,decode:u.base64},"swarm-ns":{encode:c.swarm,decode:u.hexMultiHash},"ipfs-ns":{encode:c.ipfs,decode:u.ipfs},"ipns-ns":{encode:c.ipns,decode:u.ipns},default:{encode:c.utf8,decode:u.utf8}};r.hexStringToBuffer=o,r.profiles=l}).call(this,e("buffer").Buffer)},{file:"/home/circleci/project/node_modules/@ensdomains/content-hash/src/profiles.js"}],[242,{"./constants":241,"./int-table":243,"./print":244,"./util":245,"./varint-table":246,"uint8arrays/concat":249,varint:238},function(e,t,r){"use strict";const n=e("varint"),i=e("./int-table"),s=e("./varint-table"),o=e("./util"),a=e("uint8arrays/concat");const c=e("./constants"),u=e("./print");t.exports={addPrefix:function(e,t){let r;if(e instanceof Uint8Array)r=o.varintUint8ArrayEncode(e);else{if(!s[e])throw new Error("multicodec not recognized");r=s[e]}return a([r,t],r.length+t.length)},rmPrefix:function(e){return n.decode(e),e.slice(n.decode.bytes)},getCodec:function(e){const t=n.decode(e),r=i.get(t);if(void 0===r)throw new Error(`Code ${t} not found`);return r},getName:function(e){return i.get(e)},getNumber:function(e){const t=s[e];if(void 0===t)throw new Error("Codec `"+e+"` not found");return n.decode(t)},getCode:function(e){return n.decode(e)},getCodeVarint:function(e){const t=s[e];if(void 0===t)throw new Error("Codec `"+e+"` not found");return t},getVarint:function(e){return n.encode(e)},print:u,...c}},{file:"/home/circleci/project/node_modules/@ensdomains/content-hash/node_modules/multicodec/src/index.js"}],[2019,{},function(e,t,r){t.exports=function(e){return(t,r,n,i)=>{const s=e[t.method];return void 0===s?n():"function"==typeof s?s(t,r,n,i):(r.result=s,i())}}},{file:"/home/circleci/project/node_modules/eth-json-rpc-middleware/node_modules/json-rpc-engine/src/createScaffoldMiddleware.js"}],[1971,{"./base-filter":1972},function(e,t,r){const n=e("./base-filter");t.exports=class extends n{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}}},{file:"/home/circleci/project/node_modules/eth-json-rpc-filters/base-filter-history.js"}],[1972,{"safe-event-emitter":3606},function(e,t,r){const n=e("safe-event-emitter");t.exports=class extends n{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach((e=>this.emit("update",e)))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}}},{file:"/home/circleci/project/node_modules/eth-json-rpc-filters/base-filter.js"}],[2835,{},function(e,t,r){(function(e){var n="__lodash_hash_undefined__",i=9007199254740991,s="[object Arguments]",o="[object Array]",a="[object Boolean]",c="[object Date]",u="[object Error]",l="[object Function]",d="[object Map]",f="[object Number]",h="[object Object]",p="[object Promise]",m="[object RegExp]",g="[object Set]",y="[object String]",v="[object Symbol]",b="[object WeakMap]",w="[object ArrayBuffer]",_="[object DataView]",k=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,x=/^\w*$/,A=/^\./,P=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,E=/\\(\\)?/g,S=/^\[object .+?Constructor\]$/,T=/^(?:0|[1-9]\d*)$/,j={};j["[object Float32Array]"]=j["[object Float64Array]"]=j["[object Int8Array]"]=j["[object Int16Array]"]=j["[object Int32Array]"]=j["[object Uint8Array]"]=j["[object Uint8ClampedArray]"]=j["[object Uint16Array]"]=j["[object Uint32Array]"]=!0,j[s]=j[o]=j[w]=j[a]=j[_]=j[c]=j[u]=j[l]=j[d]=j[f]=j[h]=j[m]=j[g]=j[y]=j[b]=!1;var C="object"==typeof e&&e&&e.Object===Object&&e,I="object"==typeof self&&self&&self.Object===Object&&self,O=C||I||Function("return this")(),B="object"==typeof r&&r&&!r.nodeType&&r,N=B&&"object"==typeof t&&t&&!t.nodeType&&t,M=N&&N.exports===B&&C.process,R=function(){try{return M&&M.binding("util")}catch(e){}}(),L=R&&R.isTypedArray;function D(e,t){for(var r=-1,n=e?e.length:0,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function H(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function K(e,t){for(var r=-1,n=e?e.length:0;++r<n;)if(t(e[r],r,e))return!0;return!1}function U(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function F(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function z(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var q,V,G,$=Array.prototype,W=Function.prototype,Y=Object.prototype,J=O["__core-js_shared__"],Z=(q=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||""))?"Symbol(src)_1."+q:"",X=W.toString,Q=Y.hasOwnProperty,ee=Y.toString,te=RegExp("^"+X.call(Q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),re=O.Symbol,ne=O.Uint8Array,ie=Y.propertyIsEnumerable,se=$.splice,oe=re?re.isConcatSpreadable:void 0,ae=(V=Object.keys,G=Object,function(e){return V(G(e))}),ce=qe(O,"DataView"),ue=qe(O,"Map"),le=qe(O,"Promise"),de=qe(O,"Set"),fe=qe(O,"WeakMap"),he=qe(Object,"create"),pe=Qe(ce),me=Qe(ue),ge=Qe(le),ye=Qe(de),ve=Qe(fe),be=re?re.prototype:void 0,we=be?be.valueOf:void 0,_e=be?be.toString:void 0;function ke(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function xe(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ae(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Pe(e){var t=-1,r=e?e.length:0;for(this.__data__=new Ae;++t<r;)this.add(e[t])}function Ee(e){this.__data__=new xe(e)}function Se(e,t){var r=nt(e)||rt(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,i=!!n;for(var s in e)!t&&!Q.call(e,s)||i&&("length"==s||$e(s,n))||r.push(s);return r}function Te(e,t){for(var r=e.length;r--;)if(tt(e[r][0],t))return r;return-1}ke.prototype.clear=function(){this.__data__=he?he(null):{}},ke.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},ke.prototype.get=function(e){var t=this.__data__;if(he){var r=t[e];return r===n?void 0:r}return Q.call(t,e)?t[e]:void 0},ke.prototype.has=function(e){var t=this.__data__;return he?void 0!==t[e]:Q.call(t,e)},ke.prototype.set=function(e,t){return this.__data__[e]=he&&void 0===t?n:t,this},xe.prototype.clear=function(){this.__data__=[]},xe.prototype.delete=function(e){var t=this.__data__,r=Te(t,e);return!(r<0)&&(r==t.length-1?t.pop():se.call(t,r,1),!0)},xe.prototype.get=function(e){var t=this.__data__,r=Te(t,e);return r<0?void 0:t[r][1]},xe.prototype.has=function(e){return Te(this.__data__,e)>-1},xe.prototype.set=function(e,t){var r=this.__data__,n=Te(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},Ae.prototype.clear=function(){this.__data__={hash:new ke,map:new(ue||xe),string:new ke}},Ae.prototype.delete=function(e){return ze(this,e).delete(e)},Ae.prototype.get=function(e){return ze(this,e).get(e)},Ae.prototype.has=function(e){return ze(this,e).has(e)},Ae.prototype.set=function(e,t){return ze(this,e).set(e,t),this},Pe.prototype.add=Pe.prototype.push=function(e){return this.__data__.set(e,n),this},Pe.prototype.has=function(e){return this.__data__.has(e)},Ee.prototype.clear=function(){this.__data__=new xe},Ee.prototype.delete=function(e){return this.__data__.delete(e)},Ee.prototype.get=function(e){return this.__data__.get(e)},Ee.prototype.has=function(e){return this.__data__.has(e)},Ee.prototype.set=function(e,t){var r=this.__data__;if(r instanceof xe){var n=r.__data__;if(!ue||n.length<199)return n.push([e,t]),this;r=this.__data__=new Ae(n)}return r.set(e,t),this};var je,Ce,Ie=(je=function(e,t){return e&&Be(e,t,dt)},function(e,t){if(null==e)return e;if(!it(e))return je(e,t);for(var r=e.length,n=Ce?r:-1,i=Object(e);(Ce?n--:++n<r)&&!1!==t(i[n],n,i););return e});function Oe(e,t,r,n,i){var s=-1,o=e.length;for(r||(r=Ge),i||(i=[]);++s<o;){var a=e[s];t>0&&r(a)?t>1?Oe(a,t-1,r,n,i):H(i,a):n||(i[i.length]=a)}return i}var Be=function(e){return function(t,r,n){for(var i=-1,s=Object(t),o=n(t),a=o.length;a--;){var c=o[e?a:++i];if(!1===r(s[c],c,s))break}return t}}();function Ne(e,t){for(var r=0,n=(t=We(t,e)?[t]:Ue(t)).length;null!=e&&r<n;)e=e[Xe(t[r++])];return r&&r==n?e:void 0}function Me(e,t){return null!=e&&t in Object(e)}function Re(e,t,r,n,i){return e===t||(null==e||null==t||!at(e)&&!ct(t)?e!=e&&t!=t:function(e,t,r,n,i,l){var p=nt(e),b=nt(t),k=o,x=o;p||(k=(k=Ve(e))==s?h:k);b||(x=(x=Ve(t))==s?h:x);var A=k==h&&!U(e),P=x==h&&!U(t),E=k==x;if(E&&!A)return l||(l=new Ee),p||lt(e)?Fe(e,t,r,n,i,l):function(e,t,r,n,i,s,o){switch(r){case _:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case w:return!(e.byteLength!=t.byteLength||!n(new ne(e),new ne(t)));case a:case c:case f:return tt(+e,+t);case u:return e.name==t.name&&e.message==t.message;case m:case y:return e==t+"";case d:var l=F;case g:var h=2&s;if(l||(l=z),e.size!=t.size&&!h)return!1;var p=o.get(e);if(p)return p==t;s|=1,o.set(e,t);var b=Fe(l(e),l(t),n,i,s,o);return o.delete(e),b;case v:if(we)return we.call(e)==we.call(t)}return!1}(e,t,k,r,n,i,l);if(!(2&i)){var S=A&&Q.call(e,"__wrapped__"),T=P&&Q.call(t,"__wrapped__");if(S||T){var j=S?e.value():e,C=T?t.value():t;return l||(l=new Ee),r(j,C,n,i,l)}}if(!E)return!1;return l||(l=new Ee),function(e,t,r,n,i,s){var o=2&i,a=dt(e),c=a.length,u=dt(t).length;if(c!=u&&!o)return!1;var l=c;for(;l--;){var d=a[l];if(!(o?d in t:Q.call(t,d)))return!1}var f=s.get(e);if(f&&s.get(t))return f==t;var h=!0;s.set(e,t),s.set(t,e);var p=o;for(;++l<c;){var m=e[d=a[l]],g=t[d];if(n)var y=o?n(g,m,d,t,e,s):n(m,g,d,e,t,s);if(!(void 0===y?m===g||r(m,g,n,i,s):y)){h=!1;break}p||(p="constructor"==d)}if(h&&!p){var v=e.constructor,b=t.constructor;v==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b||(h=!1)}return s.delete(e),s.delete(t),h}(e,t,r,n,i,l)}(e,t,Re,r,n,i))}function Le(e){return!(!at(e)||function(e){return!!Z&&Z in e}(e))&&(st(e)||U(e)?te:S).test(Qe(e))}function De(e){return"function"==typeof e?e:null==e?ft:"object"==typeof e?nt(e)?function(e,t){if(We(e)&&Ye(t))return Je(Xe(e),t);return function(r){var n=function(e,t,r){var n=null==e?void 0:Ne(e,t);return void 0===n?r:n}(r,e);return void 0===n&&n===t?function(e,t){return null!=e&&function(e,t,r){t=We(t,e)?[t]:Ue(t);var n,i=-1,s=t.length;for(;++i<s;){var o=Xe(t[i]);if(!(n=null!=e&&r(e,o)))break;e=e[o]}if(n)return n;return!!(s=e?e.length:0)&&ot(s)&&$e(o,s)&&(nt(e)||rt(e))}(e,t,Me)}(r,e):Re(t,n,void 0,3)}}(e[0],e[1]):function(e){var t=function(e){var t=dt(e),r=t.length;for(;r--;){var n=t[r],i=e[n];t[r]=[n,i,Ye(i)]}return t}(e);if(1==t.length&&t[0][2])return Je(t[0][0],t[0][1]);return function(r){return r===e||function(e,t,r,n){var i=r.length,s=i,o=!n;if(null==e)return!s;for(e=Object(e);i--;){var a=r[i];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<s;){var c=(a=r[i])[0],u=e[c],l=a[1];if(o&&a[2]){if(void 0===u&&!(c in e))return!1}else{var d=new Ee;if(n)var f=n(u,l,c,e,t,d);if(!(void 0===f?Re(l,u,n,3,d):f))return!1}}return!0}(r,e,t)}}(e):We(t=e)?(r=Xe(t),function(e){return null==e?void 0:e[r]}):function(e){return function(t){return Ne(t,e)}}(t);var t,r}function He(e){if(r=(t=e)&&t.constructor,n="function"==typeof r&&r.prototype||Y,t!==n)return ae(e);var t,r,n,i=[];for(var s in Object(e))Q.call(e,s)&&"constructor"!=s&&i.push(s);return i}function Ke(e,t){var r=-1,n=it(e)?Array(e.length):[];return Ie(e,(function(e,i,s){n[++r]=t(e,i,s)})),n}function Ue(e){return nt(e)?e:Ze(e)}function Fe(e,t,r,n,i,s){var o=2&i,a=e.length,c=t.length;if(a!=c&&!(o&&c>a))return!1;var u=s.get(e);if(u&&s.get(t))return u==t;var l=-1,d=!0,f=1&i?new Pe:void 0;for(s.set(e,t),s.set(t,e);++l<a;){var h=e[l],p=t[l];if(n)var m=o?n(p,h,l,t,e,s):n(h,p,l,e,t,s);if(void 0!==m){if(m)continue;d=!1;break}if(f){if(!K(t,(function(e,t){if(!f.has(t)&&(h===e||r(h,e,n,i,s)))return f.add(t)}))){d=!1;break}}else if(h!==p&&!r(h,p,n,i,s)){d=!1;break}}return s.delete(e),s.delete(t),d}function ze(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function qe(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return Le(r)?r:void 0}var Ve=function(e){return ee.call(e)};function Ge(e){return nt(e)||rt(e)||!!(oe&&e&&e[oe])}function $e(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||T.test(e))&&e>-1&&e%1==0&&e<t}function We(e,t){if(nt(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!ut(e))||(x.test(e)||!k.test(e)||null!=t&&e in Object(t))}function Ye(e){return e==e&&!at(e)}function Je(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}(ce&&Ve(new ce(new ArrayBuffer(1)))!=_||ue&&Ve(new ue)!=d||le&&Ve(le.resolve())!=p||de&&Ve(new de)!=g||fe&&Ve(new fe)!=b)&&(Ve=function(e){var t=ee.call(e),r=t==h?e.constructor:void 0,n=r?Qe(r):void 0;if(n)switch(n){case pe:return _;case me:return d;case ge:return p;case ye:return g;case ve:return b}return t});var Ze=et((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(ut(e))return _e?_e.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var r=[];return A.test(e)&&r.push(""),e.replace(P,(function(e,t,n,i){r.push(n?i.replace(E,"$1"):t||e)})),r}));function Xe(e){if("string"==typeof e||ut(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Qe(e){if(null!=e){try{return X.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function et(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var o=e.apply(this,n);return r.cache=s.set(i,o),o};return r.cache=new(et.Cache||Ae),r}function tt(e,t){return e===t||e!=e&&t!=t}function rt(e){return function(e){return ct(e)&&it(e)}(e)&&Q.call(e,"callee")&&(!ie.call(e,"callee")||ee.call(e)==s)}et.Cache=Ae;var nt=Array.isArray;function it(e){return null!=e&&ot(e.length)&&!st(e)}function st(e){var t=at(e)?ee.call(e):"";return t==l||"[object GeneratorFunction]"==t}function ot(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}function at(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ct(e){return!!e&&"object"==typeof e}function ut(e){return"symbol"==typeof e||ct(e)&&ee.call(e)==v}var lt=L?function(e){return function(t){return e(t)}}(L):function(e){return ct(e)&&ot(e.length)&&!!j[ee.call(e)]};function dt(e){return it(e)?Se(e):He(e)}function ft(e){return e}t.exports=function(e,t){return Oe(function(e,t){return(nt(e)?D:Ke)(e,De(t))}(e,t),1)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{file:"/home/circleci/project/node_modules/lodash.flatmap/index.js"}],[3809,{buffer:1683},function(e,t,r){(function(e){!function(e,r){"use strict";void 0!==t&&t.exports?t.exports=r():(e.nacl||(e.nacl={}),e.nacl.util=r())}(this,(function(){"use strict";var t={};function r(e){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(e))throw new TypeError("invalid encoding")}return t.decodeUTF8=function(e){if("string"!=typeof e)throw new TypeError("expected string");var t,r=unescape(encodeURIComponent(e)),n=new Uint8Array(r.length);for(t=0;t<r.length;t++)n[t]=r.charCodeAt(t);return n},t.encodeUTF8=function(e){var t,r=[];for(t=0;t<e.length;t++)r.push(String.fromCharCode(e[t]));return decodeURIComponent(escape(r.join("")))},"undefined"==typeof atob?void 0!==e.from?(t.encodeBase64=function(t){return e.from(t).toString("base64")},t.decodeBase64=function(t){return r(t),new Uint8Array(Array.prototype.slice.call(e.from(t,"base64"),0))}):(t.encodeBase64=function(t){return new e(t).toString("base64")},t.decodeBase64=function(t){return r(t),new Uint8Array(Array.prototype.slice.call(new e(t,"base64"),0))}):(t.encodeBase64=function(e){var t,r=[],n=e.length;for(t=0;t<n;t++)r.push(String.fromCharCode(e[t]));return btoa(r.join(""))},t.decodeBase64=function(e){r(e);var t,n=atob(e),i=new Uint8Array(n.length);for(t=0;t<n.length;t++)i[t]=n.charCodeAt(t);return i}),t}))}).call(this,e("buffer").Buffer)},{file:"/home/circleci/project/node_modules/tweetnacl-util/nacl-util.js"}],[3810,{crypto:1683},function(e,t,r){!function(t){"use strict";var r=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},n=function(){throw new Error("no PRNG")},i=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var o=r(),a=r([1]),c=r([56129,1]),u=r([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=r([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),d=r([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),f=r([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),h=r([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=255&n}function m(e,t,r,n,i){var s,o=0;for(s=0;s<i;s++)o|=e[t+s]^r[n+s];return(1&o-1>>>8)-1}function g(e,t,r,n){return m(e,t,r,n,16)}function y(e,t,r,n){return m(e,t,r,n,32)}function v(e,t,r,n){!function(e,t,r,n){for(var i,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,d=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,f=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,h=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,m=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,g=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,y=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,v=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,b=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,w=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,_=s,k=o,x=a,A=c,P=u,E=l,S=d,T=f,j=h,C=p,I=m,O=g,B=y,N=v,M=b,R=w,L=0;L<20;L+=2)_^=(i=(B^=(i=(j^=(i=(P^=(i=_+B|0)<<7|i>>>25)+_|0)<<9|i>>>23)+P|0)<<13|i>>>19)+j|0)<<18|i>>>14,E^=(i=(k^=(i=(N^=(i=(C^=(i=E+k|0)<<7|i>>>25)+E|0)<<9|i>>>23)+C|0)<<13|i>>>19)+N|0)<<18|i>>>14,I^=(i=(S^=(i=(x^=(i=(M^=(i=I+S|0)<<7|i>>>25)+I|0)<<9|i>>>23)+M|0)<<13|i>>>19)+x|0)<<18|i>>>14,R^=(i=(O^=(i=(T^=(i=(A^=(i=R+O|0)<<7|i>>>25)+R|0)<<9|i>>>23)+A|0)<<13|i>>>19)+T|0)<<18|i>>>14,_^=(i=(A^=(i=(x^=(i=(k^=(i=_+A|0)<<7|i>>>25)+_|0)<<9|i>>>23)+k|0)<<13|i>>>19)+x|0)<<18|i>>>14,E^=(i=(P^=(i=(T^=(i=(S^=(i=E+P|0)<<7|i>>>25)+E|0)<<9|i>>>23)+S|0)<<13|i>>>19)+T|0)<<18|i>>>14,I^=(i=(C^=(i=(j^=(i=(O^=(i=I+C|0)<<7|i>>>25)+I|0)<<9|i>>>23)+O|0)<<13|i>>>19)+j|0)<<18|i>>>14,R^=(i=(M^=(i=(N^=(i=(B^=(i=R+M|0)<<7|i>>>25)+R|0)<<9|i>>>23)+B|0)<<13|i>>>19)+N|0)<<18|i>>>14;_=_+s|0,k=k+o|0,x=x+a|0,A=A+c|0,P=P+u|0,E=E+l|0,S=S+d|0,T=T+f|0,j=j+h|0,C=C+p|0,I=I+m|0,O=O+g|0,B=B+y|0,N=N+v|0,M=M+b|0,R=R+w|0,e[0]=_>>>0&255,e[1]=_>>>8&255,e[2]=_>>>16&255,e[3]=_>>>24&255,e[4]=k>>>0&255,e[5]=k>>>8&255,e[6]=k>>>16&255,e[7]=k>>>24&255,e[8]=x>>>0&255,e[9]=x>>>8&255,e[10]=x>>>16&255,e[11]=x>>>24&255,e[12]=A>>>0&255,e[13]=A>>>8&255,e[14]=A>>>16&255,e[15]=A>>>24&255,e[16]=P>>>0&255,e[17]=P>>>8&255,e[18]=P>>>16&255,e[19]=P>>>24&255,e[20]=E>>>0&255,e[21]=E>>>8&255,e[22]=E>>>16&255,e[23]=E>>>24&255,e[24]=S>>>0&255,e[25]=S>>>8&255,e[26]=S>>>16&255,e[27]=S>>>24&255,e[28]=T>>>0&255,e[29]=T>>>8&255,e[30]=T>>>16&255,e[31]=T>>>24&255,e[32]=j>>>0&255,e[33]=j>>>8&255,e[34]=j>>>16&255,e[35]=j>>>24&255,e[36]=C>>>0&255,e[37]=C>>>8&255,e[38]=C>>>16&255,e[39]=C>>>24&255,e[40]=I>>>0&255,e[41]=I>>>8&255,e[42]=I>>>16&255,e[43]=I>>>24&255,e[44]=O>>>0&255,e[45]=O>>>8&255,e[46]=O>>>16&255,e[47]=O>>>24&255,e[48]=B>>>0&255,e[49]=B>>>8&255,e[50]=B>>>16&255,e[51]=B>>>24&255,e[52]=N>>>0&255,e[53]=N>>>8&255,e[54]=N>>>16&255,e[55]=N>>>24&255,e[56]=M>>>0&255,e[57]=M>>>8&255,e[58]=M>>>16&255,e[59]=M>>>24&255,e[60]=R>>>0&255,e[61]=R>>>8&255,e[62]=R>>>16&255,e[63]=R>>>24&255}(e,t,r,n)}function b(e,t,r,n){!function(e,t,r,n){for(var i,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,d=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,f=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,h=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,m=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,g=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,y=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,v=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,b=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,w=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,_=0;_<20;_+=2)s^=(i=(y^=(i=(h^=(i=(u^=(i=s+y|0)<<7|i>>>25)+s|0)<<9|i>>>23)+u|0)<<13|i>>>19)+h|0)<<18|i>>>14,l^=(i=(o^=(i=(v^=(i=(p^=(i=l+o|0)<<7|i>>>25)+l|0)<<9|i>>>23)+p|0)<<13|i>>>19)+v|0)<<18|i>>>14,m^=(i=(d^=(i=(a^=(i=(b^=(i=m+d|0)<<7|i>>>25)+m|0)<<9|i>>>23)+b|0)<<13|i>>>19)+a|0)<<18|i>>>14,w^=(i=(g^=(i=(f^=(i=(c^=(i=w+g|0)<<7|i>>>25)+w|0)<<9|i>>>23)+c|0)<<13|i>>>19)+f|0)<<18|i>>>14,s^=(i=(c^=(i=(a^=(i=(o^=(i=s+c|0)<<7|i>>>25)+s|0)<<9|i>>>23)+o|0)<<13|i>>>19)+a|0)<<18|i>>>14,l^=(i=(u^=(i=(f^=(i=(d^=(i=l+u|0)<<7|i>>>25)+l|0)<<9|i>>>23)+d|0)<<13|i>>>19)+f|0)<<18|i>>>14,m^=(i=(p^=(i=(h^=(i=(g^=(i=m+p|0)<<7|i>>>25)+m|0)<<9|i>>>23)+g|0)<<13|i>>>19)+h|0)<<18|i>>>14,w^=(i=(b^=(i=(v^=(i=(y^=(i=w+b|0)<<7|i>>>25)+w|0)<<9|i>>>23)+y|0)<<13|i>>>19)+v|0)<<18|i>>>14;e[0]=s>>>0&255,e[1]=s>>>8&255,e[2]=s>>>16&255,e[3]=s>>>24&255,e[4]=l>>>0&255,e[5]=l>>>8&255,e[6]=l>>>16&255,e[7]=l>>>24&255,e[8]=m>>>0&255,e[9]=m>>>8&255,e[10]=m>>>16&255,e[11]=m>>>24&255,e[12]=w>>>0&255,e[13]=w>>>8&255,e[14]=w>>>16&255,e[15]=w>>>24&255,e[16]=d>>>0&255,e[17]=d>>>8&255,e[18]=d>>>16&255,e[19]=d>>>24&255,e[20]=f>>>0&255,e[21]=f>>>8&255,e[22]=f>>>16&255,e[23]=f>>>24&255,e[24]=h>>>0&255,e[25]=h>>>8&255,e[26]=h>>>16&255,e[27]=h>>>24&255,e[28]=p>>>0&255,e[29]=p>>>8&255,e[30]=p>>>16&255,e[31]=p>>>24&255}(e,t,r,n)}var w=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function _(e,t,r,n,i,s,o){var a,c,u=new Uint8Array(16),l=new Uint8Array(64);for(c=0;c<16;c++)u[c]=0;for(c=0;c<8;c++)u[c]=s[c];for(;i>=64;){for(v(l,u,o,w),c=0;c<64;c++)e[t+c]=r[n+c]^l[c];for(a=1,c=8;c<16;c++)a=a+(255&u[c])|0,u[c]=255&a,a>>>=8;i-=64,t+=64,n+=64}if(i>0)for(v(l,u,o,w),c=0;c<i;c++)e[t+c]=r[n+c]^l[c];return 0}function k(e,t,r,n,i){var s,o,a=new Uint8Array(16),c=new Uint8Array(64);for(o=0;o<16;o++)a[o]=0;for(o=0;o<8;o++)a[o]=n[o];for(;r>=64;){for(v(c,a,i,w),o=0;o<64;o++)e[t+o]=c[o];for(s=1,o=8;o<16;o++)s=s+(255&a[o])|0,a[o]=255&s,s>>>=8;r-=64,t+=64}if(r>0)for(v(c,a,i,w),o=0;o<r;o++)e[t+o]=c[o];return 0}function x(e,t,r,n,i){var s=new Uint8Array(32);b(s,n,i,w);for(var o=new Uint8Array(8),a=0;a<8;a++)o[a]=n[a+16];return k(e,t,r,o,s)}function A(e,t,r,n,i,s,o){var a=new Uint8Array(32);b(a,s,o,w);for(var c=new Uint8Array(8),u=0;u<8;u++)c[u]=s[u+16];return _(e,t,r,n,i,c,a)}var P=function(e){var t,r,n,i,s,o,a,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|r<<3),n=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(r>>>10|n<<6),i=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(n>>>7|i<<9),s=255&e[8]|(255&e[9])<<8,this.r[4]=255&(i>>>4|s<<12),this.r[5]=s>>>1&8190,o=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(s>>>14|o<<2),a=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(o>>>11|a<<5),c=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(a>>>8|c<<8),this.r[9]=c>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function E(e,t,r,n,i,s){var o=new P(s);return o.update(r,n,i),o.finish(e,t),0}function S(e,t,r,n,i,s){var o=new Uint8Array(16);return E(o,0,r,n,i,s),g(e,t,o,0)}function T(e,t,r,n,i){var s;if(r<32)return-1;for(A(e,0,t,0,r,n,i),E(e,16,e,32,r-32,e),s=0;s<16;s++)e[s]=0;return 0}function j(e,t,r,n,i){var s,o=new Uint8Array(32);if(r<32)return-1;if(x(o,0,32,n,i),0!==S(t,16,t,32,r-32,o))return-1;for(A(e,0,t,0,r,n,i),s=0;s<32;s++)e[s]=0;return 0}function C(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function I(e){var t,r,n=1;for(t=0;t<16;t++)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function O(e,t,r){for(var n,i=~(r-1),s=0;s<16;s++)n=i&(e[s]^t[s]),e[s]^=n,t[s]^=n}function B(e,t){var n,i,s,o=r(),a=r();for(n=0;n<16;n++)a[n]=t[n];for(I(a),I(a),I(a),i=0;i<2;i++){for(o[0]=a[0]-65517,n=1;n<15;n++)o[n]=a[n]-65535-(o[n-1]>>16&1),o[n-1]&=65535;o[15]=a[15]-32767-(o[14]>>16&1),s=o[15]>>16&1,o[14]&=65535,O(a,o,1-s)}for(n=0;n<16;n++)e[2*n]=255&a[n],e[2*n+1]=a[n]>>8}function N(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return B(r,e),B(n,t),y(r,0,n,0)}function M(e){var t=new Uint8Array(32);return B(t,e),1&t[0]}function R(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function L(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function D(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function H(e,t,r){var n,i,s=0,o=0,a=0,c=0,u=0,l=0,d=0,f=0,h=0,p=0,m=0,g=0,y=0,v=0,b=0,w=0,_=0,k=0,x=0,A=0,P=0,E=0,S=0,T=0,j=0,C=0,I=0,O=0,B=0,N=0,M=0,R=r[0],L=r[1],D=r[2],H=r[3],K=r[4],U=r[5],F=r[6],z=r[7],q=r[8],V=r[9],G=r[10],$=r[11],W=r[12],Y=r[13],J=r[14],Z=r[15];s+=(n=t[0])*R,o+=n*L,a+=n*D,c+=n*H,u+=n*K,l+=n*U,d+=n*F,f+=n*z,h+=n*q,p+=n*V,m+=n*G,g+=n*$,y+=n*W,v+=n*Y,b+=n*J,w+=n*Z,o+=(n=t[1])*R,a+=n*L,c+=n*D,u+=n*H,l+=n*K,d+=n*U,f+=n*F,h+=n*z,p+=n*q,m+=n*V,g+=n*G,y+=n*$,v+=n*W,b+=n*Y,w+=n*J,_+=n*Z,a+=(n=t[2])*R,c+=n*L,u+=n*D,l+=n*H,d+=n*K,f+=n*U,h+=n*F,p+=n*z,m+=n*q,g+=n*V,y+=n*G,v+=n*$,b+=n*W,w+=n*Y,_+=n*J,k+=n*Z,c+=(n=t[3])*R,u+=n*L,l+=n*D,d+=n*H,f+=n*K,h+=n*U,p+=n*F,m+=n*z,g+=n*q,y+=n*V,v+=n*G,b+=n*$,w+=n*W,_+=n*Y,k+=n*J,x+=n*Z,u+=(n=t[4])*R,l+=n*L,d+=n*D,f+=n*H,h+=n*K,p+=n*U,m+=n*F,g+=n*z,y+=n*q,v+=n*V,b+=n*G,w+=n*$,_+=n*W,k+=n*Y,x+=n*J,A+=n*Z,l+=(n=t[5])*R,d+=n*L,f+=n*D,h+=n*H,p+=n*K,m+=n*U,g+=n*F,y+=n*z,v+=n*q,b+=n*V,w+=n*G,_+=n*$,k+=n*W,x+=n*Y,A+=n*J,P+=n*Z,d+=(n=t[6])*R,f+=n*L,h+=n*D,p+=n*H,m+=n*K,g+=n*U,y+=n*F,v+=n*z,b+=n*q,w+=n*V,_+=n*G,k+=n*$,x+=n*W,A+=n*Y,P+=n*J,E+=n*Z,f+=(n=t[7])*R,h+=n*L,p+=n*D,m+=n*H,g+=n*K,y+=n*U,v+=n*F,b+=n*z,w+=n*q,_+=n*V,k+=n*G,x+=n*$,A+=n*W,P+=n*Y,E+=n*J,S+=n*Z,h+=(n=t[8])*R,p+=n*L,m+=n*D,g+=n*H,y+=n*K,v+=n*U,b+=n*F,w+=n*z,_+=n*q,k+=n*V,x+=n*G,A+=n*$,P+=n*W,E+=n*Y,S+=n*J,T+=n*Z,p+=(n=t[9])*R,m+=n*L,g+=n*D,y+=n*H,v+=n*K,b+=n*U,w+=n*F,_+=n*z,k+=n*q,x+=n*V,A+=n*G,P+=n*$,E+=n*W,S+=n*Y,T+=n*J,j+=n*Z,m+=(n=t[10])*R,g+=n*L,y+=n*D,v+=n*H,b+=n*K,w+=n*U,_+=n*F,k+=n*z,x+=n*q,A+=n*V,P+=n*G,E+=n*$,S+=n*W,T+=n*Y,j+=n*J,C+=n*Z,g+=(n=t[11])*R,y+=n*L,v+=n*D,b+=n*H,w+=n*K,_+=n*U,k+=n*F,x+=n*z,A+=n*q,P+=n*V,E+=n*G,S+=n*$,T+=n*W,j+=n*Y,C+=n*J,I+=n*Z,y+=(n=t[12])*R,v+=n*L,b+=n*D,w+=n*H,_+=n*K,k+=n*U,x+=n*F,A+=n*z,P+=n*q,E+=n*V,S+=n*G,T+=n*$,j+=n*W,C+=n*Y,I+=n*J,O+=n*Z,v+=(n=t[13])*R,b+=n*L,w+=n*D,_+=n*H,k+=n*K,x+=n*U,A+=n*F,P+=n*z,E+=n*q,S+=n*V,T+=n*G,j+=n*$,C+=n*W,I+=n*Y,O+=n*J,B+=n*Z,b+=(n=t[14])*R,w+=n*L,_+=n*D,k+=n*H,x+=n*K,A+=n*U,P+=n*F,E+=n*z,S+=n*q,T+=n*V,j+=n*G,C+=n*$,I+=n*W,O+=n*Y,B+=n*J,N+=n*Z,w+=(n=t[15])*R,o+=38*(k+=n*D),a+=38*(x+=n*H),c+=38*(A+=n*K),u+=38*(P+=n*U),l+=38*(E+=n*F),d+=38*(S+=n*z),f+=38*(T+=n*q),h+=38*(j+=n*V),p+=38*(C+=n*G),m+=38*(I+=n*$),g+=38*(O+=n*W),y+=38*(B+=n*Y),v+=38*(N+=n*J),b+=38*(M+=n*Z),s=(n=(s+=38*(_+=n*L))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),o=(n=o+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),s=(n=(s+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),o=(n=o+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),s+=i-1+37*(i-1),e[0]=s,e[1]=o,e[2]=a,e[3]=c,e[4]=u,e[5]=l,e[6]=d,e[7]=f,e[8]=h,e[9]=p,e[10]=m,e[11]=g,e[12]=y,e[13]=v,e[14]=b,e[15]=w}function K(e,t){H(e,t,t)}function U(e,t){var n,i=r();for(n=0;n<16;n++)i[n]=t[n];for(n=253;n>=0;n--)K(i,i),2!==n&&4!==n&&H(i,i,t);for(n=0;n<16;n++)e[n]=i[n]}function F(e,t){var n,i=r();for(n=0;n<16;n++)i[n]=t[n];for(n=250;n>=0;n--)K(i,i),1!==n&&H(i,i,t);for(n=0;n<16;n++)e[n]=i[n]}function z(e,t,n){var i,s,o=new Uint8Array(32),a=new Float64Array(80),u=r(),l=r(),d=r(),f=r(),h=r(),p=r();for(s=0;s<31;s++)o[s]=t[s];for(o[31]=127&t[31]|64,o[0]&=248,R(a,n),s=0;s<16;s++)l[s]=a[s],f[s]=u[s]=d[s]=0;for(u[0]=f[0]=1,s=254;s>=0;--s)O(u,l,i=o[s>>>3]>>>(7&s)&1),O(d,f,i),L(h,u,d),D(u,u,d),L(d,l,f),D(l,l,f),K(f,h),K(p,u),H(u,d,u),H(d,l,h),L(h,u,d),D(u,u,d),K(l,u),D(d,f,p),H(u,d,c),L(u,u,f),H(d,d,u),H(u,f,p),H(f,l,a),K(l,h),O(u,l,i),O(d,f,i);for(s=0;s<16;s++)a[s+16]=u[s],a[s+32]=d[s],a[s+48]=l[s],a[s+64]=f[s];var m=a.subarray(32),g=a.subarray(16);return U(m,m),H(g,g,m),B(e,g),0}function q(e,t){return z(e,t,s)}function V(e,t){return n(t,32),q(e,t)}function G(e,t,r){var n=new Uint8Array(32);return z(n,r,t),b(e,i,n,w)}P.prototype.blocks=function(e,t,r){for(var n,i,s,o,a,c,u,l,d,f,h,p,m,g,y,v,b,w,_,k=this.fin?0:2048,x=this.h[0],A=this.h[1],P=this.h[2],E=this.h[3],S=this.h[4],T=this.h[5],j=this.h[6],C=this.h[7],I=this.h[8],O=this.h[9],B=this.r[0],N=this.r[1],M=this.r[2],R=this.r[3],L=this.r[4],D=this.r[5],H=this.r[6],K=this.r[7],U=this.r[8],F=this.r[9];r>=16;)f=d=0,f+=(x+=8191&(n=255&e[t+0]|(255&e[t+1])<<8))*B,f+=(A+=8191&(n>>>13|(i=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*F),f+=(P+=8191&(i>>>10|(s=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*U),f+=(E+=8191&(s>>>7|(o=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*K),d=(f+=(S+=8191&(o>>>4|(a=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*H))>>>13,f&=8191,f+=(T+=a>>>1&8191)*(5*D),f+=(j+=8191&(a>>>14|(c=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*L),f+=(C+=8191&(c>>>11|(u=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*R),f+=(I+=8191&(u>>>8|(l=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*M),h=d+=(f+=(O+=l>>>5|k)*(5*N))>>>13,h+=x*N,h+=A*B,h+=P*(5*F),h+=E*(5*U),d=(h+=S*(5*K))>>>13,h&=8191,h+=T*(5*H),h+=j*(5*D),h+=C*(5*L),h+=I*(5*R),d+=(h+=O*(5*M))>>>13,h&=8191,p=d,p+=x*M,p+=A*N,p+=P*B,p+=E*(5*F),d=(p+=S*(5*U))>>>13,p&=8191,p+=T*(5*K),p+=j*(5*H),p+=C*(5*D),p+=I*(5*L),m=d+=(p+=O*(5*R))>>>13,m+=x*R,m+=A*M,m+=P*N,m+=E*B,d=(m+=S*(5*F))>>>13,m&=8191,m+=T*(5*U),m+=j*(5*K),m+=C*(5*H),m+=I*(5*D),g=d+=(m+=O*(5*L))>>>13,g+=x*L,g+=A*R,g+=P*M,g+=E*N,d=(g+=S*B)>>>13,g&=8191,g+=T*(5*F),g+=j*(5*U),g+=C*(5*K),g+=I*(5*H),y=d+=(g+=O*(5*D))>>>13,y+=x*D,y+=A*L,y+=P*R,y+=E*M,d=(y+=S*N)>>>13,y&=8191,y+=T*B,y+=j*(5*F),y+=C*(5*U),y+=I*(5*K),v=d+=(y+=O*(5*H))>>>13,v+=x*H,v+=A*D,v+=P*L,v+=E*R,d=(v+=S*M)>>>13,v&=8191,v+=T*N,v+=j*B,v+=C*(5*F),v+=I*(5*U),b=d+=(v+=O*(5*K))>>>13,b+=x*K,b+=A*H,b+=P*D,b+=E*L,d=(b+=S*R)>>>13,b&=8191,b+=T*M,b+=j*N,b+=C*B,b+=I*(5*F),w=d+=(b+=O*(5*U))>>>13,w+=x*U,w+=A*K,w+=P*H,w+=E*D,d=(w+=S*L)>>>13,w&=8191,w+=T*R,w+=j*M,w+=C*N,w+=I*B,_=d+=(w+=O*(5*F))>>>13,_+=x*F,_+=A*U,_+=P*K,_+=E*H,d=(_+=S*D)>>>13,_&=8191,_+=T*L,_+=j*R,_+=C*M,_+=I*N,x=f=8191&(d=(d=((d+=(_+=O*B)>>>13)<<2)+d|0)+(f&=8191)|0),A=h+=d>>>=13,P=p&=8191,E=m&=8191,S=g&=8191,T=y&=8191,j=v&=8191,C=b&=8191,I=w&=8191,O=_&=8191,t+=16,r-=16;this.h[0]=x,this.h[1]=A,this.h[2]=P,this.h[3]=E,this.h[4]=S,this.h[5]=T,this.h[6]=j,this.h[7]=C,this.h[8]=I,this.h[9]=O},P.prototype.finish=function(e,t){var r,n,i,s,o=new Uint16Array(10);if(this.leftover){for(s=this.leftover,this.buffer[s++]=1;s<16;s++)this.buffer[s]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,s=2;s<10;s++)this.h[s]+=r,r=this.h[s]>>>13,this.h[s]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,o[0]=this.h[0]+5,r=o[0]>>>13,o[0]&=8191,s=1;s<10;s++)o[s]=this.h[s]+r,r=o[s]>>>13,o[s]&=8191;for(o[9]-=8192,n=(1^r)-1,s=0;s<10;s++)o[s]&=n;for(n=~n,s=0;s<10;s++)this.h[s]=this.h[s]&n|o[s];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,s=1;s<8;s++)i=(this.h[s]+this.pad[s]|0)+(i>>>16)|0,this.h[s]=65535&i;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},P.prototype.update=function(e,t,r){var n,i;if(this.leftover){for((i=16-this.leftover)>r&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=e[t+n];if(r-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(i=r-r%16,this.blocks(e,t,i),t+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=e[t+n];this.leftover+=r}};var $=T,W=j;var Y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function J(e,t,r,n){for(var i,s,o,a,c,u,l,d,f,h,p,m,g,y,v,b,w,_,k,x,A,P,E,S,T,j,C=new Int32Array(16),I=new Int32Array(16),O=e[0],B=e[1],N=e[2],M=e[3],R=e[4],L=e[5],D=e[6],H=e[7],K=t[0],U=t[1],F=t[2],z=t[3],q=t[4],V=t[5],G=t[6],$=t[7],W=0;n>=128;){for(k=0;k<16;k++)x=8*k+W,C[k]=r[x+0]<<24|r[x+1]<<16|r[x+2]<<8|r[x+3],I[k]=r[x+4]<<24|r[x+5]<<16|r[x+6]<<8|r[x+7];for(k=0;k<80;k++)if(i=O,s=B,o=N,a=M,c=R,u=L,l=D,H,f=K,h=U,p=F,m=z,g=q,y=V,v=G,$,E=65535&(P=$),S=P>>>16,T=65535&(A=H),j=A>>>16,E+=65535&(P=(q>>>14|R<<18)^(q>>>18|R<<14)^(R>>>9|q<<23)),S+=P>>>16,T+=65535&(A=(R>>>14|q<<18)^(R>>>18|q<<14)^(q>>>9|R<<23)),j+=A>>>16,E+=65535&(P=q&V^~q&G),S+=P>>>16,T+=65535&(A=R&L^~R&D),j+=A>>>16,E+=65535&(P=Y[2*k+1]),S+=P>>>16,T+=65535&(A=Y[2*k]),j+=A>>>16,A=C[k%16],S+=(P=I[k%16])>>>16,T+=65535&A,j+=A>>>16,T+=(S+=(E+=65535&P)>>>16)>>>16,E=65535&(P=_=65535&E|S<<16),S=P>>>16,T=65535&(A=w=65535&T|(j+=T>>>16)<<16),j=A>>>16,E+=65535&(P=(K>>>28|O<<4)^(O>>>2|K<<30)^(O>>>7|K<<25)),S+=P>>>16,T+=65535&(A=(O>>>28|K<<4)^(K>>>2|O<<30)^(K>>>7|O<<25)),j+=A>>>16,S+=(P=K&U^K&F^U&F)>>>16,T+=65535&(A=O&B^O&N^B&N),j+=A>>>16,d=65535&(T+=(S+=(E+=65535&P)>>>16)>>>16)|(j+=T>>>16)<<16,b=65535&E|S<<16,E=65535&(P=m),S=P>>>16,T=65535&(A=a),j=A>>>16,S+=(P=_)>>>16,T+=65535&(A=w),j+=A>>>16,B=i,N=s,M=o,R=a=65535&(T+=(S+=(E+=65535&P)>>>16)>>>16)|(j+=T>>>16)<<16,L=c,D=u,H=l,O=d,U=f,F=h,z=p,q=m=65535&E|S<<16,V=g,G=y,$=v,K=b,k%16==15)for(x=0;x<16;x++)A=C[x],E=65535&(P=I[x]),S=P>>>16,T=65535&A,j=A>>>16,A=C[(x+9)%16],E+=65535&(P=I[(x+9)%16]),S+=P>>>16,T+=65535&A,j+=A>>>16,w=C[(x+1)%16],E+=65535&(P=((_=I[(x+1)%16])>>>1|w<<31)^(_>>>8|w<<24)^(_>>>7|w<<25)),S+=P>>>16,T+=65535&(A=(w>>>1|_<<31)^(w>>>8|_<<24)^w>>>7),j+=A>>>16,w=C[(x+14)%16],S+=(P=((_=I[(x+14)%16])>>>19|w<<13)^(w>>>29|_<<3)^(_>>>6|w<<26))>>>16,T+=65535&(A=(w>>>19|_<<13)^(_>>>29|w<<3)^w>>>6),j+=A>>>16,j+=(T+=(S+=(E+=65535&P)>>>16)>>>16)>>>16,C[x]=65535&T|j<<16,I[x]=65535&E|S<<16;E=65535&(P=K),S=P>>>16,T=65535&(A=O),j=A>>>16,A=e[0],S+=(P=t[0])>>>16,T+=65535&A,j+=A>>>16,j+=(T+=(S+=(E+=65535&P)>>>16)>>>16)>>>16,e[0]=O=65535&T|j<<16,t[0]=K=65535&E|S<<16,E=65535&(P=U),S=P>>>16,T=65535&(A=B),j=A>>>16,A=e[1],S+=(P=t[1])>>>16,T+=65535&A,j+=A>>>16,j+=(T+=(S+=(E+=65535&P)>>>16)>>>16)>>>16,e[1]=B=65535&T|j<<16,t[1]=U=65535&E|S<<16,E=65535&(P=F),S=P>>>16,T=65535&(A=N),j=A>>>16,A=e[2],S+=(P=t[2])>>>16,T+=65535&A,j+=A>>>16,j+=(T+=(S+=(E+=65535&P)>>>16)>>>16)>>>16,e[2]=N=65535&T|j<<16,t[2]=F=65535&E|S<<16,E=65535&(P=z),S=P>>>16,T=65535&(A=M),j=A>>>16,A=e[3],S+=(P=t[3])>>>16,T+=65535&A,j+=A>>>16,j+=(T+=(S+=(E+=65535&P)>>>16)>>>16)>>>16,e[3]=M=65535&T|j<<16,t[3]=z=65535&E|S<<16,E=65535&(P=q),S=P>>>16,T=65535&(A=R),j=A>>>16,A=e[4],S+=(P=t[4])>>>16,T+=65535&A,j+=A>>>16,j+=(T+=(S+=(E+=65535&P)>>>16)>>>16)>>>16,e[4]=R=65535&T|j<<16,t[4]=q=65535&E|S<<16,E=65535&(P=V),S=P>>>16,T=65535&(A=L),j=A>>>16,A=e[5],S+=(P=t[5])>>>16,T+=65535&A,j+=A>>>16,j+=(T+=(S+=(E+=65535&P)>>>16)>>>16)>>>16,e[5]=L=65535&T|j<<16,t[5]=V=65535&E|S<<16,E=65535&(P=G),S=P>>>16,T=65535&(A=D),j=A>>>16,A=e[6],S+=(P=t[6])>>>16,T+=65535&A,j+=A>>>16,j+=(T+=(S+=(E+=65535&P)>>>16)>>>16)>>>16,e[6]=D=65535&T|j<<16,t[6]=G=65535&E|S<<16,E=65535&(P=$),S=P>>>16,T=65535&(A=H),j=A>>>16,A=e[7],S+=(P=t[7])>>>16,T+=65535&A,j+=A>>>16,j+=(T+=(S+=(E+=65535&P)>>>16)>>>16)>>>16,e[7]=H=65535&T|j<<16,t[7]=$=65535&E|S<<16,W+=128,n-=128}return n}function Z(e,t,r){var n,i=new Int32Array(8),s=new Int32Array(8),o=new Uint8Array(256),a=r;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,s[0]=4089235720,s[1]=2227873595,s[2]=4271175723,s[3]=1595750129,s[4]=2917565137,s[5]=725511199,s[6]=4215389547,s[7]=327033209,J(i,s,t,r),r%=128,n=0;n<r;n++)o[n]=t[a-r+n];for(o[r]=128,o[(r=256-128*(r<112?1:0))-9]=0,p(o,r-8,a/536870912|0,a<<3),J(i,s,o,r),n=0;n<8;n++)p(e,8*n,i[n],s[n]);return 0}function X(e,t){var n=r(),i=r(),s=r(),o=r(),a=r(),c=r(),u=r(),d=r(),f=r();D(n,e[1],e[0]),D(f,t[1],t[0]),H(n,n,f),L(i,e[0],e[1]),L(f,t[0],t[1]),H(i,i,f),H(s,e[3],t[3]),H(s,s,l),H(o,e[2],t[2]),L(o,o,o),D(a,i,n),D(c,o,s),L(u,o,s),L(d,i,n),H(e[0],a,c),H(e[1],d,u),H(e[2],u,c),H(e[3],a,d)}function Q(e,t,r){var n;for(n=0;n<4;n++)O(e[n],t[n],r)}function ee(e,t){var n=r(),i=r(),s=r();U(s,t[2]),H(n,t[0],s),H(i,t[1],s),B(e,i),e[31]^=M(n)<<7}function te(e,t,r){var n,i;for(C(e[0],o),C(e[1],a),C(e[2],a),C(e[3],o),i=255;i>=0;--i)Q(e,t,n=r[i/8|0]>>(7&i)&1),X(t,e),X(e,e),Q(e,t,n)}function re(e,t){var n=[r(),r(),r(),r()];C(n[0],d),C(n[1],f),C(n[2],a),H(n[3],d,f),te(e,n,t)}function ne(e,t,i){var s,o=new Uint8Array(64),a=[r(),r(),r(),r()];for(i||n(t,32),Z(o,t,32),o[0]&=248,o[31]&=127,o[31]|=64,re(a,o),ee(e,a),s=0;s<32;s++)t[s+32]=e[s];return 0}var ie=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function se(e,t){var r,n,i,s;for(n=63;n>=32;--n){for(r=0,i=n-32,s=n-12;i<s;++i)t[i]+=r-16*t[n]*ie[i-(n-32)],r=Math.floor((t[i]+128)/256),t[i]-=256*r;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;i++)t[i]+=r-(t[31]>>4)*ie[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*ie[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function oe(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;se(e,r)}function ae(e,t,n,i){var s,o,a=new Uint8Array(64),c=new Uint8Array(64),u=new Uint8Array(64),l=new Float64Array(64),d=[r(),r(),r(),r()];Z(a,i,32),a[0]&=248,a[31]&=127,a[31]|=64;var f=n+64;for(s=0;s<n;s++)e[64+s]=t[s];for(s=0;s<32;s++)e[32+s]=a[32+s];for(Z(u,e.subarray(32),n+32),oe(u),re(d,u),ee(e,d),s=32;s<64;s++)e[s]=i[s];for(Z(c,e,n+64),oe(c),s=0;s<64;s++)l[s]=0;for(s=0;s<32;s++)l[s]=u[s];for(s=0;s<32;s++)for(o=0;o<32;o++)l[s+o]+=c[s]*a[o];return se(e.subarray(32),l),f}function ce(e,t,n,i){var s,c=new Uint8Array(32),l=new Uint8Array(64),d=[r(),r(),r(),r()],f=[r(),r(),r(),r()];if(n<64)return-1;if(function(e,t){var n=r(),i=r(),s=r(),c=r(),l=r(),d=r(),f=r();return C(e[2],a),R(e[1],t),K(s,e[1]),H(c,s,u),D(s,s,e[2]),L(c,e[2],c),K(l,c),K(d,l),H(f,d,l),H(n,f,s),H(n,n,c),F(n,n),H(n,n,s),H(n,n,c),H(n,n,c),H(e[0],n,c),K(i,e[0]),H(i,i,c),N(i,s)&&H(e[0],e[0],h),K(i,e[0]),H(i,i,c),N(i,s)?-1:(M(e[0])===t[31]>>7&&D(e[0],o,e[0]),H(e[3],e[0],e[1]),0)}(f,i))return-1;for(s=0;s<n;s++)e[s]=t[s];for(s=0;s<32;s++)e[s+32]=i[s];if(Z(l,e,n),oe(l),te(d,f,l),re(f,t.subarray(32)),X(d,f),ee(c,d),n-=64,y(t,0,c,0)){for(s=0;s<n;s++)e[s]=0;return-1}for(s=0;s<n;s++)e[s]=t[s+64];return n}var ue=16,le=64,de=32,fe=64;function he(e,t){if(32!==e.length)throw new Error("bad key size");if(24!==t.length)throw new Error("bad nonce size")}function pe(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function me(e){for(var t=0;t<e.length;t++)e[t]=0}t.lowlevel={crypto_core_hsalsa20:b,crypto_stream_xor:A,crypto_stream:x,crypto_stream_salsa20_xor:_,crypto_stream_salsa20:k,crypto_onetimeauth:E,crypto_onetimeauth_verify:S,crypto_verify_16:g,crypto_verify_32:y,crypto_secretbox:T,crypto_secretbox_open:j,crypto_scalarmult:z,crypto_scalarmult_base:q,crypto_box_beforenm:G,crypto_box_afternm:$,crypto_box:function(e,t,r,n,i,s){var o=new Uint8Array(32);return G(o,i,s),$(e,t,r,n,o)},crypto_box_open:function(e,t,r,n,i,s){var o=new Uint8Array(32);return G(o,i,s),W(e,t,r,n,o)},crypto_box_keypair:V,crypto_hash:Z,crypto_sign:ae,crypto_sign_keypair:ne,crypto_sign_open:ce,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:ue,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:le,crypto_sign_PUBLICKEYBYTES:de,crypto_sign_SECRETKEYBYTES:fe,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:r,D:u,L:ie,pack25519:B,unpack25519:R,M:H,A:L,S:K,Z:D,pow2523:F,add:X,set25519:C,modL:se,scalarmult:te,scalarbase:re},t.randomBytes=function(e){var t=new Uint8Array(e);return n(t,e),t},t.secretbox=function(e,t,r){pe(e,t,r),he(r,t);for(var n=new Uint8Array(32+e.length),i=new Uint8Array(n.length),s=0;s<e.length;s++)n[s+32]=e[s];return T(i,n,n.length,t,r),i.subarray(ue)},t.secretbox.open=function(e,t,r){pe(e,t,r),he(r,t);for(var n=new Uint8Array(ue+e.length),i=new Uint8Array(n.length),s=0;s<e.length;s++)n[s+ue]=e[s];return n.length<32||0!==j(i,n,n.length,t,r)?null:i.subarray(32)},t.secretbox.keyLength=32,t.secretbox.nonceLength=24,t.secretbox.overheadLength=ue,t.scalarMult=function(e,t){if(pe(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var r=new Uint8Array(32);return z(r,e,t),r},t.scalarMult.base=function(e){if(pe(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return q(t,e),t},t.scalarMult.scalarLength=32,t.scalarMult.groupElementLength=32,t.box=function(e,r,n,i){var s=t.box.before(n,i);return t.secretbox(e,r,s)},t.box.before=function(e,t){pe(e,t),function(e,t){if(32!==e.length)throw new Error("bad public key size");if(32!==t.length)throw new Error("bad secret key size")}(e,t);var r=new Uint8Array(32);return G(r,e,t),r},t.box.after=t.secretbox,t.box.open=function(e,r,n,i){var s=t.box.before(n,i);return t.secretbox.open(e,r,s)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return V(e,t),{publicKey:e,secretKey:t}},t.box.keyPair.fromSecretKey=function(e){if(pe(e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return q(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},t.box.publicKeyLength=32,t.box.secretKeyLength=32,t.box.sharedKeyLength=32,t.box.nonceLength=24,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(e,t){if(pe(e,t),t.length!==fe)throw new Error("bad secret key size");var r=new Uint8Array(le+e.length);return ae(r,e,e.length,t),r},t.sign.open=function(e,t){if(pe(e,t),t.length!==de)throw new Error("bad public key size");var r=new Uint8Array(e.length),n=ce(r,e,e.length,t);if(n<0)return null;for(var i=new Uint8Array(n),s=0;s<i.length;s++)i[s]=r[s];return i},t.sign.detached=function(e,r){for(var n=t.sign(e,r),i=new Uint8Array(le),s=0;s<i.length;s++)i[s]=n[s];return i},t.sign.detached.verify=function(e,t,r){if(pe(e,t,r),t.length!==le)throw new Error("bad signature size");if(r.length!==de)throw new Error("bad public key size");var n,i=new Uint8Array(le+e.length),s=new Uint8Array(le+e.length);for(n=0;n<le;n++)i[n]=t[n];for(n=0;n<e.length;n++)i[n+le]=e[n];return ce(s,i,i.length,r)>=0},t.sign.keyPair=function(){var e=new Uint8Array(de),t=new Uint8Array(fe);return ne(e,t),{publicKey:e,secretKey:t}},t.sign.keyPair.fromSecretKey=function(e){if(pe(e),e.length!==fe)throw new Error("bad secret key size");for(var t=new Uint8Array(de),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},t.sign.keyPair.fromSeed=function(e){if(pe(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(de),r=new Uint8Array(fe),n=0;n<32;n++)r[n]=e[n];return ne(t,r,!0),{publicKey:t,secretKey:r}},t.sign.publicKeyLength=de,t.sign.secretKeyLength=fe,t.sign.seedLength=32,t.sign.signatureLength=le,t.hash=function(e){pe(e);var t=new Uint8Array(64);return Z(t,e,e.length),t},t.hash.hashLength=64,t.verify=function(e,t){return pe(e,t),0!==e.length&&0!==t.length&&(e.length===t.length&&0===m(e,0,t,0,e.length))},t.setPRNG=function(e){n=e},function(){var r="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(r&&r.getRandomValues){t.setPRNG((function(e,t){var n,i=new Uint8Array(t);for(n=0;n<t;n+=65536)r.getRandomValues(i.subarray(n,n+Math.min(t-n,65536)));for(n=0;n<t;n++)e[n]=i[n];me(i)}))}else void 0!==e&&(r=e("crypto"))&&r.randomBytes&&t.setPRNG((function(e,t){var n,i=r.randomBytes(t);for(n=0;n<t;n++)e[n]=i[n];me(i)}))}()}(void 0!==t&&t.exports?t.exports:self.nacl=self.nacl||{})},{file:"/home/circleci/project/node_modules/tweetnacl/nacl-fast.js"}],[2059,{assert:1380,"bn.js":1670,"create-hash":1758,"ethjs-util":2191,keccak:2060,rlp:3499,"safe-buffer":3605,secp256k1:3621},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=e("keccak"),s=e("secp256k1"),o=e("assert"),a=e("rlp"),c=e("bn.js"),u=e("create-hash"),l=e("safe-buffer").Buffer;Object.assign(r,e("ethjs-util")),r.MAX_INTEGER=new c("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),r.TWO_POW256=new c("10000000000000000000000000000000000000000000000000000000000000000",16),r.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",r.SHA3_NULL_S=r.KECCAK256_NULL_S,r.KECCAK256_NULL=l.from(r.KECCAK256_NULL_S,"hex"),r.SHA3_NULL=r.KECCAK256_NULL,r.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",r.SHA3_RLP_ARRAY_S=r.KECCAK256_RLP_ARRAY_S,r.KECCAK256_RLP_ARRAY=l.from(r.KECCAK256_RLP_ARRAY_S,"hex"),r.SHA3_RLP_ARRAY=r.KECCAK256_RLP_ARRAY,r.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",r.SHA3_RLP_S=r.KECCAK256_RLP_S,r.KECCAK256_RLP=l.from(r.KECCAK256_RLP_S,"hex"),r.SHA3_RLP=r.KECCAK256_RLP,r.BN=c,r.rlp=a,r.secp256k1=s,r.zeros=function(e){return l.allocUnsafe(e).fill(0)},r.zeroAddress=function(){var e=r.zeros(20);return r.bufferToHex(e)},r.setLengthLeft=r.setLength=function(e,t,n){var i=r.zeros(t);return e=r.toBuffer(e),n?e.length<t?(e.copy(i),i):e.slice(0,t):e.length<t?(e.copy(i,t-e.length),i):e.slice(-t)},r.setLengthRight=function(e,t){return r.setLength(e,t,!0)},r.unpad=r.stripZeros=function(e){for(var t=(e=r.stripHexPrefix(e))[0];e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e},r.toBuffer=function(e){if(!l.isBuffer(e))if(Array.isArray(e))e=l.from(e);else if("string"==typeof e)e=r.isHexString(e)?l.from(r.padToEven(r.stripHexPrefix(e)),"hex"):l.from(e);else if("number"==typeof e)e=r.intToBuffer(e);else if(null==e)e=l.allocUnsafe(0);else if(c.isBN(e))e=e.toArrayLike(l);else{if(!e.toArray)throw new Error("invalid type");e=l.from(e.toArray())}return e},r.bufferToInt=function(e){return new c(r.toBuffer(e)).toNumber()},r.bufferToHex=function(e){return"0x"+(e=r.toBuffer(e)).toString("hex")},r.fromSigned=function(e){return new c(e).fromTwos(256)},r.toUnsigned=function(e){return l.from(e.toTwos(256).toArray())},r.keccak=function(e,t){return e=r.toBuffer(e),t||(t=256),i("keccak"+t).update(e).digest()},r.keccak256=function(e){return r.keccak(e)},r.sha3=r.keccak,r.sha256=function(e){return e=r.toBuffer(e),u("sha256").update(e).digest()},r.ripemd160=function(e,t){e=r.toBuffer(e);var n=u("rmd160").update(e).digest();return!0===t?r.setLength(n,32):n},r.rlphash=function(e){return r.keccak(a.encode(e))},r.isValidPrivate=function(e){return s.privateKeyVerify(e)},r.isValidPublic=function(e,t){return 64===e.length?s.publicKeyVerify(l.concat([l.from([4]),e])):!!t&&s.publicKeyVerify(e)},r.pubToAddress=r.publicToAddress=function(e,t){return e=r.toBuffer(e),t&&64!==e.length&&(e=s.publicKeyConvert(e,!1).slice(1)),o(64===e.length),r.keccak(e).slice(-20)};var d=r.privateToPublic=function(e){return e=r.toBuffer(e),s.publicKeyCreate(e,!1).slice(1)};r.importPublic=function(e){return 64!==(e=r.toBuffer(e)).length&&(e=s.publicKeyConvert(e,!1).slice(1)),e},r.ecsign=function(e,t){var r=s.sign(e,t),n={};return n.r=r.signature.slice(0,32),n.s=r.signature.slice(32,64),n.v=r.recovery+27,n},r.hashPersonalMessage=function(e){var t=r.toBuffer("Ethereum Signed Message:\n"+e.length.toString());return r.keccak(l.concat([t,e]))},r.ecrecover=function(e,t,n,i){var o=l.concat([r.setLength(n,32),r.setLength(i,32)],64),a=t-27;if(0!==a&&1!==a)throw new Error("Invalid signature v value");var c=s.recover(e,o,a);return s.publicKeyConvert(c,!1).slice(1)},r.toRpcSig=function(e,t,n){if(27!==e&&28!==e)throw new Error("Invalid recovery id");return r.bufferToHex(l.concat([r.setLengthLeft(t,32),r.setLengthLeft(n,32),r.toBuffer(e-27)]))},r.fromRpcSig=function(e){if(65!==(e=r.toBuffer(e)).length)throw new Error("Invalid signature length");var t=e[64];return t<27&&(t+=27),{v:t,r:e.slice(0,32),s:e.slice(32,64)}},r.privateToAddress=function(e){return r.publicToAddress(d(e))},r.isValidAddress=function(e){return/^0x[0-9a-fA-F]{40}$/.test(e)},r.isZeroAddress=function(e){return r.zeroAddress()===r.addHexPrefix(e)},r.toChecksumAddress=function(e){e=r.stripHexPrefix(e).toLowerCase();for(var t=r.keccak(e).toString("hex"),n="0x",i=0;i<e.length;i++)parseInt(t[i],16)>=8?n+=e[i].toUpperCase():n+=e[i];return n},r.isValidChecksumAddress=function(e){return r.isValidAddress(e)&&r.toChecksumAddress(e)===e},r.generateAddress=function(e,t){return e=r.toBuffer(e),t=(t=new c(t)).isZero()?null:l.from(t.toArray()),r.rlphash([e,t]).slice(-20)},r.isPrecompiled=function(e){var t=r.unpad(e);return 1===t.length&&t[0]>=1&&t[0]<=8},r.addHexPrefix=function(e){return"string"!=typeof e||r.isHexPrefixed(e)?e:"0x"+e},r.isValidSignature=function(e,t,r,n){var i=new c("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),s=new c("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);return 32===t.length&&32===r.length&&((27===e||28===e)&&(t=new c(t),r=new c(r),!(t.isZero()||t.gt(s)||r.isZero()||r.gt(s))&&(!1!==n||1!==new c(r).cmp(i))))},r.baToJSON=function(e){if(l.isBuffer(e))return"0x"+e.toString("hex");if(e instanceof Array){for(var t=[],n=0;n<e.length;n++)t.push(r.baToJSON(e[n]));return t}},r.defineProperties=function(e,t,i){if(e.raw=[],e._fields=[],e.toJSON=function(t){if(t){var n={};return e._fields.forEach((function(t){n[t]="0x"+e[t].toString("hex")})),n}return r.baToJSON(this.raw)},e.serialize=function(){return a.encode(e.raw)},t.forEach((function(t,n){function i(){return e.raw[n]}function s(i){"00"!==(i=r.toBuffer(i)).toString("hex")||t.allowZero||(i=l.allocUnsafe(0)),t.allowLess&&t.length?(i=r.stripZeros(i),o(t.length>=i.length,"The field "+t.name+" must not have more "+t.length+" bytes")):t.allowZero&&0===i.length||!t.length||o(t.length===i.length,"The field "+t.name+" must have byte length of "+t.length),e.raw[n]=i}e._fields.push(t.name),Object.defineProperty(e,t.name,{enumerable:!0,configurable:!0,get:i,set:s}),t.default&&(e[t.name]=t.default),t.alias&&Object.defineProperty(e,t.alias,{enumerable:!1,configurable:!0,set:s,get:i})})),i)if("string"==typeof i&&(i=l.from(r.stripHexPrefix(i),"hex")),l.isBuffer(i)&&(i=a.decode(i)),Array.isArray(i)){if(i.length>e._fields.length)throw new Error("wrong number of fields in data");i.forEach((function(t,n){e[e._fields[n]]=r.toBuffer(t)}))}else{if("object"!==(void 0===i?"undefined":n(i)))throw new Error("invalid data");var s=Object.keys(i);t.forEach((function(t){-1!==s.indexOf(t.name)&&(e[t.name]=i[t.name]),-1!==s.indexOf(t.alias)&&(e[t.alias]=i[t.alias])}))}}},{file:"/home/circleci/project/node_modules/eth-sig-util/node_modules/ethereumjs-util/dist/index.js"}],[3868,{"./utils/sha3":3865,"./utils/utils":3866,"./version.json":3867,"./web3/batch":3870,"./web3/extend":3874,"./web3/httpprovider":3878,"./web3/iban":3879,"./web3/ipcprovider":3880,"./web3/methods/db":3883,"./web3/methods/eth":3884,"./web3/methods/net":3885,"./web3/methods/personal":3886,"./web3/methods/shh":3887,"./web3/methods/swarm":3888,"./web3/property":3891,"./web3/requestmanager":3892,"./web3/settings":3893,"bignumber.js":3896},function(e,t,r){
/*!
 * web3.js - Ethereum JavaScript API
 *
 * @license lgpl-3.0
 * @see https://github.com/ethereum/web3.js
*/
var n=e("./web3/requestmanager"),i=e("./web3/iban"),s=e("./web3/methods/eth"),o=e("./web3/methods/db"),a=e("./web3/methods/shh"),c=e("./web3/methods/net"),u=e("./web3/methods/personal"),l=e("./web3/methods/swarm"),d=e("./web3/settings"),f=e("./version.json"),h=e("./utils/utils"),p=e("./utils/sha3"),m=e("./web3/extend"),g=e("./web3/batch"),y=e("./web3/property"),v=e("./web3/httpprovider"),b=e("./web3/ipcprovider"),w=e("bignumber.js");function _(e){this._requestManager=new n(e),this.currentProvider=e,this.eth=new s(this),this.db=new o(this),this.shh=new a(this),this.net=new c(this),this.personal=new u(this),this.bzz=new l(this),this.settings=new d,this.version={api:f.version},this.providers={HttpProvider:v,IpcProvider:b},this._extend=m(this),this._extend({properties:k()})}_.providers={HttpProvider:v,IpcProvider:b},_.prototype.setProvider=function(e){this._requestManager.setProvider(e),this.currentProvider=e},_.prototype.reset=function(e){this._requestManager.reset(e),this.settings=new d},_.prototype.BigNumber=w,_.prototype.toHex=h.toHex,_.prototype.toAscii=h.toAscii,_.prototype.toUtf8=h.toUtf8,_.prototype.fromAscii=h.fromAscii,_.prototype.fromUtf8=h.fromUtf8,_.prototype.toDecimal=h.toDecimal,_.prototype.fromDecimal=h.fromDecimal,_.prototype.toBigNumber=h.toBigNumber,_.prototype.toWei=h.toWei,_.prototype.fromWei=h.fromWei,_.prototype.isAddress=h.isAddress,_.prototype.isChecksumAddress=h.isChecksumAddress,_.prototype.toChecksumAddress=h.toChecksumAddress,_.prototype.isIBAN=h.isIBAN,_.prototype.padLeft=h.padLeft,_.prototype.padRight=h.padRight,_.prototype.sha3=function(e,t){return"0x"+p(e,t)},_.prototype.fromICAP=function(e){return new i(e).address()};var k=function(){return[new y({name:"version.node",getter:"web3_clientVersion"}),new y({name:"version.network",getter:"net_version",inputFormatter:h.toDecimal}),new y({name:"version.ethereum",getter:"eth_protocolVersion",inputFormatter:h.toDecimal}),new y({name:"version.whisper",getter:"shh_version",inputFormatter:h.toDecimal})]};_.prototype.isConnected=function(){return this.currentProvider&&this.currentProvider.isConnected()},_.prototype.createBatch=function(){return new g(this)},t.exports=_},{file:"/home/circleci/project/node_modules/web3/lib/web3.js"}],[2621,{"./helpers":2619,url:3820},function(e,t,r){var n=e("url"),i=e("./helpers");function s(e,t){this.id=e,this.ref=t}t.exports.SchemaScanResult=s,t.exports.scan=function(e,t){function r(e,t){if(t&&"object"==typeof t)if(t.$ref){var s=n.resolve(e,t.$ref);u[s]=u[s]?u[s]+1:0}else{var l=t.id?n.resolve(e,t.id):e;if(l){if(l.indexOf("#")<0&&(l+="#"),c[l]){if(!i.deepCompareStrict(c[l],t))throw new Error("Schema <"+t+"> already exists with different definition");return c[l]}c[l]=t,"#"==l[l.length-1]&&(c[l.substring(0,l.length-1)]=t)}o(l+"/items",t.items instanceof Array?t.items:[t.items]),o(l+"/extends",t.extends instanceof Array?t.extends:[t.extends]),r(l+"/additionalItems",t.additionalItems),a(l+"/properties",t.properties),r(l+"/additionalProperties",t.additionalProperties),a(l+"/definitions",t.definitions),a(l+"/patternProperties",t.patternProperties),a(l+"/dependencies",t.dependencies),o(l+"/disallow",t.disallow),o(l+"/allOf",t.allOf),o(l+"/anyOf",t.anyOf),o(l+"/oneOf",t.oneOf),r(l+"/not",t.not)}}function o(e,t){if(t instanceof Array)for(var n=0;n<t.length;n++)r(e+"/"+n,t[n])}function a(e,t){if(t&&"object"==typeof t)for(var n in t)r(e+"/"+n,t[n])}var c={},u={};return r(e,t),new s(c,u)}},{file:"/home/circleci/project/node_modules/jsonschema/lib/scan.js"}],[2622,{"./attribute":2618,"./helpers":2619,"./scan":2621,url:3820},function(e,t,r){"use strict";var n=e("url"),i=e("./attribute"),s=e("./helpers"),o=e("./scan").scan,a=s.ValidatorResult,c=s.SchemaError,u=s.SchemaContext,l=function e(){this.customFormats=Object.create(e.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(f),this.attributes=Object.create(i.validators)};function d(e){var t="string"==typeof e?e:e.$ref;return"string"==typeof t&&t}l.prototype.customFormats={},l.prototype.schemas=null,l.prototype.types=null,l.prototype.attributes=null,l.prototype.unresolvedRefs=null,l.prototype.addSchema=function(e,t){var r=this;if(!e)return null;var n=o(t||"/",e),i=t||e.id;for(var s in n.id)this.schemas[s]=n.id[s];for(var s in n.ref)this.unresolvedRefs.push(s);return this.unresolvedRefs=this.unresolvedRefs.filter((function(e){return void 0===r.schemas[e]})),this.schemas[i]},l.prototype.addSubSchemaArray=function(e,t){if(t instanceof Array)for(var r=0;r<t.length;r++)this.addSubSchema(e,t[r])},l.prototype.addSubSchemaObject=function(e,t){if(t&&"object"==typeof t)for(var r in t)this.addSubSchema(e,t[r])},l.prototype.setSchemas=function(e){this.schemas=e},l.prototype.getSchema=function(e){return this.schemas[e]},l.prototype.validate=function(e,t,r,i){r||(r={});var s=r.propertyName||"instance",a=n.resolve(r.base||"/",t.id||"");if(!i){(i=new u(t,r,s,a,Object.create(this.schemas))).schemas[a]||(i.schemas[a]=t);var l=o(a,t);for(var d in l.id){var f=l.id[d];i.schemas[d]=f}}if(t){var h=this.validateSchema(e,t,r,i);if(!h)throw new Error("Result undefined");return h}throw new c("no schema specified",t)},l.prototype.validateSchema=function(e,t,r,n){var o,l=new a(e,t,r,n);if("boolean"==typeof t)!0===t?t={}:!1===t&&(t={type:[]});else if(!t)throw new Error("schema is undefined");if(t.extends)if(t.extends instanceof Array){var f={schema:t,ctx:n};t.extends.forEach(this.schemaTraverser.bind(this,f)),t=f.schema,f.schema=null,f.ctx=null,f=null}else t=s.deepMerge(t,this.superResolve(t.extends,n));if(o=d(t)){var h=this.resolve(t,o,n),p=new u(h.subschema,r,n.propertyPath,h.switchSchema,n.schemas);return this.validateSchema(e,h.subschema,r,p)}var m=r&&r.skipAttributes||[];for(var g in t)if(!i.ignoreProperties[g]&&m.indexOf(g)<0){var y=null,v=this.attributes[g];if(v)y=v.call(this,e,t,r,n);else if(!1===r.allowUnknownAttributes)throw new c("Unsupported attribute: "+g,t);y&&l.importErrors(y)}if("function"==typeof r.rewrite){var b=r.rewrite.call(this,e,t,r,n);l.instance=b}return l},l.prototype.schemaTraverser=function(e,t){e.schema=s.deepMerge(e.schema,this.superResolve(t,e.ctx))},l.prototype.superResolve=function(e,t){var r;return(r=d(e))?this.resolve(e,r,t).subschema:e},l.prototype.resolve=function(e,t,r){if(t=r.resolve(t),r.schemas[t])return{subschema:r.schemas[t],switchSchema:t};var i=n.parse(t),o=i&&i.hash,a=o&&o.length&&t.substr(0,t.length-o.length);if(!a||!r.schemas[a])throw new c("no such schema <"+t+">",e);var u=s.objectGetPath(r.schemas[a],o.substr(1));if(void 0===u)throw new c("no such schema "+o+" located in <"+a+">",e);return{subschema:u,switchSchema:t}},l.prototype.testType=function(e,t,r,n,i){if("function"==typeof this.types[i])return this.types[i].call(this,e);if(i&&"object"==typeof i){var s=this.validateSchema(e,i,r,n);return void 0===s||!(s&&s.errors.length)}return!0};var f=l.prototype.types={};f.string=function(e){return"string"==typeof e},f.number=function(e){return"number"==typeof e&&isFinite(e)},f.integer=function(e){return"number"==typeof e&&e%1==0},f.boolean=function(e){return"boolean"==typeof e},f.array=function(e){return Array.isArray(e)},f.null=function(e){return null===e},f.date=function(e){return e instanceof Date},f.any=function(e){return!0},f.object=function(e){return e&&"object"==typeof e&&!(e instanceof Array)&&!(e instanceof Date)},t.exports=l},{file:"/home/circleci/project/node_modules/jsonschema/lib/validator.js"}],[2619,{url:3820},function(e,t,r){"use strict";var n=e("url"),i=r.ValidationError=function(e,t,r,n,i,s){n&&(this.property=n),e&&(this.message=e),r&&(r.id?this.schema=r.id:this.schema=r),t&&(this.instance=t),this.name=i,this.argument=s,this.stack=this.toString()};i.prototype.toString=function(){return this.property+" "+this.message};var s=r.ValidatorResult=function(e,t,r,n){this.instance=e,this.schema=t,this.propertyPath=n.propertyPath,this.errors=[],this.throwError=r&&r.throwError,this.disableFormat=r&&!0===r.disableFormat};function o(e,t){return t+": "+e.toString()+"\n"}s.prototype.addError=function(e){var t;if("string"==typeof e)t=new i(e,this.instance,this.schema,this.propertyPath);else{if(!e)throw new Error("Missing error detail");if(!e.message)throw new Error("Missing error message");if(!e.name)throw new Error("Missing validator type");t=new i(e.message,this.instance,this.schema,this.propertyPath,e.name,e.argument)}if(this.throwError)throw t;return this.errors.push(t),t},s.prototype.importErrors=function(e){"string"==typeof e||e&&e.validatorType?this.addError(e):e&&e.errors&&Array.prototype.push.apply(this.errors,e.errors)},s.prototype.toString=function(e){return this.errors.map(o).join("")},Object.defineProperty(s.prototype,"valid",{get:function(){return!this.errors.length}});var a=r.SchemaError=function e(t,r){this.message=t,this.schema=r,Error.call(this,t),Error.captureStackTrace(this,e)};a.prototype=Object.create(Error.prototype,{constructor:{value:a,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var c=r.SchemaContext=function(e,t,r,n,i){this.schema=e,this.options=t,this.propertyPath=r,this.base=n,this.schemas=i};c.prototype.resolve=function(e){return n.resolve(this.base,e)},c.prototype.makeChild=function(e,t){var r=void 0===t?this.propertyPath:this.propertyPath+l(t),i=n.resolve(this.base,e.id||""),s=new c(e,this.options,r,i,Object.create(this.schemas));return e.id&&!s.schemas[i]&&(s.schemas[i]=e),s};var u=r.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+-.]*:[^\s]*$/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/,"utc-millisec":function(e){return"string"==typeof e&&parseFloat(e)===parseInt(e,10)&&!isNaN(e)},regex:function(e){var t=!0;try{new RegExp(e)}catch(e){t=!1}return t},style:/\s*(.+?):\s*([^;]+);?/g,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/};u.regexp=u.regex,u.pattern=u.regex,u.ipv4=u["ip-address"],r.isFormat=function(e,t,r){if("string"==typeof e&&void 0!==u[t]){if(u[t]instanceof RegExp)return u[t].test(e);if("function"==typeof u[t])return u[t](e)}else if(r&&r.customFormats&&"function"==typeof r.customFormats[t])return r.customFormats[t](e);return!0};var l=r.makeSuffix=function(e){return(e=e.toString()).match(/[.\s\[\]]/)||e.match(/^[\d]/)?e.match(/^\d+$/)?"["+e+"]":"["+JSON.stringify(e)+"]":"."+e};function d(e,t,r,n){"object"==typeof r?t[n]=p(e[n],r):-1===e.indexOf(r)&&t.push(r)}function f(e,t,r){t[r]=e[r]}function h(e,t,r,n){"object"==typeof t[n]&&t[n]&&e[n]?r[n]=p(e[n],t[n]):r[n]=t[n]}function p(e,t){var r=Array.isArray(t),n=r&&[]||{};return r?(e=e||[],n=n.concat(e),t.forEach(d.bind(null,e,n))):(e&&"object"==typeof e&&Object.keys(e).forEach(f.bind(null,e,n)),Object.keys(t).forEach(h.bind(null,e,t,n))),n}function m(e){return"/"+encodeURIComponent(e).replace(/~/g,"%7E")}r.deepCompareStrict=function e(t,r){if(typeof t!=typeof r)return!1;if(t instanceof Array)return r instanceof Array&&(t.length===r.length&&t.every((function(n,i){return e(t[i],r[i])})));if("object"==typeof t){if(!t||!r)return t===r;var n=Object.keys(t),i=Object.keys(r);return n.length===i.length&&n.every((function(n){return e(t[n],r[n])}))}return t===r},t.exports.deepMerge=p,r.objectGetPath=function(e,t){for(var r,n=t.split("/").slice(1);"string"==typeof(r=n.shift());){var i=decodeURIComponent(r.replace(/~0/,"~").replace(/~1/g,"/"));if(!(i in e))return;e=e[i]}return e},r.encodePath=function(e){return e.map(m).join("")},r.getDecimalPlaces=function(e){var t=0;if(isNaN(e))return t;"number"!=typeof e&&(e=Number(e));var r=e.toString().split("e");if(2===r.length){if("-"!==r[1][0])return t;t=Number(r[1].slice(1))}var n=r[0].split(".");return 2===n.length&&(t+=n[1].length),t}},{file:"/home/circleci/project/node_modules/jsonschema/lib/helpers.js"}],[300,{".":298,"../../../is-buffer/index.js":2568,"ethereumjs-util":344},function(e,t,r){(function(t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("ethereumjs-util"),i=e("."),s=function(){function e(){}return e.fromTxData=function(e,t){if(void 0===t&&(t={}),"type"in e&&void 0!==e.type){var r=new n.BN(n.toBuffer(e.type)).toNumber();if(0===r)return i.Transaction.fromTxData(e,t);if(1===r)return i.AccessListEIP2930Transaction.fromTxData(e,t);if(2===r)return i.FeeMarketEIP1559Transaction.fromTxData(e,t);throw new Error("Tx instantiation with type "+r+" not supported")}return i.Transaction.fromTxData(e,t)},e.fromSerializedData=function(e,t){if(void 0===t&&(t={}),e[0]<=127){var r=void 0;switch(e[0]){case 1:r=2930;break;case 2:r=1559;break;default:throw new Error("TypedTransaction with ID "+e[0]+" unknown")}return 1559===r?i.FeeMarketEIP1559Transaction.fromSerializedTx(e,t):i.AccessListEIP2930Transaction.fromSerializedTx(e,t)}return i.Transaction.fromSerializedTx(e,t)},e.fromBlockBodyData=function(e,r){if(void 0===r&&(r={}),t.isBuffer(e))return this.fromSerializedData(e,r);if(Array.isArray(e))return i.Transaction.fromValuesArray(e,r);throw new Error("Cannot decode transaction: unknown type input")},e.getTransactionClass=function(e,t){if(void 0===e&&(e=0),0==e||e>=128&&e<=255)return i.Transaction;switch(e){case 1:return i.AccessListEIP2930Transaction;case 2:return i.FeeMarketEIP1559Transaction;default:throw new Error("TypedTransaction with ID "+e+" unknown")}},e}();r.default=s}).call(this,{isBuffer:e("../../../is-buffer/index.js")})},{file:"/home/circleci/project/node_modules/@ethereumjs/tx/dist.browser/transactionFactory.js"}],[296,{"./baseTransaction":295,"./types":301,"./util":302,buffer:1713,"ethereumjs-util":344},function(e,t,r){(function(t){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__assign||function(){return(s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,s=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o};Object.defineProperty(r,"__esModule",{value:!0});var a=e("ethereumjs-util"),c=e("./baseTransaction"),u=e("./types"),l=e("./util"),d=t.from(2..toString(16).padStart(2,"0"),"hex"),f=function(e){function r(t,r){var n,i;void 0===r&&(r={});var o=e.call(this,s(s({},t),{type:2}))||this;o.DEFAULT_HARDFORK="london";var c=t.chainId,d=t.accessList,f=t.maxFeePerGas,h=t.maxPriorityFeePerGas;if(o.common=o._getCommon(r.common,c),o.chainId=o.common.chainIdBN(),!o.common.isActivatedEIP(1559))throw new Error("EIP-1559 not enabled on Common");o.activeCapabilities=o.activeCapabilities.concat([1559,2718,2930]);var p=l.AccessLists.getAccessListData(null!=d?d:[]);if(o.accessList=p.accessList,o.AccessListJSON=p.AccessListJSON,l.AccessLists.verifyAccessList(o.accessList),o.maxFeePerGas=new a.BN(a.toBuffer(""===f?"0x":f)),o.maxPriorityFeePerGas=new a.BN(a.toBuffer(""===h?"0x":h)),o._validateCannotExceedMaxInteger({maxFeePerGas:o.maxFeePerGas,maxPriorityFeePerGas:o.maxPriorityFeePerGas},256),o.maxFeePerGas.lt(o.maxPriorityFeePerGas))throw new Error("maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)");if(o.v&&!o.v.eqn(0)&&!o.v.eqn(1))throw new Error("The y-parity of the transaction should either be 0 or 1");if(o.common.gteHardfork("homestead")&&(null===(n=o.s)||void 0===n?void 0:n.gt(u.N_DIV_2)))throw new Error("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");return(null===(i=null==r?void 0:r.freeze)||void 0===i||i)&&Object.freeze(o),o}return i(r,e),Object.defineProperty(r.prototype,"senderR",{get:function(){return this.r},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"senderS",{get:function(){return this.s},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"yParity",{get:function(){return this.v},enumerable:!1,configurable:!0}),r.fromTxData=function(e,t){return void 0===t&&(t={}),new r(e,t)},r.fromSerializedTx=function(e,t){if(void 0===t&&(t={}),!e.slice(0,1).equals(d))throw new Error("Invalid serialized tx input: not an EIP-1559 transaction (wrong tx type, expected: 2, received: "+e.slice(0,1).toString("hex"));var n=a.rlp.decode(e.slice(1));if(!Array.isArray(n))throw new Error("Invalid serialized tx input: must be array");return r.fromValuesArray(n,t)},r.fromRlpSerializedTx=function(e,t){return void 0===t&&(t={}),r.fromSerializedTx(e,t)},r.fromValuesArray=function(e,t){if(void 0===t&&(t={}),9!==e.length&&12!==e.length)throw new Error("Invalid EIP-1559 transaction. Only expecting 9 values (for unsigned tx) or 12 values (for signed tx).");var n=o(e,12),i=n[0],s=n[1],c=n[2],u=n[3],l=n[4],d=n[5],f=n[6],h=n[7],p=n[8],m=n[9],g=n[10],y=n[11];return new r({chainId:new a.BN(i),nonce:s,maxPriorityFeePerGas:c,maxFeePerGas:u,gasLimit:l,to:d,value:f,data:h,accessList:null!=p?p:[],v:void 0!==m?new a.BN(m):void 0,r:g,s:y},t)},r.prototype.getDataFee=function(){var t=e.prototype.getDataFee.call(this);return t.iaddn(l.AccessLists.getDataFeeEIP2930(this.accessList,this.common)),t},r.prototype.getUpfrontCost=function(e){void 0===e&&(e=new a.BN(0));var t=a.BN.min(this.maxPriorityFeePerGas,this.maxFeePerGas.sub(e)).add(e);return this.gasLimit.mul(t).add(this.value)},r.prototype.raw=function(){return[a.bnToUnpaddedBuffer(this.chainId),a.bnToUnpaddedBuffer(this.nonce),a.bnToUnpaddedBuffer(this.maxPriorityFeePerGas),a.bnToUnpaddedBuffer(this.maxFeePerGas),a.bnToUnpaddedBuffer(this.gasLimit),void 0!==this.to?this.to.buf:t.from([]),a.bnToUnpaddedBuffer(this.value),this.data,this.accessList,void 0!==this.v?a.bnToUnpaddedBuffer(this.v):t.from([]),void 0!==this.r?a.bnToUnpaddedBuffer(this.r):t.from([]),void 0!==this.s?a.bnToUnpaddedBuffer(this.s):t.from([])]},r.prototype.serialize=function(){var e=this.raw();return t.concat([d,a.rlp.encode(e)])},r.prototype.getMessageToSign=function(e){void 0===e&&(e=!0);var r=this.raw().slice(0,9),n=t.concat([d,a.rlp.encode(r)]);return e?a.keccak256(n):n},r.prototype.hash=function(){if(!this.isSigned())throw new Error("Cannot call hash method if transaction is not signed");return a.keccak256(this.serialize())},r.prototype.getMessageToVerifySignature=function(){return this.getMessageToSign()},r.prototype.getSenderPublicKey=function(){var e;if(!this.isSigned())throw new Error("Cannot call this method if transaction is not signed");var t=this.getMessageToVerifySignature();if(this.common.gteHardfork("homestead")&&(null===(e=this.s)||void 0===e?void 0:e.gt(u.N_DIV_2)))throw new Error("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");var r=this,n=r.v,i=r.r,s=r.s;try{return a.ecrecover(t,n.addn(27),a.bnToUnpaddedBuffer(i),a.bnToUnpaddedBuffer(s))}catch(e){throw new Error("Invalid Signature")}},r.prototype._processSignature=function(e,t,n){var i={common:this.common};return r.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:new a.BN(e-27),r:new a.BN(t),s:new a.BN(n)},i)},r.prototype.toJSON=function(){var e=l.AccessLists.getAccessListJSON(this.accessList);return{chainId:a.bnToHex(this.chainId),nonce:a.bnToHex(this.nonce),maxPriorityFeePerGas:a.bnToHex(this.maxPriorityFeePerGas),maxFeePerGas:a.bnToHex(this.maxFeePerGas),gasLimit:a.bnToHex(this.gasLimit),to:void 0!==this.to?this.to.toString():void 0,value:a.bnToHex(this.value),data:"0x"+this.data.toString("hex"),accessList:e,v:void 0!==this.v?a.bnToHex(this.v):void 0,r:void 0!==this.r?a.bnToHex(this.r):void 0,s:void 0!==this.s?a.bnToHex(this.s):void 0}},r}(c.BaseTransaction);r.default=f}).call(this,e("buffer").Buffer)},{file:"/home/circleci/project/node_modules/@ethereumjs/tx/dist.browser/eip1559Transaction.js"}],[301,{"ethereumjs-util":344},function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.N_DIV_2=r.isAccessList=r.isAccessListBuffer=r.Capability=void 0;var n=e("ethereumjs-util");function i(e){if(0===e.length)return!0;var t=e[0];return!!Array.isArray(t)}!function(e){e[e.EIP155ReplayProtection=155]="EIP155ReplayProtection",e[e.EIP1559FeeMarket=1559]="EIP1559FeeMarket",e[e.EIP2718TypedTransaction=2718]="EIP2718TypedTransaction",e[e.EIP2930AccessLists=2930]="EIP2930AccessLists"}(r.Capability||(r.Capability={})),r.isAccessListBuffer=i,r.isAccessList=function(e){return!i(e)},r.N_DIV_2=new n.BN("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16)},{file:"/home/circleci/project/node_modules/@ethereumjs/tx/dist.browser/types.js"}],[297,{"./baseTransaction":295,"./types":301,"./util":302,buffer:1713,"ethereumjs-util":344},function(e,t,r){(function(t){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__assign||function(){return(s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,s=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o};Object.defineProperty(r,"__esModule",{value:!0});var a=e("ethereumjs-util"),c=e("./baseTransaction"),u=e("./types"),l=e("./util"),d=t.from(1..toString(16).padStart(2,"0"),"hex"),f=function(e){function r(t,r){var n,i;void 0===r&&(r={});var o=e.call(this,s(s({},t),{type:1}))||this;o.DEFAULT_HARDFORK="berlin";var c=t.chainId,d=t.accessList,f=t.gasPrice;if(o.common=o._getCommon(r.common,c),o.chainId=o.common.chainIdBN(),!o.common.isActivatedEIP(2930))throw new Error("EIP-2930 not enabled on Common");o.activeCapabilities=o.activeCapabilities.concat([2718,2930]);var h=l.AccessLists.getAccessListData(null!=d?d:[]);if(o.accessList=h.accessList,o.AccessListJSON=h.AccessListJSON,l.AccessLists.verifyAccessList(o.accessList),o.gasPrice=new a.BN(a.toBuffer(""===f?"0x":f)),o._validateCannotExceedMaxInteger({gasPrice:o.gasPrice}),o.v&&!o.v.eqn(0)&&!o.v.eqn(1))throw new Error("The y-parity of the transaction should either be 0 or 1");if(o.common.gteHardfork("homestead")&&(null===(n=o.s)||void 0===n?void 0:n.gt(u.N_DIV_2)))throw new Error("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");return(null===(i=null==r?void 0:r.freeze)||void 0===i||i)&&Object.freeze(o),o}return i(r,e),Object.defineProperty(r.prototype,"senderR",{get:function(){return this.r},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"senderS",{get:function(){return this.s},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"yParity",{get:function(){return this.v},enumerable:!1,configurable:!0}),r.fromTxData=function(e,t){return void 0===t&&(t={}),new r(e,t)},r.fromSerializedTx=function(e,t){if(void 0===t&&(t={}),!e.slice(0,1).equals(d))throw new Error("Invalid serialized tx input: not an EIP-2930 transaction (wrong tx type, expected: 1, received: "+e.slice(0,1).toString("hex"));var n=a.rlp.decode(e.slice(1));if(!Array.isArray(n))throw new Error("Invalid serialized tx input: must be array");return r.fromValuesArray(n,t)},r.fromRlpSerializedTx=function(e,t){return void 0===t&&(t={}),r.fromSerializedTx(e,t)},r.fromValuesArray=function(e,t){if(void 0===t&&(t={}),8!==e.length&&11!==e.length)throw new Error("Invalid EIP-2930 transaction. Only expecting 8 values (for unsigned tx) or 11 values (for signed tx).");var n=o(e,11),i=n[0],s=n[1],c=n[2],u=n[3],l=n[4],d=n[5],f=n[6],h=n[7],p=n[8],m=n[9],g=n[10];return new r({chainId:new a.BN(i),nonce:s,gasPrice:c,gasLimit:u,to:l,value:d,data:f,accessList:null!=h?h:[],v:void 0!==p?new a.BN(p):void 0,r:m,s:g},t)},r.prototype.getDataFee=function(){var t=e.prototype.getDataFee.call(this);return t.iaddn(l.AccessLists.getDataFeeEIP2930(this.accessList,this.common)),t},r.prototype.getUpfrontCost=function(){return this.gasLimit.mul(this.gasPrice).add(this.value)},r.prototype.raw=function(){return[a.bnToUnpaddedBuffer(this.chainId),a.bnToUnpaddedBuffer(this.nonce),a.bnToUnpaddedBuffer(this.gasPrice),a.bnToUnpaddedBuffer(this.gasLimit),void 0!==this.to?this.to.buf:t.from([]),a.bnToUnpaddedBuffer(this.value),this.data,this.accessList,void 0!==this.v?a.bnToUnpaddedBuffer(this.v):t.from([]),void 0!==this.r?a.bnToUnpaddedBuffer(this.r):t.from([]),void 0!==this.s?a.bnToUnpaddedBuffer(this.s):t.from([])]},r.prototype.serialize=function(){var e=this.raw();return t.concat([d,a.rlp.encode(e)])},r.prototype.getMessageToSign=function(e){void 0===e&&(e=!0);var r=this.raw().slice(0,8),n=t.concat([d,a.rlp.encode(r)]);return e?a.keccak256(n):n},r.prototype.hash=function(){if(!this.isSigned())throw new Error("Cannot call hash method if transaction is not signed");return a.keccak256(this.serialize())},r.prototype.getMessageToVerifySignature=function(){return this.getMessageToSign()},r.prototype.getSenderPublicKey=function(){var e;if(!this.isSigned())throw new Error("Cannot call this method if transaction is not signed");var t=this.getMessageToVerifySignature();if(this.common.gteHardfork("homestead")&&(null===(e=this.s)||void 0===e?void 0:e.gt(u.N_DIV_2)))throw new Error("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");var r=this,n=r.yParity,i=r.r,s=r.s;try{return a.ecrecover(t,n.addn(27),a.bnToUnpaddedBuffer(i),a.bnToUnpaddedBuffer(s))}catch(e){throw new Error("Invalid Signature")}},r.prototype._processSignature=function(e,t,n){var i={common:this.common};return r.fromTxData({chainId:this.chainId,nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:new a.BN(e-27),r:new a.BN(t),s:new a.BN(n)},i)},r.prototype.toJSON=function(){var e=l.AccessLists.getAccessListJSON(this.accessList);return{chainId:a.bnToHex(this.chainId),nonce:a.bnToHex(this.nonce),gasPrice:a.bnToHex(this.gasPrice),gasLimit:a.bnToHex(this.gasLimit),to:void 0!==this.to?this.to.toString():void 0,value:a.bnToHex(this.value),data:"0x"+this.data.toString("hex"),accessList:e,v:void 0!==this.v?a.bnToHex(this.v):void 0,r:void 0!==this.r?a.bnToHex(this.r):void 0,s:void 0!==this.s?a.bnToHex(this.s):void 0}},r}(c.BaseTransaction);r.default=f}).call(this,e("buffer").Buffer)},{file:"/home/circleci/project/node_modules/@ethereumjs/tx/dist.browser/eip2930Transaction.js"}],[299,{"./baseTransaction":295,"./types":301,buffer:1713,"ethereumjs-util":344},function(e,t,r){(function(t){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__assign||function(){return(s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,s=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o};Object.defineProperty(r,"__esModule",{value:!0});var a=e("ethereumjs-util"),c=e("./types"),u=e("./baseTransaction"),l=function(e){function r(t,r){var n;void 0===r&&(r={});var i=e.call(this,s(s({},t),{type:0}))||this;if(i.common=i._validateTxV(i.v,r.common),i.gasPrice=new a.BN(a.toBuffer(""===t.gasPrice?"0x":t.gasPrice)),i._validateCannotExceedMaxInteger({gasPrice:i.gasPrice}),i.common.gteHardfork("spuriousDragon"))if(i.isSigned()){var o=i.v,u=i.common.chainIdBN().muln(2);(o.eq(u.addn(35))||o.eq(u.addn(36)))&&i.activeCapabilities.push(c.Capability.EIP155ReplayProtection)}else i.activeCapabilities.push(c.Capability.EIP155ReplayProtection);return(null===(n=null==r?void 0:r.freeze)||void 0===n||n)&&Object.freeze(i),i}return i(r,e),r.fromTxData=function(e,t){return void 0===t&&(t={}),new r(e,t)},r.fromSerializedTx=function(e,t){void 0===t&&(t={});var r=a.rlp.decode(e);if(!Array.isArray(r))throw new Error("Invalid serialized tx input. Must be array");return this.fromValuesArray(r,t)},r.fromRlpSerializedTx=function(e,t){return void 0===t&&(t={}),r.fromSerializedTx(e,t)},r.fromValuesArray=function(e,t){if(void 0===t&&(t={}),6!==e.length&&9!==e.length)throw new Error("Invalid transaction. Only expecting 6 values (for unsigned tx) or 9 values (for signed tx).");var n=o(e,9);return new r({nonce:n[0],gasPrice:n[1],gasLimit:n[2],to:n[3],value:n[4],data:n[5],v:n[6],r:n[7],s:n[8]},t)},r.prototype.raw=function(){return[a.bnToUnpaddedBuffer(this.nonce),a.bnToUnpaddedBuffer(this.gasPrice),a.bnToUnpaddedBuffer(this.gasLimit),void 0!==this.to?this.to.buf:t.from([]),a.bnToUnpaddedBuffer(this.value),this.data,void 0!==this.v?a.bnToUnpaddedBuffer(this.v):t.from([]),void 0!==this.r?a.bnToUnpaddedBuffer(this.r):t.from([]),void 0!==this.s?a.bnToUnpaddedBuffer(this.s):t.from([])]},r.prototype.serialize=function(){return a.rlp.encode(this.raw())},r.prototype._getMessageToSign=function(){var e=[a.bnToUnpaddedBuffer(this.nonce),a.bnToUnpaddedBuffer(this.gasPrice),a.bnToUnpaddedBuffer(this.gasLimit),void 0!==this.to?this.to.buf:t.from([]),a.bnToUnpaddedBuffer(this.value),this.data];return this.supports(c.Capability.EIP155ReplayProtection)&&(e.push(a.toBuffer(this.common.chainIdBN())),e.push(a.unpadBuffer(a.toBuffer(0))),e.push(a.unpadBuffer(a.toBuffer(0)))),e},r.prototype.getMessageToSign=function(e){void 0===e&&(e=!0);var t=this._getMessageToSign();return e?a.rlphash(t):t},r.prototype.getUpfrontCost=function(){return this.gasLimit.mul(this.gasPrice).add(this.value)},r.prototype.hash=function(){return a.rlphash(this.raw())},r.prototype.getMessageToVerifySignature=function(){if(!this.isSigned())throw Error("This transaction is not signed");var e=this._getMessageToSign();return a.rlphash(e)},r.prototype.getSenderPublicKey=function(){var e,t=this.getMessageToVerifySignature();if(this.common.gteHardfork("homestead")&&(null===(e=this.s)||void 0===e?void 0:e.gt(c.N_DIV_2)))throw new Error("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");var r=this,n=r.v,i=r.r,s=r.s;try{return a.ecrecover(t,n,a.bnToUnpaddedBuffer(i),a.bnToUnpaddedBuffer(s),this.supports(c.Capability.EIP155ReplayProtection)?this.common.chainIdBN():void 0)}catch(e){throw new Error("Invalid Signature")}},r.prototype._processSignature=function(e,t,n){var i=new a.BN(e);this.supports(c.Capability.EIP155ReplayProtection)&&i.iadd(this.common.chainIdBN().muln(2).addn(8));var s={common:this.common};return r.fromTxData({nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,v:i,r:new a.BN(t),s:new a.BN(n)},s)},r.prototype.toJSON=function(){return{nonce:a.bnToHex(this.nonce),gasPrice:a.bnToHex(this.gasPrice),gasLimit:a.bnToHex(this.gasLimit),to:void 0!==this.to?this.to.toString():void 0,value:a.bnToHex(this.value),data:"0x"+this.data.toString("hex"),v:void 0!==this.v?a.bnToHex(this.v):void 0,r:void 0!==this.r?a.bnToHex(this.r):void 0,s:void 0!==this.s?a.bnToHex(this.s):void 0}},r.prototype._validateTxV=function(e,t){var r;if(void 0!==e&&!e.eqn(0)&&(!t||t.gteHardfork("spuriousDragon"))&&!e.eqn(27)&&!e.eqn(28))if(t){var n=t.chainIdBN().muln(2);if(!(e.eq(n.addn(35))||e.eq(n.addn(36))))throw new Error("Incompatible EIP155-based V "+e.toString()+" and chain id "+t.chainIdBN().toString()+". See the Common parameter of the Transaction constructor to set the chain id.")}else{var i=void 0;i=e.subn(35).isEven()?35:36,r=e.subn(i).divn(2)}return this._getCommon(t,r)},r.prototype._unsignedTxImplementsEIP155=function(){return this.common.gteHardfork("spuriousDragon")},r.prototype._signedTxImplementsEIP155=function(){if(!this.isSigned())throw Error("This transaction is not signed");var e=this.common.gteHardfork("spuriousDragon"),t=this.v,r=this.common.chainIdBN().muln(2);return(t.eq(r.addn(35))||t.eq(r.addn(36)))&&e},r}(u.BaseTransaction);r.default=l}).call(this,e("buffer").Buffer)},{file:"/home/circleci/project/node_modules/@ethereumjs/tx/dist.browser/legacyTransaction.js"}],[263,{"./aleut.json":259,"./baikal.json":260,"./calaveras.json":261,"./goerli.json":262,"./kovan.json":264,"./mainnet.json":265,"./rinkeby.json":266,"./ropsten.json":267,"./yolov3.json":268},function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.chains=r._getInitializedChains=void 0;var s=i(e("./mainnet.json")),o=i(e("./ropsten.json")),a=i(e("./rinkeby.json")),c=i(e("./kovan.json")),u=i(e("./goerli.json")),l=i(e("./yolov3.json")),d=i(e("./aleut.json")),f=i(e("./baikal.json")),h=i(e("./calaveras.json"));function p(e){var t,r,i={1:"mainnet",3:"ropsten",4:"rinkeby",42:"kovan",5:"goerli",34180983699157880:"yolov3",7822:"aleut",1642:"baikal",123:"calaveras"},p={mainnet:s.default,ropsten:o.default,rinkeby:a.default,kovan:c.default,goerli:u.default,yolov3:l.default,aleut:d.default,baikal:f.default,calaveras:h.default};if(e)try{for(var m=n(e),g=m.next();!g.done;g=m.next()){var y=g.value,v=y.name;i[y.chainId.toString()]=v,p[v]=y}}catch(e){t={error:e}}finally{try{g&&!g.done&&(r=m.return)&&r.call(m)}finally{if(t)throw t.error}}return p.names=i,p}r._getInitializedChains=p,r.chains=p()},{file:"/home/circleci/project/node_modules/@ethereumjs/common/dist.browser/chains/index.js"}],[287,{"./berlin.json":281,"./byzantium.json":282,"./chainstart.json":283,"./constantinople.json":284,"./dao.json":285,"./homestead.json":286,"./istanbul.json":288,"./london.json":289,"./muirGlacier.json":290,"./petersburg.json":291,"./spuriousDragon.json":292,"./tangerineWhistle.json":293},function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.hardforks=void 0,r.hardforks=[["chainstart",e("./chainstart.json")],["homestead",e("./homestead.json")],["dao",e("./dao.json")],["tangerineWhistle",e("./tangerineWhistle.json")],["spuriousDragon",e("./spuriousDragon.json")],["byzantium",e("./byzantium.json")],["constantinople",e("./constantinople.json")],["petersburg",e("./petersburg.json")],["istanbul",e("./istanbul.json")],["muirGlacier",e("./muirGlacier.json")],["berlin",e("./berlin.json")],["london",e("./london.json")]]},{file:"/home/circleci/project/node_modules/@ethereumjs/common/dist.browser/hardforks/index.js"}],[280,{"./1559.json":269,"./2315.json":270,"./2537.json":271,"./2565.json":272,"./2718.json":273,"./2929.json":274,"./2930.json":275,"./3198.json":276,"./3529.json":277,"./3541.json":278,"./3554.json":279},function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EIPs=void 0,r.EIPs={1559:e("./1559.json"),2315:e("./2315.json"),2537:e("./2537.json"),2565:e("./2565.json"),2718:e("./2718.json"),2929:e("./2929.json"),2930:e("./2930.json"),3198:e("./3198.json"),3529:e("./3529.json"),3541:e("./3541.json"),3554:e("./3554.json")}},{file:"/home/circleci/project/node_modules/@ethereumjs/common/dist.browser/eips/index.js"}],[1754,{},function(e,t,r){var n;n=function(e){e.version="1.2.0";var t=function(){for(var e=0,t=new Array(256),r=0;256!=r;++r)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=r)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[r]=e;return"undefined"!=typeof Int32Array?new Int32Array(t):t}();e.table=t,e.bstr=function(e,r){for(var n=-1^r,i=e.length-1,s=0;s<i;)n=(n=n>>>8^t[255&(n^e.charCodeAt(s++))])>>>8^t[255&(n^e.charCodeAt(s++))];return s===i&&(n=n>>>8^t[255&(n^e.charCodeAt(s))]),-1^n},e.buf=function(e,r){if(e.length>1e4)return function(e,r){for(var n=-1^r,i=e.length-7,s=0;s<i;)n=(n=(n=(n=(n=(n=(n=(n=n>>>8^t[255&(n^e[s++])])>>>8^t[255&(n^e[s++])])>>>8^t[255&(n^e[s++])])>>>8^t[255&(n^e[s++])])>>>8^t[255&(n^e[s++])])>>>8^t[255&(n^e[s++])])>>>8^t[255&(n^e[s++])])>>>8^t[255&(n^e[s++])];for(;s<i+7;)n=n>>>8^t[255&(n^e[s++])];return-1^n}(e,r);for(var n=-1^r,i=e.length-3,s=0;s<i;)n=(n=(n=(n=n>>>8^t[255&(n^e[s++])])>>>8^t[255&(n^e[s++])])>>>8^t[255&(n^e[s++])])>>>8^t[255&(n^e[s++])];for(;s<i+3;)n=n>>>8^t[255&(n^e[s++])];return-1^n},e.str=function(e,r){for(var n,i,s=-1^r,o=0,a=e.length;o<a;)(n=e.charCodeAt(o++))<128?s=s>>>8^t[255&(s^n)]:n<2048?s=(s=s>>>8^t[255&(s^(192|n>>6&31))])>>>8^t[255&(s^(128|63&n))]:n>=55296&&n<57344?(n=64+(1023&n),i=1023&e.charCodeAt(o++),s=(s=(s=(s=s>>>8^t[255&(s^(240|n>>8&7))])>>>8^t[255&(s^(128|n>>2&63))])>>>8^t[255&(s^(128|i>>6&15|(3&n)<<4))])>>>8^t[255&(s^(128|63&i))]):s=(s=(s=s>>>8^t[255&(s^(224|n>>12&15))])>>>8^t[255&(s^(128|n>>6&63))])>>>8^t[255&(s^(128|63&n))];return-1^s}},"undefined"==typeof DO_NOT_EXPORT_CRC?"object"==typeof r?n(r):"function"==typeof define&&define.amd?define((function(){var e={};return n(e),e})):n({}):n({})},{file:"/home/circleci/project/node_modules/crc-32/crc32.js"}],[1361,{},function(e,t,r){t.exports={name:"analytics-node",version:"3.4.0-beta.3",description:"The hassle-free way to integrate analytics into any Node.js application",license:"MIT",repository:"segmentio/analytics-node",author:{name:"Segment",email:"tools+npm@segment.com",url:"https://segment.com"},engines:{node:">=4"},"size-limit":[{limit:"25 KB",path:"index.js"}],scripts:{"circle-lint":".buildscript/circle.sh",dependencies:"yarn",size:"size-limit",test:"standard && nyc ava --timeout=20s&& .buildscript/e2e.sh","report-coverage":"nyc report --reporter=lcov > coverage.lcov && codecov",np:"np --no-publish",release:"yarn run np"},files:["index.js"],keywords:["analytics","stats","segment.io","segmentio","segment","client","driver"],dependencies:{"@segment/loosely-validate-event":"^2.0.0",axios:"^0.19.2","axios-retry":"^3.0.2","lodash.isstring":"^4.0.1",md5:"^2.2.1",ms:"^2.0.0","remove-trailing-slash":"^0.1.0",uuid:"^3.2.1"},devDependencies:{ava:"^0.25.0","basic-auth":"^2.0.1","body-parser":"^1.17.1",codecov:"^3.0.0",commander:"^2.9.0",delay:"^4.2.0",express:"^4.15.2",husky:"^3.0.4",nyc:"^14.1.1",pify:"^4.0.1",sinon:"^7.3.2","size-limit":"^1.3.5",snyk:"^1.171.1",standard:"^12.0.1"}}},{file:"/home/circleci/project/node_modules/analytics-node/package.json"}],[3491,{},function(e,t,r){(r=t.exports=function(e){return String(e).replace(r.expr,"")}).expr=/\/+$/},{file:"/home/circleci/project/node_modules/remove-trailing-slash/index.js"}],[3010,{},function(e,t,r){var n=1e3,i=60*n,s=60*i,o=24*s,a=7*o,c=365.25*o;function u(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}t.exports=function(e,t){t=t||{};var r=typeof e;if("string"===r&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return r*c;case"weeks":case"week":case"w":return r*a;case"days":case"day":case"d":return r*o;case"hours":case"hour":case"hrs":case"hr":case"h":return r*s;case"minutes":case"minute":case"mins":case"min":case"m":return r*i;case"seconds":case"second":case"secs":case"sec":case"s":return r*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}(e);if("number"===r&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=o)return u(e,t,o,"day");if(t>=s)return u(e,t,s,"hour");if(t>=i)return u(e,t,i,"minute");if(t>=n)return u(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=o)return Math.round(e/o)+"d";if(t>=s)return Math.round(e/s)+"h";if(t>=i)return Math.round(e/i)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{file:"/home/circleci/project/node_modules/ms/index.js"}],[2837,{},function(e,t,r){var n=Object.prototype.toString,i=Array.isArray;t.exports=function(e){return"string"==typeof e||!i(e)&&function(e){return!!e&&"object"==typeof e}(e)&&"[object String]"==n.call(e)}},{file:"/home/circleci/project/node_modules/lodash.isstring/index.js"}],[2998,{charenc:1729,crypt:1762,"is-buffer":2568},function(e,t,r){var n,i,s,o,a;n=e("crypt"),i=e("charenc").utf8,s=e("is-buffer"),o=e("charenc").bin,(a=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?o.stringToBytes(e):i.stringToBytes(e):s(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var r=n.bytesToWords(e),c=8*e.length,u=1732584193,l=-271733879,d=-1732584194,f=271733878,h=0;h<r.length;h++)r[h]=16711935&(r[h]<<8|r[h]>>>24)|4278255360&(r[h]<<24|r[h]>>>8);r[c>>>5]|=128<<c%32,r[14+(c+64>>>9<<4)]=c;var p=a._ff,m=a._gg,g=a._hh,y=a._ii;for(h=0;h<r.length;h+=16){var v=u,b=l,w=d,_=f;u=p(u,l,d,f,r[h+0],7,-680876936),f=p(f,u,l,d,r[h+1],12,-389564586),d=p(d,f,u,l,r[h+2],17,606105819),l=p(l,d,f,u,r[h+3],22,-1044525330),u=p(u,l,d,f,r[h+4],7,-176418897),f=p(f,u,l,d,r[h+5],12,1200080426),d=p(d,f,u,l,r[h+6],17,-1473231341),l=p(l,d,f,u,r[h+7],22,-45705983),u=p(u,l,d,f,r[h+8],7,1770035416),f=p(f,u,l,d,r[h+9],12,-1958414417),d=p(d,f,u,l,r[h+10],17,-42063),l=p(l,d,f,u,r[h+11],22,-1990404162),u=p(u,l,d,f,r[h+12],7,1804603682),f=p(f,u,l,d,r[h+13],12,-40341101),d=p(d,f,u,l,r[h+14],17,-1502002290),u=m(u,l=p(l,d,f,u,r[h+15],22,1236535329),d,f,r[h+1],5,-165796510),f=m(f,u,l,d,r[h+6],9,-1069501632),d=m(d,f,u,l,r[h+11],14,643717713),l=m(l,d,f,u,r[h+0],20,-373897302),u=m(u,l,d,f,r[h+5],5,-701558691),f=m(f,u,l,d,r[h+10],9,38016083),d=m(d,f,u,l,r[h+15],14,-660478335),l=m(l,d,f,u,r[h+4],20,-405537848),u=m(u,l,d,f,r[h+9],5,568446438),f=m(f,u,l,d,r[h+14],9,-1019803690),d=m(d,f,u,l,r[h+3],14,-187363961),l=m(l,d,f,u,r[h+8],20,1163531501),u=m(u,l,d,f,r[h+13],5,-1444681467),f=m(f,u,l,d,r[h+2],9,-51403784),d=m(d,f,u,l,r[h+7],14,1735328473),u=g(u,l=m(l,d,f,u,r[h+12],20,-1926607734),d,f,r[h+5],4,-378558),f=g(f,u,l,d,r[h+8],11,-2022574463),d=g(d,f,u,l,r[h+11],16,1839030562),l=g(l,d,f,u,r[h+14],23,-35309556),u=g(u,l,d,f,r[h+1],4,-1530992060),f=g(f,u,l,d,r[h+4],11,1272893353),d=g(d,f,u,l,r[h+7],16,-155497632),l=g(l,d,f,u,r[h+10],23,-1094730640),u=g(u,l,d,f,r[h+13],4,681279174),f=g(f,u,l,d,r[h+0],11,-358537222),d=g(d,f,u,l,r[h+3],16,-722521979),l=g(l,d,f,u,r[h+6],23,76029189),u=g(u,l,d,f,r[h+9],4,-640364487),f=g(f,u,l,d,r[h+12],11,-421815835),d=g(d,f,u,l,r[h+15],16,530742520),u=y(u,l=g(l,d,f,u,r[h+2],23,-995338651),d,f,r[h+0],6,-198630844),f=y(f,u,l,d,r[h+7],10,1126891415),d=y(d,f,u,l,r[h+14],15,-1416354905),l=y(l,d,f,u,r[h+5],21,-57434055),u=y(u,l,d,f,r[h+12],6,1700485571),f=y(f,u,l,d,r[h+3],10,-1894986606),d=y(d,f,u,l,r[h+10],15,-1051523),l=y(l,d,f,u,r[h+1],21,-2054922799),u=y(u,l,d,f,r[h+8],6,1873313359),f=y(f,u,l,d,r[h+15],10,-30611744),d=y(d,f,u,l,r[h+6],15,-1560198380),l=y(l,d,f,u,r[h+13],21,1309151649),u=y(u,l,d,f,r[h+4],6,-145523070),f=y(f,u,l,d,r[h+11],10,-1120210379),d=y(d,f,u,l,r[h+2],15,718787259),l=y(l,d,f,u,r[h+9],21,-343485551),u=u+v>>>0,l=l+b>>>0,d=d+w>>>0,f=f+_>>>0}return n.endian([u,l,d,f])})._ff=function(e,t,r,n,i,s,o){var a=e+(t&r|~t&n)+(i>>>0)+o;return(a<<s|a>>>32-s)+t},a._gg=function(e,t,r,n,i,s,o){var a=e+(t&n|r&~n)+(i>>>0)+o;return(a<<s|a>>>32-s)+t},a._hh=function(e,t,r,n,i,s,o){var a=e+(t^r^n)+(i>>>0)+o;return(a<<s|a>>>32-s)+t},a._ii=function(e,t,r,n,i,s,o){var a=e+(r^(t|~n))+(i>>>0)+o;return(a<<s|a>>>32-s)+t},a._blocksize=16,a._digestsize=16,t.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var r=n.wordsToBytes(a(e,t));return t&&t.asBytes?r:t&&t.asString?o.bytesToString(r):n.bytesToHex(r)}},{file:"/home/circleci/project/node_modules/md5/md5.js"}],[1275,{assert:1380,buffer:1713,"component-type":1750,"join-component":2593},function(e,t,r){(function(r){var n=e("component-type"),i=e("join-component"),s=e("assert");t.exports=function(e,t){switch(a(e),t=t||e.type,s(t,"You must pass an event type."),t){case"track":return function(e){s(e.anonymousId||e.userId,'You must pass either an "anonymousId" or a "userId".'),s(e.event,'You must pass an "event".')}(e);case"group":return function(e){s(e.anonymousId||e.userId,'You must pass either an "anonymousId" or a "userId".'),s(e.groupId,'You must pass a "groupId".')}(e);case"identify":case"page":case"screen":return function(e){s(e.anonymousId||e.userId,'You must pass either an "anonymousId" or a "userId".')}(e);case"alias":return function(e){s(e.userId,'You must pass a "userId".'),s(e.previousId,'You must pass a "previousId".')}(e);default:s(0,'Invalid event type: "'+t+'"')}};var o={anonymousId:["string","number"],category:"string",context:"object",event:"string",groupId:["string","number"],integrations:"object",name:"string",previousId:["string","number"],timestamp:"date",userId:["string","number"],type:"string"};function a(e){s("object"===n(e),"You must pass a message object.");var t=JSON.stringify(e);for(var a in s(r.byteLength(t,"utf8")<32768,"Your message must be < 32kb."),o){var c=e[a];if(c){var u=o[a];"array"!==n(u)&&(u=[u]);var l="object"===u[0]?"an":"a";s(u.some((function(e){return n(c)===e})),'"'+a+'" must be '+l+" "+i(u,"or")+".")}}}}).call(this,e("buffer").Buffer)},{file:"/home/circleci/project/node_modules/@segment/loosely-validate-event/index.js"}],[1461,{"./lib/index":1462},function(e,t,r){t.exports=e("./lib/index").default},{file:"/home/circleci/project/node_modules/axios-retry/index.js"}],[1463,{"./lib/axios":1465},function(e,t,r){t.exports=e("./lib/axios")},{file:"/home/circleci/project/node_modules/axios/index.js"}],[1763,{"browserify-cipher":1701,"browserify-sign":1708,"browserify-sign/algos":1705,"create-ecdh":1757,"create-hash":1758,"create-hmac":1760,"diffie-hellman":1870,pbkdf2:3209,"public-encrypt":3247,randombytes:3333,randomfill:3334},function(e,t,r){"use strict";r.randomBytes=r.rng=r.pseudoRandomBytes=r.prng=e("randombytes"),r.createHash=r.Hash=e("create-hash"),r.createHmac=r.Hmac=e("create-hmac");var n=e("browserify-sign/algos"),i=Object.keys(n),s=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);r.getHashes=function(){return s};var o=e("pbkdf2");r.pbkdf2=o.pbkdf2,r.pbkdf2Sync=o.pbkdf2Sync;var a=e("browserify-cipher");r.Cipher=a.Cipher,r.createCipher=a.createCipher,r.Cipheriv=a.Cipheriv,r.createCipheriv=a.createCipheriv,r.Decipher=a.Decipher,r.createDecipher=a.createDecipher,r.Decipheriv=a.Decipheriv,r.createDecipheriv=a.createDecipheriv,r.getCiphers=a.getCiphers,r.listCiphers=a.listCiphers;var c=e("diffie-hellman");r.DiffieHellmanGroup=c.DiffieHellmanGroup,r.createDiffieHellmanGroup=c.createDiffieHellmanGroup,r.getDiffieHellman=c.getDiffieHellman,r.createDiffieHellman=c.createDiffieHellman,r.DiffieHellman=c.DiffieHellman;var u=e("browserify-sign");r.createSign=u.createSign,r.Sign=u.Sign,r.createVerify=u.createVerify,r.Verify=u.Verify,r.createECDH=e("create-ecdh");var l=e("public-encrypt");r.publicEncrypt=l.publicEncrypt,r.privateEncrypt=l.privateEncrypt,r.publicDecrypt=l.publicDecrypt,r.privateDecrypt=l.privateDecrypt;var d=e("randomfill");r.randomFill=d.randomFill,r.randomFillSync=d.randomFillSync,r.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},r.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{file:"/home/circleci/project/node_modules/crypto-browserify/index.js"}],[2150,{"./account":2146,"./bytes":2147,"./constants":2148,"./hash":2149,"./object":2151,"./secp256k1v3-adapter":2152,"./signature":2155,"bn.js":1670,"ethjs-util":2191,rlp:3499},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.secp256k1=r.rlp=r.BN=void 0;var s=e("./secp256k1v3-adapter");r.secp256k1=s;var o=e("ethjs-util"),a=e("bn.js");r.BN=a;var c=e("rlp");r.rlp=c,Object.assign(r,o),i(e("./constants"),r),i(e("./account"),r),i(e("./hash"),r),i(e("./signature"),r),i(e("./bytes"),r),i(e("./object"),r)},{file:"/home/circleci/project/node_modules/ethereumjs-wallet/node_modules/ethereumjs-util/dist/index.js"}],[2145,{},function(e,t,r){
/*! MIT License. Copyright 2015-2018 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */
!function(e){"use strict";function n(e){return parseInt(e)===e}function i(e){if(!n(e.length))return!1;for(var t=0;t<e.length;t++)if(!n(e[t])||e[t]<0||e[t]>255)return!1;return!0}function s(e,t){if(e.buffer&&"Uint8Array"===e.name)return t&&(e=e.slice?e.slice():Array.prototype.slice.call(e)),e;if(Array.isArray(e)){if(!i(e))throw new Error("Array contains invalid value: "+e);return new Uint8Array(e)}if(n(e.length)&&i(e))return new Uint8Array(e);throw new Error("unsupported array-like object")}function o(e){return new Uint8Array(e)}function a(e,t,r,n,i){null==n&&null==i||(e=e.slice?e.slice(n,i):Array.prototype.slice.call(e,n,i)),t.set(e,r)}var c,u={toBytes:function(e){var t=[],r=0;for(e=encodeURI(e);r<e.length;){var n=e.charCodeAt(r++);37===n?(t.push(parseInt(e.substr(r,2),16)),r+=2):t.push(n)}return s(t)},fromBytes:function(e){for(var t=[],r=0;r<e.length;){var n=e[r];n<128?(t.push(String.fromCharCode(n)),r++):n>191&&n<224?(t.push(String.fromCharCode((31&n)<<6|63&e[r+1])),r+=2):(t.push(String.fromCharCode((15&n)<<12|(63&e[r+1])<<6|63&e[r+2])),r+=3)}return t.join("")}},l=(c="0123456789abcdef",{toBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},fromBytes:function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push(c[(240&n)>>4]+c[15&n])}return t.join("")}}),d={16:10,24:12,32:14},f=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],h=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],p=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],m=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],g=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],y=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],v=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],b=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],w=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],_=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],k=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],x=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],A=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],P=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],E=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function S(e){for(var t=[],r=0;r<e.length;r+=4)t.push(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]);return t}var T=function(e){if(!(this instanceof T))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:s(e,!0)}),this._prepare()};T.prototype._prepare=function(){var e=d[this.key.length];if(null==e)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var t=0;t<=e;t++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);var r,n=4*(e+1),i=this.key.length/4,s=S(this.key);for(t=0;t<i;t++)r=t>>2,this._Ke[r][t%4]=s[t],this._Kd[e-r][t%4]=s[t];for(var o,a=0,c=i;c<n;){if(o=s[i-1],s[0]^=h[o>>16&255]<<24^h[o>>8&255]<<16^h[255&o]<<8^h[o>>24&255]^f[a]<<24,a+=1,8!=i)for(t=1;t<i;t++)s[t]^=s[t-1];else{for(t=1;t<i/2;t++)s[t]^=s[t-1];o=s[i/2-1],s[i/2]^=h[255&o]^h[o>>8&255]<<8^h[o>>16&255]<<16^h[o>>24&255]<<24;for(t=i/2+1;t<i;t++)s[t]^=s[t-1]}for(t=0;t<i&&c<n;)u=c>>2,l=c%4,this._Ke[u][l]=s[t],this._Kd[e-u][l]=s[t++],c++}for(var u=1;u<e;u++)for(var l=0;l<4;l++)o=this._Kd[u][l],this._Kd[u][l]=x[o>>24&255]^A[o>>16&255]^P[o>>8&255]^E[255&o]},T.prototype.encrypt=function(e){if(16!=e.length)throw new Error("invalid plaintext size (must be 16 bytes)");for(var t=this._Ke.length-1,r=[0,0,0,0],n=S(e),i=0;i<4;i++)n[i]^=this._Ke[0][i];for(var s=1;s<t;s++){for(i=0;i<4;i++)r[i]=m[n[i]>>24&255]^g[n[(i+1)%4]>>16&255]^y[n[(i+2)%4]>>8&255]^v[255&n[(i+3)%4]]^this._Ke[s][i];n=r.slice()}var a,c=o(16);for(i=0;i<4;i++)a=this._Ke[t][i],c[4*i]=255&(h[n[i]>>24&255]^a>>24),c[4*i+1]=255&(h[n[(i+1)%4]>>16&255]^a>>16),c[4*i+2]=255&(h[n[(i+2)%4]>>8&255]^a>>8),c[4*i+3]=255&(h[255&n[(i+3)%4]]^a);return c},T.prototype.decrypt=function(e){if(16!=e.length)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var t=this._Kd.length-1,r=[0,0,0,0],n=S(e),i=0;i<4;i++)n[i]^=this._Kd[0][i];for(var s=1;s<t;s++){for(i=0;i<4;i++)r[i]=b[n[i]>>24&255]^w[n[(i+3)%4]>>16&255]^_[n[(i+2)%4]>>8&255]^k[255&n[(i+1)%4]]^this._Kd[s][i];n=r.slice()}var a,c=o(16);for(i=0;i<4;i++)a=this._Kd[t][i],c[4*i]=255&(p[n[i]>>24&255]^a>>24),c[4*i+1]=255&(p[n[(i+3)%4]>>16&255]^a>>16),c[4*i+2]=255&(p[n[(i+2)%4]>>8&255]^a>>8),c[4*i+3]=255&(p[255&n[(i+1)%4]]^a);return c};var j=function(e){if(!(this instanceof j))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new T(e)};j.prototype.encrypt=function(e){if((e=s(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=o(e.length),r=o(16),n=0;n<e.length;n+=16)a(e,r,0,n,n+16),a(r=this._aes.encrypt(r),t,n);return t},j.prototype.decrypt=function(e){if((e=s(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=o(e.length),r=o(16),n=0;n<e.length;n+=16)a(e,r,0,n,n+16),a(r=this._aes.decrypt(r),t,n);return t};var C=function(e,t){if(!(this instanceof C))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=o(16);this._lastCipherblock=s(t,!0),this._aes=new T(e)};C.prototype.encrypt=function(e){if((e=s(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=o(e.length),r=o(16),n=0;n<e.length;n+=16){a(e,r,0,n,n+16);for(var i=0;i<16;i++)r[i]^=this._lastCipherblock[i];this._lastCipherblock=this._aes.encrypt(r),a(this._lastCipherblock,t,n)}return t},C.prototype.decrypt=function(e){if((e=s(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=o(e.length),r=o(16),n=0;n<e.length;n+=16){a(e,r,0,n,n+16),r=this._aes.decrypt(r);for(var i=0;i<16;i++)t[n+i]=r[i]^this._lastCipherblock[i];a(e,this._lastCipherblock,0,n,n+16)}return t};var I=function(e,t,r){if(!(this instanceof I))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 size)")}else t=o(16);r||(r=1),this.segmentSize=r,this._shiftRegister=s(t,!0),this._aes=new T(e)};I.prototype.encrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var t,r=s(e,!0),n=0;n<r.length;n+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var i=0;i<this.segmentSize;i++)r[n+i]^=t[i];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(r,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return r},I.prototype.decrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var t,r=s(e,!0),n=0;n<r.length;n+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var i=0;i<this.segmentSize;i++)r[n+i]^=t[i];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(e,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return r};var O=function(e,t){if(!(this instanceof O))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=o(16);this._lastPrecipher=s(t,!0),this._lastPrecipherIndex=16,this._aes=new T(e)};O.prototype.encrypt=function(e){for(var t=s(e,!0),r=0;r<t.length;r++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),t[r]^=this._lastPrecipher[this._lastPrecipherIndex++];return t},O.prototype.decrypt=O.prototype.encrypt;var B=function(e){if(!(this instanceof B))throw Error("Counter must be instanitated with `new`");0===e||e||(e=1),"number"==typeof e?(this._counter=o(16),this.setValue(e)):this.setBytes(e)};B.prototype.setValue=function(e){if("number"!=typeof e||parseInt(e)!=e)throw new Error("invalid counter value (must be an integer)");if(e>Number.MAX_SAFE_INTEGER)throw new Error("integer value out of safe range");for(var t=15;t>=0;--t)this._counter[t]=e%256,e=parseInt(e/256)},B.prototype.setBytes=function(e){if(16!=(e=s(e,!0)).length)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=e},B.prototype.increment=function(){for(var e=15;e>=0;e--){if(255!==this._counter[e]){this._counter[e]++;break}this._counter[e]=0}};var N=function(e,t){if(!(this instanceof N))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",t instanceof B||(t=new B(t)),this._counter=t,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new T(e)};N.prototype.encrypt=function(e){for(var t=s(e,!0),r=0;r<t.length;r++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),t[r]^=this._remainingCounter[this._remainingCounterIndex++];return t},N.prototype.decrypt=N.prototype.encrypt;var M={AES:T,Counter:B,ModeOfOperation:{ecb:j,cbc:C,cfb:I,ofb:O,ctr:N},utils:{hex:l,utf8:u},padding:{pkcs7:{pad:function(e){var t=16-(e=s(e,!0)).length%16,r=o(e.length+t);a(e,r);for(var n=e.length;n<r.length;n++)r[n]=t;return r},strip:function(e){if((e=s(e,!0)).length<16)throw new Error("PKCS#7 invalid length");var t=e[e.length-1];if(t>16)throw new Error("PKCS#7 padding byte out of range");for(var r=e.length-t,n=0;n<t;n++)if(e[r+n]!==t)throw new Error("PKCS#7 invalid padding byte");var i=o(r);return a(e,i,0,0,r),i}}},_arrayTest:{coerceArray:s,createArray:o,copyArray:a}};void 0!==r?t.exports=M:"function"==typeof define&&define.amd?define([],(function(){return M})):(e.aesjs&&(M._aesjs=e.aesjs),e.aesjs=M)}(this)},{file:"/home/circleci/project/node_modules/ethereumjs-wallet/node_modules/aes-js/index.js"}],[3620,{buffer:1713,pbkdf2:3209},function(e,t,r){(function(r){var n=e("pbkdf2").pbkdf2Sync,i=2147483647;function s(e,t,n,i,s){if(r.isBuffer(e)&&r.isBuffer(n))e.copy(n,i,t,t+s);else for(;s--;)n[i++]=e[t++]}t.exports=function(e,t,o,a,c,u,l){if(0===o||0!=(o&o-1))throw Error("N must be > 0 and a power of 2");if(o>i/128/a)throw Error("Parameter N is too large");if(a>i/128/c)throw Error("Parameter r is too large");var d,f=new r(256*a),h=new r(128*a*o),p=new Int32Array(16),m=new Int32Array(16),g=new r(64),y=n(e,t,1,128*c*a,"sha256");if(l){var v=c*o*2,b=0;d=function(){++b%1e3==0&&l({current:b,total:v,percent:b/v*100})}}for(var w=0;w<c;w++)_(y,128*w*a,a,o,h,f);return n(e,y,1,u,"sha256");function _(e,t,r,n,i,s){var o,a=128*r;for(e.copy(s,0,t,t+a),o=0;o<n;o++)s.copy(i,o*a,0,0+a),k(s,0,a,r),d&&d();for(o=0;o<n;o++){var c=0+64*(2*r-1);P(i,(s.readUInt32LE(c)&n-1)*a,s,0,a),k(s,0,a,r),d&&d()}s.copy(e,t,0,0+a)}function k(e,t,r,n){var i;for(s(e,t+64*(2*n-1),g,0,64),i=0;i<2*n;i++)P(e,64*i,g,0,64),A(g),s(g,0,e,r+64*i,64);for(i=0;i<n;i++)s(e,r+2*i*64,e,t+64*i,64);for(i=0;i<n;i++)s(e,r+64*(2*i+1),e,t+64*(i+n),64)}function x(e,t){return e<<t|e>>>32-t}function A(e){var t;for(t=0;t<16;t++)p[t]=(255&e[4*t+0])<<0,p[t]|=(255&e[4*t+1])<<8,p[t]|=(255&e[4*t+2])<<16,p[t]|=(255&e[4*t+3])<<24;for(s(p,0,m,0,16),t=8;t>0;t-=2)m[4]^=x(m[0]+m[12],7),m[8]^=x(m[4]+m[0],9),m[12]^=x(m[8]+m[4],13),m[0]^=x(m[12]+m[8],18),m[9]^=x(m[5]+m[1],7),m[13]^=x(m[9]+m[5],9),m[1]^=x(m[13]+m[9],13),m[5]^=x(m[1]+m[13],18),m[14]^=x(m[10]+m[6],7),m[2]^=x(m[14]+m[10],9),m[6]^=x(m[2]+m[14],13),m[10]^=x(m[6]+m[2],18),m[3]^=x(m[15]+m[11],7),m[7]^=x(m[3]+m[15],9),m[11]^=x(m[7]+m[3],13),m[15]^=x(m[11]+m[7],18),m[1]^=x(m[0]+m[3],7),m[2]^=x(m[1]+m[0],9),m[3]^=x(m[2]+m[1],13),m[0]^=x(m[3]+m[2],18),m[6]^=x(m[5]+m[4],7),m[7]^=x(m[6]+m[5],9),m[4]^=x(m[7]+m[6],13),m[5]^=x(m[4]+m[7],18),m[11]^=x(m[10]+m[9],7),m[8]^=x(m[11]+m[10],9),m[9]^=x(m[8]+m[11],13),m[10]^=x(m[9]+m[8],18),m[12]^=x(m[15]+m[14],7),m[13]^=x(m[12]+m[15],9),m[14]^=x(m[13]+m[12],13),m[15]^=x(m[14]+m[13],18);for(t=0;t<16;++t)p[t]=m[t]+p[t];for(t=0;t<16;t++){var r=4*t;e[r+0]=p[t]>>0&255,e[r+1]=p[t]>>8&255,e[r+2]=p[t]>>16&255,e[r+3]=p[t]>>24&255}}function P(e,t,r,n,i){for(var s=0;s<i;s++)r[n+s]^=e[t+s]}}}).call(this,e("buffer").Buffer)},{file:"/home/circleci/project/node_modules/scryptsy/lib/scrypt.js"}],[3823,{},function(e,t,r){!function(e){var t,r,n,i=String.fromCharCode;function s(e){for(var t,r,n=[],i=0,s=e.length;i<s;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<s?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function o(e){if(e>=55296&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}function a(e,t){return i(e>>t&63|128)}function c(e){if(0==(4294967168&e))return i(e);var t="";return 0==(4294965248&e)?t=i(e>>6&31|192):0==(4294901760&e)?(o(e),t=i(e>>12&15|224),t+=a(e,6)):0==(4292870144&e)&&(t=i(e>>18&7|240),t+=a(e,12),t+=a(e,6)),t+=i(63&e|128)}function u(){if(n>=r)throw Error("Invalid byte index");var e=255&t[n];if(n++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function l(){var e,i;if(n>r)throw Error("Invalid byte index");if(n==r)return!1;if(e=255&t[n],n++,0==(128&e))return e;if(192==(224&e)){if((i=(31&e)<<6|u())>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&e)){if((i=(15&e)<<12|u()<<6|u())>=2048)return o(i),i;throw Error("Invalid continuation byte")}if(240==(248&e)&&(i=(7&e)<<18|u()<<12|u()<<6|u())>=65536&&i<=1114111)return i;throw Error("Invalid UTF-8 detected")}e.version="3.0.0",e.encode=function(e){for(var t=s(e),r=t.length,n=-1,i="";++n<r;)i+=c(t[n]);return i},e.decode=function(e){t=s(e),r=t.length,n=0;for(var o,a=[];!1!==(o=l());)a.push(o);return function(e){for(var t,r=e.length,n=-1,s="";++n<r;)(t=e[n])>65535&&(s+=i((t-=65536)>>>10&1023|55296),t=56320|1023&t),s+=i(t);return s}(a)}}(void 0===r?this.utf8={}:r)},{file:"/home/circleci/project/node_modules/utf8/utf8.js"}],[1720,{"./base":1719,"create-hash":1758},function(e,t,r){"use strict";var n=e("create-hash"),i=e("./base");t.exports=i((function(e){var t=n("sha256").update(e).digest();return n("sha256").update(t).digest()}))},{file:"/home/circleci/project/node_modules/bs58check/index.js"}],[3748,{"./createEventEmitterProxy":3746,"./createSwappableProxy":3747},function(e,t,r){const n=e("./createSwappableProxy"),i=e("./createEventEmitterProxy");t.exports={createSwappableProxy:n,createEventEmitterProxy:i}},{file:"/home/circleci/project/node_modules/swappable-obj-proxy/src/index.js"}],[14,{"../../../../shared/constants/network":3916,"@babel/runtime/helpers/interopRequireDefault":184,"eth-block-tracker":1950,"eth-json-rpc-infura":1990,"eth-json-rpc-middleware/block-cache":1991,"eth-json-rpc-middleware/block-ref":1993,"eth-json-rpc-middleware/block-tracker-inspector":1994,"eth-json-rpc-middleware/inflight-cache":1997,"eth-json-rpc-middleware/providerFromMiddleware":2030,"eth-json-rpc-middleware/retryOnEmpty":2031,"json-rpc-engine":2607},function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=function({network:e,projectId:t}){const r=(0,d.default)({network:e,projectId:t,maxAttempts:5,source:"metamask"}),n=(0,l.default)(r),h=new f.PollingBlockTracker({provider:n});return{networkMiddleware:(0,i.mergeMiddleware)([p({network:e}),(0,a.default)({blockTracker:h}),(0,c.default)(),(0,s.default)({blockTracker:h,provider:n}),(0,o.default)({blockTracker:h,provider:n}),(0,u.default)({blockTracker:h}),r]),blockTracker:h}};var i=e("json-rpc-engine"),s=n(e("eth-json-rpc-middleware/block-ref")),o=n(e("eth-json-rpc-middleware/retryOnEmpty")),a=n(e("eth-json-rpc-middleware/block-cache")),c=n(e("eth-json-rpc-middleware/inflight-cache")),u=n(e("eth-json-rpc-middleware/block-tracker-inspector")),l=n(e("eth-json-rpc-middleware/providerFromMiddleware")),d=n(e("eth-json-rpc-infura")),f=e("eth-block-tracker"),h=e("../../../../shared/constants/network");function p({network:e}){if(!h.NETWORK_TYPE_TO_ID_MAP[e])throw new Error(`createInfuraClient - unknown network "${e}"`);const{chainId:t,networkId:r}=h.NETWORK_TYPE_TO_ID_MAP[e];return(0,i.createScaffoldMiddleware)({eth_chainId:t,net_version:r})}},{file:"/home/circleci/project/app/scripts/controllers/network/createInfuraClient.js"}],[15,{"../../../../shared/constants/time":3919,"@babel/runtime/helpers/defineProperty":178,"@babel/runtime/helpers/interopRequireDefault":184,"eth-block-tracker":1950,"eth-json-rpc-middleware/block-cache":1991,"eth-json-rpc-middleware/block-ref-rewrite":1992,"eth-json-rpc-middleware/block-tracker-inspector":1994,"eth-json-rpc-middleware/fetch":1996,"eth-json-rpc-middleware/inflight-cache":1997,"eth-json-rpc-middleware/providerFromMiddleware":2030,"json-rpc-engine":2607},function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=function({rpcUrl:e,chainId:t}){const r=(0,o.default)({rpcUrl:e}),n=(0,d.default)(r),i=new f.PollingBlockTracker(p(p({},m),{},{provider:n}));return{networkMiddleware:(0,s.mergeMiddleware)([g(t),(0,a.default)({blockTracker:i}),(0,c.default)({blockTracker:i}),(0,u.default)(),(0,l.default)({blockTracker:i}),r]),blockTracker:i}};var i=n(e("@babel/runtime/helpers/defineProperty")),s=e("json-rpc-engine"),o=n(e("eth-json-rpc-middleware/fetch")),a=n(e("eth-json-rpc-middleware/block-ref-rewrite")),c=n(e("eth-json-rpc-middleware/block-cache")),u=n(e("eth-json-rpc-middleware/inflight-cache")),l=n(e("eth-json-rpc-middleware/block-tracker-inspector")),d=n(e("eth-json-rpc-middleware/providerFromMiddleware")),f=e("eth-block-tracker");e("../../../../shared/constants/time");function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const m={};function g(e){return(t,r,n,i)=>"eth_chainId"===t.method?(r.result=e,i()):n()}},{file:"/home/circleci/project/app/scripts/controllers/network/createJsonRpcClient.js"}],[68,{"./add-ethereum-chain":66,"./get-provider-state":67,"./log-web3-shim-usage":69,"./switch-ethereum-chain":70,"./watch-asset":71,"@babel/runtime/helpers/interopRequireDefault":184},function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("./add-ethereum-chain")),s=n(e("./switch-ethereum-chain")),o=n(e("./get-provider-state")),a=n(e("./log-web3-shim-usage")),c=n(e("./watch-asset"));var u=[i.default,s.default,o.default,a.default,c.default];r.default=u},{file:"/home/circleci/project/app/scripts/lib/rpc-method-middleware/handlers/index.js"}],[1737,{bs58:1738,buffer:1713,"create-hash":1758},function(e,t,r){(function(r){var n=e("bs58"),i=e("create-hash");function s(e,t){var i;(Array.isArray(e)||e instanceof Uint8Array)&&(e=new r(e)),null!=t?("number"==typeof t&&(t=new r([t])),i=r.concat([t,e])):i=e;var s=c(i).slice(0,4),o=r.concat([i,s]);return n.encode(o)}function o(e,t){var i,s=n.decode(e),o=new r(s);if(null==t)i=0;else if("number"==typeof t&&(t=new r([t])),i=t.length,o.slice(0,i).toString("hex")!==t.toString("hex"))throw new Error("Invalid version");var a=o.slice(-4),u=o.length-4,l=o.slice(0,u),d=c(l).slice(0,4);if(a.toString("hex")!==d.toString("hex"))throw new Error("Invalid checksum");return l.slice(i)}function a(e,t){try{o(e,t)}catch(e){return!1}return!0}function c(e){var t=i("sha256").update(e).digest();return i("sha256").update(t).digest()}t.exports={encode:s,decode:o,isValid:a,createEncoder:function(e){return function(t){return s(t,e)}},createDecoder:function(e){return function(t){return o(t,e)}},createValidator:function(e){return function(t){return a(t,e)}}}}).call(this,e("buffer").Buffer)},{file:"/home/circleci/project/node_modules/coinstring/lib/coinstring.js"}],[3621,{"./lib":3626,"./lib/elliptic":3625},function(e,t,r){"use strict";t.exports=e("./lib")(e("./lib/elliptic"))},{file:"/home/circleci/project/node_modules/secp256k1/elliptic.js"}],[1213,{"./account":1212,"./bytes":1214,assert:1380,"bn.js":1208,buffer:1713},function(e,t,r){(function(t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Address=void 0;const n=e("assert"),i=e("bn.js"),s=e("./bytes"),o=e("./account");class a{constructor(e){n(20===e.length,"Invalid address length"),this.buf=e}static zero(){return new a(s.zeros(20))}static fromString(e){return n(o.isValidAddress(e),"Invalid address"),new a(s.toBuffer(e))}static fromPublicKey(e){n(t.isBuffer(e),"Public key should be Buffer");const r=o.pubToAddress(e);return new a(r)}static fromPrivateKey(e){n(t.isBuffer(e),"Private key should be Buffer");const r=o.privateToAddress(e);return new a(r)}static generate(e,r){return n(i.isBN(r)),new a(o.generateAddress(e.buf,r.toArrayLike(t)))}static generate2(e,r,i){return n(t.isBuffer(r)),n(t.isBuffer(i)),new a(o.generateAddress2(e.buf,r,i))}equals(e){return this.buf.equals(e.buf)}isZero(){return this.equals(a.zero())}toString(){return"0x"+this.buf.toString("hex")}toBuffer(){return t.from(this.buf)}}r.Address=a}).call(this,e("buffer").Buffer)},{file:"/home/circleci/project/node_modules/@metamask/eth-ledger-bridge-keyring/node_modules/ethereumjs-util/dist/address.js"}],[1215,{"bn.js":1208,buffer:1713},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.KECCAK256_RLP=r.KECCAK256_RLP_S=r.KECCAK256_RLP_ARRAY=r.KECCAK256_RLP_ARRAY_S=r.KECCAK256_NULL=r.KECCAK256_NULL_S=r.TWO_POW256=r.MAX_INTEGER=void 0;const i=e("buffer").Buffer,s=n(e("bn.js"));r.MAX_INTEGER=new s.default("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),r.TWO_POW256=new s.default("10000000000000000000000000000000000000000000000000000000000000000",16),r.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",r.KECCAK256_NULL=i.from(r.KECCAK256_NULL_S,"hex"),r.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",r.KECCAK256_RLP_ARRAY=i.from(r.KECCAK256_RLP_ARRAY_S,"hex"),r.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",r.KECCAK256_RLP=i.from(r.KECCAK256_RLP_S,"hex")},{file:"/home/circleci/project/node_modules/@metamask/eth-ledger-bridge-keyring/node_modules/ethereumjs-util/dist/constants.js"}],[1214,{"./helpers":1218,"bn.js":1208,buffer:1713,"ethjs-util":2191},function(e,t,r){(function(t){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.baToJSON=r.addHexPrefix=r.toUnsigned=r.fromSigned=r.bufferToHex=r.bufferToInt=r.toBuffer=r.unpadHexString=r.unpadArray=r.unpadBuffer=r.setLengthRight=r.setLengthLeft=r.zeros=void 0;const i=n(e("bn.js")),s=e("ethjs-util"),o=e("./helpers");r.zeros=function(e){return t.allocUnsafe(e).fill(0)};const a=function(e,t,n){const i=r.zeros(t);return n?e.length<t?(e.copy(i),i):e.slice(0,t):e.length<t?(e.copy(i,t-e.length),i):e.slice(-t)};r.setLengthLeft=function(e,t){return o.assertIsBuffer(e),a(e,t,!1)},r.setLengthRight=function(e,t){return o.assertIsBuffer(e),a(e,t,!0)};const c=function(e){let t=e[0];for(;e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e};r.unpadBuffer=function(e){return o.assertIsBuffer(e),c(e)},r.unpadArray=function(e){return o.assertIsArray(e),c(e)},r.unpadHexString=function(e){return o.assertIsHexString(e),e=s.stripHexPrefix(e),c(e)},r.toBuffer=function(e){if(null==e)return t.allocUnsafe(0);if(t.isBuffer(e))return t.from(e);if(Array.isArray(e)||e instanceof Uint8Array)return t.from(e);if("string"==typeof e){if(!s.isHexString(e))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${e}`);return t.from(s.padToEven(s.stripHexPrefix(e)),"hex")}if("number"==typeof e)return s.intToBuffer(e);if(i.default.isBN(e))return e.toArrayLike(t);if(e.toArray)return t.from(e.toArray());if(e.toBuffer)return t.from(e.toBuffer());throw new Error("invalid type")},r.bufferToInt=function(e){return new i.default(r.toBuffer(e)).toNumber()},r.bufferToHex=function(e){return"0x"+(e=r.toBuffer(e)).toString("hex")},r.fromSigned=function(e){return new i.default(e).fromTwos(256)},r.toUnsigned=function(e){return t.from(e.toTwos(256).toArray())},r.addHexPrefix=function(e){return"string"!=typeof e||s.isHexPrefixed(e)?e:"0x"+e},r.baToJSON=function(e){if(t.isBuffer(e))return`0x${e.toString("hex")}`;if(e instanceof Array){const t=[];for(let n=0;n<e.length;n++)t.push(r.baToJSON(e[n]));return t}}}).call(this,e("buffer").Buffer)},{file:"/home/circleci/project/node_modules/@metamask/eth-ledger-bridge-keyring/node_modules/ethereumjs-util/dist/bytes.js"}],[1216,{"bn.js":1208,rlp:3499},function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.rlp=r.BN=void 0;const n=e("bn.js");r.BN=n;const i=e("rlp");r.rlp=i},{file:"/home/circleci/project/node_modules/@metamask/eth-ledger-bridge-keyring/node_modules/ethereumjs-util/dist/externals.js"}],[1220,{"./bytes":1214,assert:1380,buffer:1713,"ethjs-util":2191,rlp:3499},function(e,t,r){(function(t){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.defineProperties=void 0;const a=o(e("assert")),c=s(e("ethjs-util")),u=s(e("rlp")),l=e("./bytes");r.defineProperties=function(e,r,n){if(e.raw=[],e._fields=[],e.toJSON=function(t=!1){if(t){const t={};return e._fields.forEach((r=>{t[r]=`0x${e[r].toString("hex")}`})),t}return l.baToJSON(e.raw)},e.serialize=function(){return u.encode(e.raw)},r.forEach(((r,n)=>{function i(){return e.raw[n]}function s(i){"00"!==(i=l.toBuffer(i)).toString("hex")||r.allowZero||(i=t.allocUnsafe(0)),r.allowLess&&r.length?(i=l.unpadBuffer(i),a.default(r.length>=i.length,`The field ${r.name} must not have more ${r.length} bytes`)):r.allowZero&&0===i.length||!r.length||a.default(r.length===i.length,`The field ${r.name} must have byte length of ${r.length}`),e.raw[n]=i}e._fields.push(r.name),Object.defineProperty(e,r.name,{enumerable:!0,configurable:!0,get:i,set:s}),r.default&&(e[r.name]=r.default),r.alias&&Object.defineProperty(e,r.alias,{enumerable:!1,configurable:!0,set:s,get:i})})),n)if("string"==typeof n&&(n=t.from(c.stripHexPrefix(n),"hex")),t.isBuffer(n)&&(n=u.decode(n)),Array.isArray(n)){if(n.length>e._fields.length)throw new Error("wrong number of fields in data");n.forEach(((t,r)=>{e[e._fields[r]]=l.toBuffer(t)}))}else{if("object"!=typeof n)throw new Error("invalid data");{const t=Object.keys(n);r.forEach((r=>{-1!==t.indexOf(r.name)&&(e[r.name]=n[r.name]),-1!==t.indexOf(r.alias)&&(e[r.alias]=n[r.alias])}))}}}}).call(this,e("buffer").Buffer)},{file:"/home/circleci/project/node_modules/@metamask/eth-ledger-bridge-keyring/node_modules/ethereumjs-util/dist/object.js"}],[1222,{"./bytes":1214,"bn.js":1208,buffer:1713,"ethjs-util":2191},function(e,t,r){(function(t){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.toType=r.TypeOutput=r.bnToRlp=r.bnToHex=void 0;const i=n(e("bn.js")),s=e("ethjs-util"),o=e("./bytes");var a;r.bnToHex=function(e){return`0x${e.toString(16)}`},r.bnToRlp=function(e){return o.unpadBuffer(e.toArrayLike(t))},function(e){e[e.Number=0]="Number",e[e.BN=1]="BN",e[e.Buffer=2]="Buffer",e[e.PrefixedHexString=3]="PrefixedHexString"}(a=r.TypeOutput||(r.TypeOutput={})),r.toType=function(e,t){if("string"==typeof e&&!s.isHexString(e))throw new Error(`A string must be provided with a 0x-prefix, given: ${e}`);if("number"==typeof e&&!Number.isSafeInteger(e))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");if(e=o.toBuffer(e),t===a.Buffer)return e;if(t===a.BN)return new i.default(e);if(t===a.Number){const t=new i.default(e),r=new i.default(Number.MAX_SAFE_INTEGER.toString());if(t.gt(r))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return t.toNumber()}return`0x${e.toString("hex")}`}}).call(this,e("buffer").Buffer)},{file:"/home/circleci/project/node_modules/@metamask/eth-ledger-bridge-keyring/node_modules/ethereumjs-util/dist/types.js"}],[1212,{"./bytes":1214,"./constants":1215,"./hash":1217,"./helpers":1218,"./types":1222,assert:1380,"bn.js":1208,buffer:1713,"ethereum-cryptography/secp256k1":2108,"ethjs-util":2191,rlp:3499},function(e,t,r){(function(t){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.isZeroAddress=r.zeroAddress=r.importPublic=r.privateToAddress=r.privateToPublic=r.publicToAddress=r.pubToAddress=r.isValidPublic=r.isValidPrivate=r.generateAddress2=r.generateAddress=r.isValidChecksumAddress=r.toChecksumAddress=r.isValidAddress=r.Account=void 0;const a=o(e("assert")),c=o(e("bn.js")),u=s(e("rlp")),l=e("ethjs-util"),d=e("./constants"),f=e("./bytes"),h=e("./hash"),p=e("./helpers"),m=e("./types"),{privateKeyVerify:g,publicKeyCreate:y,publicKeyVerify:v,publicKeyConvert:b}=e("ethereum-cryptography/secp256k1");class w{constructor(e=new c.default(0),t=new c.default(0),r=d.KECCAK256_RLP,n=d.KECCAK256_NULL){this.nonce=e,this.balance=t,this.stateRoot=r,this.codeHash=n,this._validate()}static fromAccountData(e){const{nonce:t,balance:r,stateRoot:n,codeHash:i}=e;return new w(t?new c.default(f.toBuffer(t)):void 0,r?new c.default(f.toBuffer(r)):void 0,n?f.toBuffer(n):void 0,i?f.toBuffer(i):void 0)}static fromRlpSerializedAccount(e){const t=u.decode(e);if(!Array.isArray(t))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(t)}static fromValuesArray(e){const[t,r,n,i]=e;return new w(new c.default(t),new c.default(r),n,i)}_validate(){if(this.nonce.lt(new c.default(0)))throw new Error("nonce must be greater than zero");if(this.balance.lt(new c.default(0)))throw new Error("balance must be greater than zero");if(32!==this.stateRoot.length)throw new Error("stateRoot must have a length of 32");if(32!==this.codeHash.length)throw new Error("codeHash must have a length of 32")}raw(){return[m.bnToRlp(this.nonce),m.bnToRlp(this.balance),this.stateRoot,this.codeHash]}serialize(){return u.encode(this.raw())}isContract(){return!this.codeHash.equals(d.KECCAK256_NULL)}isEmpty(){return this.balance.isZero()&&this.nonce.isZero()&&this.codeHash.equals(d.KECCAK256_NULL)}}r.Account=w,r.isValidAddress=function(e){return p.assertIsHexString(e),/^0x[0-9a-fA-F]{40}$/.test(e)},r.toChecksumAddress=function(e,t){p.assertIsHexString(e);const r=l.stripHexPrefix(e).toLowerCase();let n="";if(t){n=m.toType(t,m.TypeOutput.BN).toString()+"0x"}const i=h.keccakFromString(n+r).toString("hex");let s="0x";for(let e=0;e<r.length;e++)parseInt(i[e],16)>=8?s+=r[e].toUpperCase():s+=r[e];return s},r.isValidChecksumAddress=function(e,t){return r.isValidAddress(e)&&r.toChecksumAddress(e,t)===e},r.generateAddress=function(e,r){p.assertIsBuffer(e),p.assertIsBuffer(r);const n=new c.default(r);return n.isZero()?h.rlphash([e,null]).slice(-20):h.rlphash([e,t.from(n.toArray())]).slice(-20)},r.generateAddress2=function(e,r,n){p.assertIsBuffer(e),p.assertIsBuffer(r),p.assertIsBuffer(n),a.default(20===e.length),a.default(32===r.length);return h.keccak256(t.concat([t.from("ff","hex"),e,r,h.keccak256(n)])).slice(-20)},r.isValidPrivate=function(e){return g(e)},r.isValidPublic=function(e,r=!1){return p.assertIsBuffer(e),64===e.length?v(t.concat([t.from([4]),e])):!!r&&v(e)},r.pubToAddress=function(e,r=!1){return p.assertIsBuffer(e),r&&64!==e.length&&(e=t.from(b(e,!1).slice(1))),a.default(64===e.length),h.keccak(e).slice(-20)},r.publicToAddress=r.pubToAddress,r.privateToPublic=function(e){return p.assertIsBuffer(e),t.from(y(e,!1)).slice(1)},r.privateToAddress=function(e){return r.publicToAddress(r.privateToPublic(e))},r.importPublic=function(e){return p.assertIsBuffer(e),64!==e.length&&(e=t.from(b(e,!1).slice(1))),e},r.zeroAddress=function(){const e=f.zeros(20);return f.bufferToHex(e)},r.isZeroAddress=function(e){p.assertIsHexString(e);return r.zeroAddress()===e}}).call(this,e("buffer").Buffer)},{file:"/home/circleci/project/node_modules/@metamask/eth-ledger-bridge-keyring/node_modules/ethereumjs-util/dist/account.js"}],[1217,{"./bytes":1214,"./helpers":1218,buffer:1713,"create-hash":1758,"ethereum-cryptography/keccak":2097,rlp:3499},function(e,t,r){(function(t){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.rlphash=r.ripemd160FromArray=r.ripemd160FromString=r.ripemd160=r.sha256FromArray=r.sha256FromString=r.sha256=r.keccakFromArray=r.keccakFromHexString=r.keccakFromString=r.keccak256=r.keccak=void 0;const{keccak224:o,keccak384:a,keccak256:c,keccak512:u}=e("ethereum-cryptography/keccak"),l=e("create-hash"),d=s(e("rlp")),f=e("./bytes"),h=e("./helpers");r.keccak=function(e,t=256){switch(h.assertIsBuffer(e),t){case 224:return o(e);case 256:return c(e);case 384:return a(e);case 512:return u(e);default:throw new Error(`Invald algorithm: keccak${t}`)}},r.keccak256=function(e){return r.keccak(e)},r.keccakFromString=function(e,n=256){h.assertIsString(e);const i=t.from(e,"utf8");return r.keccak(i,n)},r.keccakFromHexString=function(e,t=256){return h.assertIsHexString(e),r.keccak(f.toBuffer(e),t)},r.keccakFromArray=function(e,t=256){return h.assertIsArray(e),r.keccak(f.toBuffer(e),t)};const p=function(e){return e=f.toBuffer(e),l("sha256").update(e).digest()};r.sha256=function(e){return h.assertIsBuffer(e),p(e)},r.sha256FromString=function(e){return h.assertIsString(e),p(e)},r.sha256FromArray=function(e){return h.assertIsArray(e),p(e)};const m=function(e,t){e=f.toBuffer(e);const r=l("rmd160").update(e).digest();return!0===t?f.setLengthLeft(r,32):r};r.ripemd160=function(e,t){return h.assertIsBuffer(e),m(e,t)},r.ripemd160FromString=function(e,t){return h.assertIsString(e),m(e,t)},r.ripemd160FromArray=function(e,t){return h.assertIsArray(e),m(e,t)},r.rlphash=function(e){return r.keccak(d.encode(e))}}).call(this,e("buffer").Buffer)},{file:"/home/circleci/project/node_modules/@metamask/eth-ledger-bridge-keyring/node_modules/ethereumjs-util/dist/hash.js"}],[1221,{"./bytes":1214,"./hash":1217,"./helpers":1218,"./types":1222,"bn.js":1208,buffer:1713,"ethereum-cryptography/secp256k1":2108},function(e,t,r){(function(t){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.hashPersonalMessage=r.isValidSignature=r.fromRpcSig=r.toRpcSig=r.ecrecover=r.ecsign=void 0;const i=e("ethereum-cryptography/secp256k1"),s=n(e("bn.js")),o=e("./bytes"),a=e("./hash"),c=e("./helpers"),u=e("./types");function l(e,t){const r=u.toType(e,u.TypeOutput.BN);if(!t)return r.subn(27);const n=u.toType(t,u.TypeOutput.BN);return r.sub(n.muln(2).addn(35))}function d(e){const t=new s.default(e);return t.eqn(0)||t.eqn(1)}r.ecsign=function(e,r,n){const{signature:s,recid:o}=i.ecdsaSign(e,r),a=t.from(s.slice(0,32)),c=t.from(s.slice(32,64));if(!n||"number"==typeof n){if(n&&!Number.isSafeInteger(n))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");return{r:a,s:c,v:n?o+(2*n+35):o+27}}return{r:a,s:c,v:u.toType(n,u.TypeOutput.BN).muln(2).addn(35).addn(o).toArrayLike(t)}},r.ecrecover=function(e,r,n,s,a){const c=t.concat([o.setLengthLeft(n,32),o.setLengthLeft(s,32)],64),u=l(r,a);if(!d(u))throw new Error("Invalid signature v value");const f=i.ecdsaRecover(c,u.toNumber(),e);return t.from(i.publicKeyConvert(f,!1).slice(1))},r.toRpcSig=function(e,r,n,i){if(!d(l(e,i)))throw new Error("Invalid signature v value");return o.bufferToHex(t.concat([o.setLengthLeft(r,32),o.setLengthLeft(n,32),o.toBuffer(e)]))},r.fromRpcSig=function(e){const t=o.toBuffer(e);if(t.length<65)throw new Error("Invalid signature length");let r=o.bufferToInt(t.slice(64));return r<27&&(r+=27),{v:r,r:t.slice(0,32),s:t.slice(32,64)}},r.isValidSignature=function(e,t,r,n=!0,i){const o=new s.default("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),a=new s.default("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(32!==t.length||32!==r.length)return!1;if(!d(l(e,i)))return!1;const c=new s.default(t),u=new s.default(r);return!(c.isZero()||c.gt(a)||u.isZero()||u.gt(a))&&(!n||1!==u.cmp(o))},r.hashPersonalMessage=function(e){c.assertIsBuffer(e);const r=t.from(`Ethereum Signed Message:\n${e.length.toString()}`,"utf-8");return a.keccak(t.concat([r,e]))}}).call(this,e("buffer").Buffer)},{file:"/home/circleci/project/node_modules/@metamask/eth-ledger-bridge-keyring/node_modules/ethereumjs-util/dist/signature.js"}],[1211,{assert:1380,"bn.js":1210,"create-hash":1758,"ethjs-util":2191,keccak:1223,rlp:3499,"safe-buffer":3605,secp256k1:3621},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=e("keccak"),s=e("secp256k1"),o=e("assert"),a=e("rlp"),c=e("bn.js"),u=e("create-hash"),l=e("safe-buffer").Buffer;Object.assign(r,e("ethjs-util")),r.MAX_INTEGER=new c("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),r.TWO_POW256=new c("10000000000000000000000000000000000000000000000000000000000000000",16),r.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",r.SHA3_NULL_S=r.KECCAK256_NULL_S,r.KECCAK256_NULL=l.from(r.KECCAK256_NULL_S,"hex"),r.SHA3_NULL=r.KECCAK256_NULL,r.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",r.SHA3_RLP_ARRAY_S=r.KECCAK256_RLP_ARRAY_S,r.KECCAK256_RLP_ARRAY=l.from(r.KECCAK256_RLP_ARRAY_S,"hex"),r.SHA3_RLP_ARRAY=r.KECCAK256_RLP_ARRAY,r.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",r.SHA3_RLP_S=r.KECCAK256_RLP_S,r.KECCAK256_RLP=l.from(r.KECCAK256_RLP_S,"hex"),r.SHA3_RLP=r.KECCAK256_RLP,r.BN=c,r.rlp=a,r.secp256k1=s,r.zeros=function(e){return l.allocUnsafe(e).fill(0)},r.zeroAddress=function(){var e=r.zeros(20);return r.bufferToHex(e)},r.setLengthLeft=r.setLength=function(e,t,n){var i=r.zeros(t);return e=r.toBuffer(e),n?e.length<t?(e.copy(i),i):e.slice(0,t):e.length<t?(e.copy(i,t-e.length),i):e.slice(-t)},r.setLengthRight=function(e,t){return r.setLength(e,t,!0)},r.unpad=r.stripZeros=function(e){for(var t=(e=r.stripHexPrefix(e))[0];e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e},r.toBuffer=function(e){if(!l.isBuffer(e))if(Array.isArray(e))e=l.from(e);else if("string"==typeof e)e=r.isHexString(e)?l.from(r.padToEven(r.stripHexPrefix(e)),"hex"):l.from(e);else if("number"==typeof e)e=r.intToBuffer(e);else if(null==e)e=l.allocUnsafe(0);else if(c.isBN(e))e=e.toArrayLike(l);else{if(!e.toArray)throw new Error("invalid type");e=l.from(e.toArray())}return e},r.bufferToInt=function(e){return new c(r.toBuffer(e)).toNumber()},r.bufferToHex=function(e){return"0x"+(e=r.toBuffer(e)).toString("hex")},r.fromSigned=function(e){return new c(e).fromTwos(256)},r.toUnsigned=function(e){return l.from(e.toTwos(256).toArray())},r.keccak=function(e,t){return e=r.toBuffer(e),t||(t=256),i("keccak"+t).update(e).digest()},r.keccak256=function(e){return r.keccak(e)},r.sha3=r.keccak,r.sha256=function(e){return e=r.toBuffer(e),u("sha256").update(e).digest()},r.ripemd160=function(e,t){e=r.toBuffer(e);var n=u("rmd160").update(e).digest();return!0===t?r.setLength(n,32):n},r.rlphash=function(e){return r.keccak(a.encode(e))},r.isValidPrivate=function(e){return s.privateKeyVerify(e)},r.isValidPublic=function(e,t){return 64===e.length?s.publicKeyVerify(l.concat([l.from([4]),e])):!!t&&s.publicKeyVerify(e)},r.pubToAddress=r.publicToAddress=function(e,t){return e=r.toBuffer(e),t&&64!==e.length&&(e=s.publicKeyConvert(e,!1).slice(1)),o(64===e.length),r.keccak(e).slice(-20)};var d=r.privateToPublic=function(e){return e=r.toBuffer(e),s.publicKeyCreate(e,!1).slice(1)};r.importPublic=function(e){return 64!==(e=r.toBuffer(e)).length&&(e=s.publicKeyConvert(e,!1).slice(1)),e},r.ecsign=function(e,t){var r=s.sign(e,t),n={};return n.r=r.signature.slice(0,32),n.s=r.signature.slice(32,64),n.v=r.recovery+27,n},r.hashPersonalMessage=function(e){var t=r.toBuffer("Ethereum Signed Message:\n"+e.length.toString());return r.keccak(l.concat([t,e]))},r.ecrecover=function(e,t,n,i){var o=l.concat([r.setLength(n,32),r.setLength(i,32)],64),a=t-27;if(0!==a&&1!==a)throw new Error("Invalid signature v value");var c=s.recover(e,o,a);return s.publicKeyConvert(c,!1).slice(1)},r.toRpcSig=function(e,t,n){if(27!==e&&28!==e)throw new Error("Invalid recovery id");return r.bufferToHex(l.concat([r.setLengthLeft(t,32),r.setLengthLeft(n,32),r.toBuffer(e-27)]))},r.fromRpcSig=function(e){if(65!==(e=r.toBuffer(e)).length)throw new Error("Invalid signature length");var t=e[64];return t<27&&(t+=27),{v:t,r:e.slice(0,32),s:e.slice(32,64)}},r.privateToAddress=function(e){return r.publicToAddress(d(e))},r.isValidAddress=function(e){return/^0x[0-9a-fA-F]{40}$/.test(e)},r.isZeroAddress=function(e){return r.zeroAddress()===r.addHexPrefix(e)},r.toChecksumAddress=function(e){e=r.stripHexPrefix(e).toLowerCase();for(var t=r.keccak(e).toString("hex"),n="0x",i=0;i<e.length;i++)parseInt(t[i],16)>=8?n+=e[i].toUpperCase():n+=e[i];return n},r.isValidChecksumAddress=function(e){return r.isValidAddress(e)&&r.toChecksumAddress(e)===e},r.generateAddress=function(e,t){return e=r.toBuffer(e),t=(t=new c(t)).isZero()?null:l.from(t.toArray()),r.rlphash([e,t]).slice(-20)},r.isPrecompiled=function(e){var t=r.unpad(e);return 1===t.length&&t[0]>=1&&t[0]<=8},r.addHexPrefix=function(e){return"string"!=typeof e||r.isHexPrefixed(e)?e:"0x"+e},r.isValidSignature=function(e,t,r,n){var i=new c("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),s=new c("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);return 32===t.length&&32===r.length&&((27===e||28===e)&&(t=new c(t),r=new c(r),!(t.isZero()||t.gt(s)||r.isZero()||r.gt(s))&&(!1!==n||1!==new c(r).cmp(i))))},r.baToJSON=function(e){if(l.isBuffer(e))return"0x"+e.toString("hex");if(e instanceof Array){for(var t=[],n=0;n<e.length;n++)t.push(r.baToJSON(e[n]));return t}},r.defineProperties=function(e,t,i){if(e.raw=[],e._fields=[],e.toJSON=function(t){if(t){var n={};return e._fields.forEach((function(t){n[t]="0x"+e[t].toString("hex")})),n}return r.baToJSON(this.raw)},e.serialize=function(){return a.encode(e.raw)},t.forEach((function(t,n){function i(){return e.raw[n]}function s(i){"00"!==(i=r.toBuffer(i)).toString("hex")||t.allowZero||(i=l.allocUnsafe(0)),t.allowLess&&t.length?(i=r.stripZeros(i),o(t.length>=i.length,"The field "+t.name+" must not have more "+t.length+" bytes")):t.allowZero&&0===i.length||!t.length||o(t.length===i.length,"The field "+t.name+" must have byte length of "+t.length),e.raw[n]=i}e._fields.push(t.name),Object.defineProperty(e,t.name,{enumerable:!0,configurable:!0,get:i,set:s}),t.default&&(e[t.name]=t.default),t.alias&&Object.defineProperty(e,t.alias,{enumerable:!1,configurable:!0,set:s,get:i})})),i)if("string"==typeof i&&(i=l.from(r.stripHexPrefix(i),"hex")),l.isBuffer(i)&&(i=a.decode(i)),Array.isArray(i)){if(i.length>e._fields.length)throw new Error("wrong number of fields in data");i.forEach((function(t,n){e[e._fields[n]]=r.toBuffer(t)}))}else{if("object"!==(void 0===i?"undefined":n(i)))throw new Error("invalid data");var s=Object.keys(i);t.forEach((function(t){-1!==s.indexOf(t.name)&&(e[t.name]=i[t.name]),-1!==s.indexOf(t.alias)&&(e[t.alias]=i[t.alias])}))}}},{file:"/home/circleci/project/node_modules/@metamask/eth-ledger-bridge-keyring/node_modules/eth-sig-util/node_modules/ethereumjs-util/dist/index.js"}],[2086,{"./account":2085,"./bytes":2087,assert:1380,"bn.js":2084,buffer:1713},function(e,t,r){(function(t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Address=void 0;const n=e("assert"),i=e("bn.js"),s=e("./bytes"),o=e("./account");class a{constructor(e){n(20===e.length,"Invalid address length"),this.buf=e}static zero(){return new a(s.zeros(20))}static fromString(e){return n(o.isValidAddress(e),"Invalid address"),new a(s.toBuffer(e))}static fromPublicKey(e){n(t.isBuffer(e),"Public key should be Buffer");const r=o.pubToAddress(e);return new a(r)}static fromPrivateKey(e){n(t.isBuffer(e),"Private key should be Buffer");const r=o.privateToAddress(e);return new a(r)}static generate(e,r){return n(i.isBN(r)),new a(o.generateAddress(e.buf,r.toArrayLike(t)))}static generate2(e,r,i){return n(t.isBuffer(r)),n(t.isBuffer(i)),new a(o.generateAddress2(e.buf,r,i))}equals(e){return this.buf.equals(e.buf)}isZero(){return this.equals(a.zero())}toString(){return"0x"+this.buf.toString("hex")}toBuffer(){return t.from(this.buf)}}r.Address=a}).call(this,e("buffer").Buffer)},{file:"/home/circleci/project/node_modules/eth-trezor-keyring/node_modules/ethereumjs-util/dist/address.js"}],[2087,{"./helpers":2091,"bn.js":2084,buffer:1713,"ethjs-util":2191},function(e,t,r){(function(t){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.baToJSON=r.addHexPrefix=r.toUnsigned=r.fromSigned=r.bufferToHex=r.bufferToInt=r.toBuffer=r.unpadHexString=r.unpadArray=r.unpadBuffer=r.setLengthRight=r.setLengthLeft=r.zeros=void 0;const i=n(e("bn.js")),s=e("ethjs-util"),o=e("./helpers");r.zeros=function(e){return t.allocUnsafe(e).fill(0)};const a=function(e,t,n){const i=r.zeros(t);return n?e.length<t?(e.copy(i),i):e.slice(0,t):e.length<t?(e.copy(i,t-e.length),i):e.slice(-t)};r.setLengthLeft=function(e,t){return o.assertIsBuffer(e),a(e,t,!1)},r.setLengthRight=function(e,t){return o.assertIsBuffer(e),a(e,t,!0)};const c=function(e){let t=e[0];for(;e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e};r.unpadBuffer=function(e){return o.assertIsBuffer(e),c(e)},r.unpadArray=function(e){return o.assertIsArray(e),c(e)},r.unpadHexString=function(e){return o.assertIsHexString(e),e=s.stripHexPrefix(e),c(e)},r.toBuffer=function(e){if(null==e)return t.allocUnsafe(0);if(t.isBuffer(e))return t.from(e);if(Array.isArray(e)||e instanceof Uint8Array)return t.from(e);if("string"==typeof e){if(!s.isHexString(e))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${e}`);return t.from(s.padToEven(s.stripHexPrefix(e)),"hex")}if("number"==typeof e)return s.intToBuffer(e);if(i.default.isBN(e))return e.toArrayLike(t);if(e.toArray)return t.from(e.toArray());if(e.toBuffer)return t.from(e.toBuffer());throw new Error("invalid type")},r.bufferToInt=function(e){return new i.default(r.toBuffer(e)).toNumber()},r.bufferToHex=function(e){return"0x"+(e=r.toBuffer(e)).toString("hex")},r.fromSigned=function(e){return new i.default(e).fromTwos(256)},r.toUnsigned=function(e){return t.from(e.toTwos(256).toArray())},r.addHexPrefix=function(e){return"string"!=typeof e||s.isHexPrefixed(e)?e:"0x"+e},r.baToJSON=function(e){if(t.isBuffer(e))return`0x${e.toString("hex")}`;if(e instanceof Array){const t=[];for(let n=0;n<e.length;n++)t.push(r.baToJSON(e[n]));return t}}}).call(this,e("buffer").Buffer)},{file:"/home/circleci/project/node_modules/eth-trezor-keyring/node_modules/ethereumjs-util/dist/bytes.js"}],[2093,{"./bytes":2087,assert:1380,buffer:1713,"ethjs-util":2191,rlp:3499},function(e,t,r){(function(t){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.defineProperties=void 0;const a=o(e("assert")),c=s(e("ethjs-util")),u=s(e("rlp")),l=e("./bytes");r.defineProperties=function(e,r,n){if(e.raw=[],e._fields=[],e.toJSON=function(t=!1){if(t){const t={};return e._fields.forEach((r=>{t[r]=`0x${e[r].toString("hex")}`})),t}return l.baToJSON(e.raw)},e.serialize=function(){return u.encode(e.raw)},r.forEach(((r,n)=>{function i(){return e.raw[n]}function s(i){"00"!==(i=l.toBuffer(i)).toString("hex")||r.allowZero||(i=t.allocUnsafe(0)),r.allowLess&&r.length?(i=l.unpadBuffer(i),a.default(r.length>=i.length,`The field ${r.name} must not have more ${r.length} bytes`)):r.allowZero&&0===i.length||!r.length||a.default(r.length===i.length,`The field ${r.name} must have byte length of ${r.length}`),e.raw[n]=i}e._fields.push(r.name),Object.defineProperty(e,r.name,{enumerable:!0,configurable:!0,get:i,set:s}),r.default&&(e[r.name]=r.default),r.alias&&Object.defineProperty(e,r.alias,{enumerable:!1,configurable:!0,set:s,get:i})})),n)if("string"==typeof n&&(n=t.from(c.stripHexPrefix(n),"hex")),t.isBuffer(n)&&(n=u.decode(n)),Array.isArray(n)){if(n.length>e._fields.length)throw new Error("wrong number of fields in data");n.forEach(((t,r)=>{e[e._fields[r]]=l.toBuffer(t)}))}else{if("object"!=typeof n)throw new Error("invalid data");{const t=Object.keys(n);r.forEach((r=>{-1!==t.indexOf(r.name)&&(e[r.name]=n[r.name]),-1!==t.indexOf(r.alias)&&(e[r.alias]=n[r.alias])}))}}}}).call(this,e("buffer").Buffer)},{file:"/home/circleci/project/node_modules/eth-trezor-keyring/node_modules/ethereumjs-util/dist/object.js"}],[2089,{"bn.js":2084,rlp:3499},function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.rlp=r.BN=void 0;const n=e("bn.js");r.BN=n;const i=e("rlp");r.rlp=i},{file:"/home/circleci/project/node_modules/eth-trezor-keyring/node_modules/ethereumjs-util/dist/externals.js"}],[2095,{"./bytes":2087,"bn.js":2084,buffer:1713,"ethjs-util":2191},function(e,t,r){(function(t){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.toType=r.TypeOutput=r.bnToRlp=r.bnToHex=void 0;const i=n(e("bn.js")),s=e("ethjs-util"),o=e("./bytes");var a;r.bnToHex=function(e){return`0x${e.toString(16)}`},r.bnToRlp=function(e){return o.unpadBuffer(e.toArrayLike(t))},function(e){e[e.Number=0]="Number",e[e.BN=1]="BN",e[e.Buffer=2]="Buffer",e[e.PrefixedHexString=3]="PrefixedHexString"}(a=r.TypeOutput||(r.TypeOutput={})),r.toType=function(e,t){if("string"==typeof e&&!s.isHexString(e))throw new Error(`A string must be provided with a 0x-prefix, given: ${e}`);if("number"==typeof e&&!Number.isSafeInteger(e))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");if(e=o.toBuffer(e),t===a.Buffer)return e;if(t===a.BN)return new i.default(e);if(t===a.Number){const t=new i.default(e),r=new i.default(Number.MAX_SAFE_INTEGER.toString());if(t.gt(r))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return t.toNumber()}return`0x${e.toString("hex")}`}}).call(this,e("buffer").Buffer)},{file:"/home/circleci/project/node_modules/eth-trezor-keyring/node_modules/ethereumjs-util/dist/types.js"}],[2088,{"bn.js":2084,buffer:1713},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.KECCAK256_RLP=r.KECCAK256_RLP_S=r.KECCAK256_RLP_ARRAY=r.KECCAK256_RLP_ARRAY_S=r.KECCAK256_NULL=r.KECCAK256_NULL_S=r.TWO_POW256=r.MAX_INTEGER=void 0;const i=e("buffer").Buffer,s=n(e("bn.js"));r.MAX_INTEGER=new s.default("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),r.TWO_POW256=new s.default("10000000000000000000000000000000000000000000000000000000000000000",16),r.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",r.KECCAK256_NULL=i.from(r.KECCAK256_NULL_S,"hex"),r.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",r.KECCAK256_RLP_ARRAY=i.from(r.KECCAK256_RLP_ARRAY_S,"hex"),r.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",r.KECCAK256_RLP=i.from(r.KECCAK256_RLP_S,"hex")},{file:"/home/circleci/project/node_modules/eth-trezor-keyring/node_modules/ethereumjs-util/dist/constants.js"}],[2090,{"./bytes":2087,"./helpers":2091,buffer:1713,"create-hash":1758,"ethereum-cryptography/keccak":2097,rlp:3499},function(e,t,r){(function(t){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.rlphash=r.ripemd160FromArray=r.ripemd160FromString=r.ripemd160=r.sha256FromArray=r.sha256FromString=r.sha256=r.keccakFromArray=r.keccakFromHexString=r.keccakFromString=r.keccak256=r.keccak=void 0;const{keccak224:o,keccak384:a,keccak256:c,keccak512:u}=e("ethereum-cryptography/keccak"),l=e("create-hash"),d=s(e("rlp")),f=e("./bytes"),h=e("./helpers");r.keccak=function(e,t=256){switch(h.assertIsBuffer(e),t){case 224:return o(e);case 256:return c(e);case 384:return a(e);case 512:return u(e);default:throw new Error(`Invald algorithm: keccak${t}`)}},r.keccak256=function(e){return r.keccak(e)},r.keccakFromString=function(e,n=256){h.assertIsString(e);const i=t.from(e,"utf8");return r.keccak(i,n)},r.keccakFromHexString=function(e,t=256){return h.assertIsHexString(e),r.keccak(f.toBuffer(e),t)},r.keccakFromArray=function(e,t=256){return h.assertIsArray(e),r.keccak(f.toBuffer(e),t)};const p=function(e){return e=f.toBuffer(e),l("sha256").update(e).digest()};r.sha256=function(e){return h.assertIsBuffer(e),p(e)},r.sha256FromString=function(e){return h.assertIsString(e),p(e)},r.sha256FromArray=function(e){return h.assertIsArray(e),p(e)};const m=function(e,t){e=f.toBuffer(e);const r=l("rmd160").update(e).digest();return!0===t?f.setLengthLeft(r,32):r};r.ripemd160=function(e,t){return h.assertIsBuffer(e),m(e,t)},r.ripemd160FromString=function(e,t){return h.assertIsString(e),m(e,t)},r.ripemd160FromArray=function(e,t){return h.assertIsArray(e),m(e,t)},r.rlphash=function(e){return r.keccak(d.encode(e))}}).call(this,e("buffer").Buffer)},{file:"/home/circleci/project/node_modules/eth-trezor-keyring/node_modules/ethereumjs-util/dist/hash.js"}],[2094,{"./bytes":2087,"./hash":2090,"./helpers":2091,"./types":2095,"bn.js":2084,buffer:1713,"ethereum-cryptography/secp256k1":2108},function(e,t,r){(function(t){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.hashPersonalMessage=r.isValidSignature=r.fromRpcSig=r.toRpcSig=r.ecrecover=r.ecsign=void 0;const i=e("ethereum-cryptography/secp256k1"),s=n(e("bn.js")),o=e("./bytes"),a=e("./hash"),c=e("./helpers"),u=e("./types");function l(e,t){const r=u.toType(e,u.TypeOutput.BN);if(!t)return r.subn(27);const n=u.toType(t,u.TypeOutput.BN);return r.sub(n.muln(2).addn(35))}function d(e){const t=new s.default(e);return t.eqn(0)||t.eqn(1)}r.ecsign=function(e,r,n){const{signature:s,recid:o}=i.ecdsaSign(e,r),a=t.from(s.slice(0,32)),c=t.from(s.slice(32,64));if(!n||"number"==typeof n){if(n&&!Number.isSafeInteger(n))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");return{r:a,s:c,v:n?o+(2*n+35):o+27}}return{r:a,s:c,v:u.toType(n,u.TypeOutput.BN).muln(2).addn(35).addn(o).toArrayLike(t)}},r.ecrecover=function(e,r,n,s,a){const c=t.concat([o.setLengthLeft(n,32),o.setLengthLeft(s,32)],64),u=l(r,a);if(!d(u))throw new Error("Invalid signature v value");const f=i.ecdsaRecover(c,u.toNumber(),e);return t.from(i.publicKeyConvert(f,!1).slice(1))},r.toRpcSig=function(e,r,n,i){if(!d(l(e,i)))throw new Error("Invalid signature v value");return o.bufferToHex(t.concat([o.setLengthLeft(r,32),o.setLengthLeft(n,32),o.toBuffer(e)]))},r.fromRpcSig=function(e){const t=o.toBuffer(e);if(t.length<65)throw new Error("Invalid signature length");let r=o.bufferToInt(t.slice(64));return r<27&&(r+=27),{v:r,r:t.slice(0,32),s:t.slice(32,64)}},r.isValidSignature=function(e,t,r,n=!0,i){const o=new s.default("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),a=new s.default("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(32!==t.length||32!==r.length)return!1;if(!d(l(e,i)))return!1;const c=new s.default(t),u=new s.default(r);return!(c.isZero()||c.gt(a)||u.isZero()||u.gt(a))&&(!n||1!==u.cmp(o))},r.hashPersonalMessage=function(e){c.assertIsBuffer(e);const r=t.from(`Ethereum Signed Message:\n${e.length.toString()}`,"utf-8");return a.keccak(t.concat([r,e]))}}).call(this,e("buffer").Buffer)},{file:"/home/circleci/project/node_modules/eth-trezor-keyring/node_modules/ethereumjs-util/dist/signature.js"}],[2085,{"./bytes":2087,"./constants":2088,"./hash":2090,"./helpers":2091,"./types":2095,assert:1380,"bn.js":2084,buffer:1713,"ethereum-cryptography/secp256k1":2108,"ethjs-util":2191,rlp:3499},function(e,t,r){(function(t){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.isZeroAddress=r.zeroAddress=r.importPublic=r.privateToAddress=r.privateToPublic=r.publicToAddress=r.pubToAddress=r.isValidPublic=r.isValidPrivate=r.generateAddress2=r.generateAddress=r.isValidChecksumAddress=r.toChecksumAddress=r.isValidAddress=r.Account=void 0;const a=o(e("assert")),c=o(e("bn.js")),u=s(e("rlp")),l=e("ethjs-util"),d=e("./constants"),f=e("./bytes"),h=e("./hash"),p=e("./helpers"),m=e("./types"),{privateKeyVerify:g,publicKeyCreate:y,publicKeyVerify:v,publicKeyConvert:b}=e("ethereum-cryptography/secp256k1");class w{constructor(e=new c.default(0),t=new c.default(0),r=d.KECCAK256_RLP,n=d.KECCAK256_NULL){this.nonce=e,this.balance=t,this.stateRoot=r,this.codeHash=n,this._validate()}static fromAccountData(e){const{nonce:t,balance:r,stateRoot:n,codeHash:i}=e;return new w(t?new c.default(f.toBuffer(t)):void 0,r?new c.default(f.toBuffer(r)):void 0,n?f.toBuffer(n):void 0,i?f.toBuffer(i):void 0)}static fromRlpSerializedAccount(e){const t=u.decode(e);if(!Array.isArray(t))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(t)}static fromValuesArray(e){const[t,r,n,i]=e;return new w(new c.default(t),new c.default(r),n,i)}_validate(){if(this.nonce.lt(new c.default(0)))throw new Error("nonce must be greater than zero");if(this.balance.lt(new c.default(0)))throw new Error("balance must be greater than zero");if(32!==this.stateRoot.length)throw new Error("stateRoot must have a length of 32");if(32!==this.codeHash.length)throw new Error("codeHash must have a length of 32")}raw(){return[m.bnToRlp(this.nonce),m.bnToRlp(this.balance),this.stateRoot,this.codeHash]}serialize(){return u.encode(this.raw())}isContract(){return!this.codeHash.equals(d.KECCAK256_NULL)}isEmpty(){return this.balance.isZero()&&this.nonce.isZero()&&this.codeHash.equals(d.KECCAK256_NULL)}}r.Account=w,r.isValidAddress=function(e){return p.assertIsHexString(e),/^0x[0-9a-fA-F]{40}$/.test(e)},r.toChecksumAddress=function(e,t){p.assertIsHexString(e);const r=l.stripHexPrefix(e).toLowerCase();let n="";if(t){n=m.toType(t,m.TypeOutput.BN).toString()+"0x"}const i=h.keccakFromString(n+r).toString("hex");let s="0x";for(let e=0;e<r.length;e++)parseInt(i[e],16)>=8?s+=r[e].toUpperCase():s+=r[e];return s},r.isValidChecksumAddress=function(e,t){return r.isValidAddress(e)&&r.toChecksumAddress(e,t)===e},r.generateAddress=function(e,r){p.assertIsBuffer(e),p.assertIsBuffer(r);const n=new c.default(r);return n.isZero()?h.rlphash([e,null]).slice(-20):h.rlphash([e,t.from(n.toArray())]).slice(-20)},r.generateAddress2=function(e,r,n){p.assertIsBuffer(e),p.assertIsBuffer(r),p.assertIsBuffer(n),a.default(20===e.length),a.default(32===r.length);return h.keccak256(t.concat([t.from("ff","hex"),e,r,h.keccak256(n)])).slice(-20)},r.isValidPrivate=function(e){return g(e)},r.isValidPublic=function(e,r=!1){return p.assertIsBuffer(e),64===e.length?v(t.concat([t.from([4]),e])):!!r&&v(e)},r.pubToAddress=function(e,r=!1){return p.assertIsBuffer(e),r&&64!==e.length&&(e=t.from(b(e,!1).slice(1))),a.default(64===e.length),h.keccak(e).slice(-20)},r.publicToAddress=r.pubToAddress,r.privateToPublic=function(e){return p.assertIsBuffer(e),t.from(y(e,!1)).slice(1)},r.privateToAddress=function(e){return r.publicToAddress(r.privateToPublic(e))},r.importPublic=function(e){return p.assertIsBuffer(e),64!==e.length&&(e=t.from(b(e,!1).slice(1))),e},r.zeroAddress=function(){const e=f.zeros(20);return f.bufferToHex(e)},r.isZeroAddress=function(e){p.assertIsHexString(e);return r.zeroAddress()===e}}).call(this,e("buffer").Buffer)},{file:"/home/circleci/project/node_modules/eth-trezor-keyring/node_modules/ethereumjs-util/dist/account.js"}],[3786,{"./account":3781,"./api":3782,"./backend/blockchain":3783,"./backend/transactions":3784,"./events":3785,"./misc":3787,"./networks/binance":3788,"./networks/bitcoin":3789,"./networks/cardano":3790,"./networks/coinInfo":3791,"./networks/eos":3792,"./networks/ethereum":3793,"./networks/lisk":3794,"./networks/nem":3795,"./networks/ripple":3796,"./networks/stellar":3797,"./networks/tezos":3798,"./params":3799,"./trezor/device":3800,"./trezor/management":3801},function(e,t,r){"use strict";r.__esModule=!0;var n=e("./api");Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===n[e]||(r[e]=n[e]))}));var i=e("./events");Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===i[e]||(r[e]=i[e]))}));var s=e("./misc");Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===s[e]||(r[e]=s[e]))}));var o=e("./params");Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===o[e]||(r[e]=o[e]))}));var a=e("./account");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===a[e]||(r[e]=a[e]))}));var c=e("./trezor/device");Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===c[e]||(r[e]=c[e]))}));var u=e("./trezor/management");Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===u[e]||(r[e]=u[e]))}));var l=e("./networks/bitcoin");Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===l[e]||(r[e]=l[e]))}));var d=e("./networks/binance");Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===d[e]||(r[e]=d[e]))}));var f=e("./networks/cardano");Object.keys(f).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===f[e]||(r[e]=f[e]))}));var h=e("./networks/coinInfo");Object.keys(h).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===h[e]||(r[e]=h[e]))}));var p=e("./networks/eos");Object.keys(p).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===p[e]||(r[e]=p[e]))}));var m=e("./networks/ethereum");Object.keys(m).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===m[e]||(r[e]=m[e]))}));var g=e("./networks/lisk");Object.keys(g).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===g[e]||(r[e]=g[e]))}));var y=e("./networks/nem");Object.keys(y).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===y[e]||(r[e]=y[e]))}));var v=e("./networks/ripple");Object.keys(v).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===v[e]||(r[e]=v[e]))}));var b=e("./networks/stellar");Object.keys(b).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===b[e]||(r[e]=b[e]))}));var w=e("./networks/tezos");Object.keys(w).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===w[e]||(r[e]=w[e]))}));var _=e("./backend/blockchain");Object.keys(_).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===_[e]||(r[e]=_[e]))}));var k=e("./backend/transactions");Object.keys(k).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===k[e]||(r[e]=k[e]))}))},{file:"/home/circleci/project/node_modules/trezor-connect/lib/types/index.js"}],[3766,{"./blockchain":3761,"./cardano":3762,"./device":3763,"./errors":3764,"./iframe":3765,"./network":3767,"./popup":3768,"./transport":3769,"./ui":3770,"@babel/runtime/helpers/interopRequireWildcard":185},function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard");r.__esModule=!0,r.CARDANO=r.UI=r.TRANSPORT=r.POPUP=r.NETWORK=r.IFRAME=r.ERRORS=r.DEVICE=r.BLOCKCHAIN=r.BLOCKCHAIN_EVENT=r.RESPONSE_EVENT=r.TRANSPORT_EVENT=r.DEVICE_EVENT=r.UI_EVENT=r.CORE_EVENT=void 0;var i=n(e("./blockchain"));r.BLOCKCHAIN=i;var s=n(e("./device"));r.DEVICE=s;var o=n(e("./errors"));r.ERRORS=o;var a=n(e("./iframe"));r.IFRAME=a;var c=n(e("./network"));r.NETWORK=c;var u=n(e("./popup"));r.POPUP=u;var l=n(e("./transport"));r.TRANSPORT=l;var d=n(e("./ui"));r.UI=d;var f=n(e("./cardano"));r.CARDANO=f;r.CORE_EVENT="CORE_EVENT";r.UI_EVENT="UI_EVENT";r.DEVICE_EVENT="DEVICE_EVENT";r.TRANSPORT_EVENT="TRANSPORT_EVENT";r.RESPONSE_EVENT="RESPONSE_EVENT";r.BLOCKCHAIN_EVENT="BLOCKCHAIN_EVENT"},{file:"/home/circleci/project/node_modules/trezor-connect/lib/constants/index.js"}],[3772,{"../../constants":3766,"../../data/ConnectSettings":3771,"../../iframe/builder":3774,"../../message":3778,"../../message/builder":3777,"../../popup/PopupManager":3779,"../../types":3786,"../../utils/debug":3803,"../../webusb/button":3805,"@babel/runtime/helpers/asyncToGenerator":174,"@babel/runtime/helpers/defineProperty":178,"@babel/runtime/helpers/interopRequireDefault":184,"@babel/runtime/helpers/interopRequireWildcard":185,"@babel/runtime/regenerator":204,events:1714},function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");r.__esModule=!0,r.disableWebUSB=r.requestLogin=r.customMessage=r.getSettings=r.renderWebUSBButton=r.uiResponse=r.call=r.init=r.cancel=r.dispose=r.manifest=r.eventEmitter=void 0;var s=i(e("@babel/runtime/helpers/defineProperty")),o=i(e("@babel/runtime/regenerator")),a=i(e("@babel/runtime/helpers/asyncToGenerator")),c=i(e("events")),u=i(e("../../popup/PopupManager")),l=n(e("../../iframe/builder")),d=i(e("../../webusb/button")),f=e("../../message"),h=e("../../message/builder"),p=e("../../data/ConnectSettings"),m=n(e("../../utils/debug")),g=e("../../constants");n(e("../../types"));function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,s.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b=new c.default;r.eventEmitter=b;var w,_,k=(0,m.init)("[trezor-connect.js]"),x=function(){var e=new u.default(w);return e.on(g.POPUP.CLOSED,(function(e){l.postMessage({type:g.POPUP.CLOSED,payload:e?{error:e}:null},!1)})),e};r.manifest=function(e){w=(0,p.parse)({manifest:e})};var A=function(){l.dispose(),_&&_.close()};r.dispose=A;r.cancel=function(e){_&&_.emit(g.POPUP.CLOSED,e)};var P=function(e){if(e.origin===l.origin){var t=(0,f.parseMessage)(e.data),r=t.event,n=t.type,i=t.payload,s=t.id||0;switch(k.log("handleMessage",t),r){case g.RESPONSE_EVENT:l.messagePromises[s]?(l.messagePromises[s].resolve({id:s,success:t.success,payload:i}),delete l.messagePromises[s]):k.warn("Unknown message id "+s);break;case g.DEVICE_EVENT:case g.TRANSPORT_EVENT:case g.BLOCKCHAIN_EVENT:b.emit(r,t),b.emit(n,i);break;case g.UI_EVENT:if(n===g.IFRAME.BOOTSTRAP){l.clearTimeout();break}n===g.IFRAME.LOADED&&l.initPromise.resolve(),n===g.IFRAME.ERROR&&l.initPromise.reject(i.error),b.emit(r,t),b.emit(n,i);break;default:k.log("Undefined message",r,e)}}},E=function(){var e=(0,a.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t={}),!l.instance){e.next=3;break}throw g.ERRORS.TypedError("Init_AlreadyInitialized");case 3:if(w||(w=(0,p.parse)(t)),w.manifest){e.next=6;break}throw g.ERRORS.TypedError("Init_ManifestMissing");case 6:if(!w.lazyLoad){e.next=9;break}return w.lazyLoad=!1,e.abrupt("return");case 9:return _||(_=x()),k.enabled=!!w.debug,window.addEventListener("message",P),window.addEventListener("unload",A),e.next=15,l.init(w);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();r.init=E;var S=function(){var e=(0,a.default)(o.default.mark((function e(t){var r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l.instance||l.timeout){e.next=15;break}if((w=(0,p.parse)(w)).manifest){e.next=4;break}return e.abrupt("return",(0,f.errorMessage)(g.ERRORS.TypedError("Init_ManifestMissing")));case 4:return _||(_=x()),_.request(!0),e.prev=6,e.next=9,E(w);case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(6),_&&(["Init_IframeBlocked","Init_IframeTimeout"].includes(e.t0.code)?_.postMessage((0,h.UiMessage)(g.UI.IFRAME_FAILURE)):_.close()),e.abrupt("return",(0,f.errorMessage)(e.t0));case 15:if(!l.timeout){e.next=19;break}return e.abrupt("return",(0,f.errorMessage)(g.ERRORS.TypedError("Init_ManifestMissing")));case 19:if(!l.error){e.next=21;break}return e.abrupt("return",(0,f.errorMessage)(l.error));case 21:return w.popup&&_&&_.request(),e.prev=22,e.next=25,l.postMessage({type:g.IFRAME.CALL,payload:t});case 25:if(!(r=e.sent)){e.next=31;break}return!r.success&&"Device_CallInProgress"!==r.payload.error.code&&_&&_.unlock(),e.abrupt("return",r);case 31:return _&&_.unlock(),e.abrupt("return",(0,f.errorMessage)(g.ERRORS.TypedError("Method_NoResponse")));case 33:e.next=40;break;case 35:return e.prev=35,e.t1=e.catch(22),k.error("__call error",e.t1),_&&_.close(),e.abrupt("return",(0,f.errorMessage)(e.t1));case 40:case"end":return e.stop()}}),e,null,[[6,11],[22,35]])})));return function(t){return e.apply(this,arguments)}}();r.call=S;var T=function(e){l.postMessage({event:g.UI_EVENT,type:g.UI.CUSTOM_MESSAGE_RESPONSE,payload:e})};r.uiResponse=function(e){var t=e.type,r=e.payload;l.postMessage({event:g.UI_EVENT,type:t,payload:r})};r.renderWebUSBButton=function(e){(0,d.default)(e,w.webusbSrc,l.origin)};var j=function(){var e=(0,a.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l.instance){e.next=2;break}return e.abrupt("return",(0,f.errorMessage)(g.ERRORS.TypedError("Init_NotInitialized")));case 2:return e.next=4,S({method:"getSettings"});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();r.getSettings=j;var C=function(){var e=(0,a.default)(o.default.mark((function e(t){var r,n,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"==typeof t.callback){e.next=2;break}return e.abrupt("return",(0,f.errorMessage)(g.ERRORS.TypedError("Method_CustomMessage_Callback")));case 2:return r=t.callback,n=function(){var e=(0,a.default)(o.default.mark((function e(t){var n,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.data)||n.type!==g.UI.CUSTOM_MESSAGE_REQUEST){e.next=6;break}return e.next=4,r(n.payload);case 4:i=e.sent,T(i||{message:"release"});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),window.addEventListener("message",n,!1),e.next=7,S(v(v({method:"customMessage"},t),{},{callback:null}));case 7:return i=e.sent,window.removeEventListener("message",n),e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();r.customMessage=C;var I=function(){var e=(0,a.default)(o.default.mark((function e(t){var r,n,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof t.callback){e.next=11;break}return r=t.callback,n=function(){var e=(0,a.default)(o.default.mark((function e(t){var n,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.data)||n.type!==g.UI.LOGIN_CHALLENGE_REQUEST){e.next=12;break}return e.prev=2,e.next=5,r();case 5:i=e.sent,l.postMessage({event:g.UI_EVENT,type:g.UI.LOGIN_CHALLENGE_RESPONSE,payload:i}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),l.postMessage({event:g.UI_EVENT,type:g.UI.LOGIN_CHALLENGE_RESPONSE,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),window.addEventListener("message",n,!1),e.next=6,S(v(v({method:"requestLogin"},t),{},{asyncChallenge:!0,callback:null}));case 6:return i=e.sent,window.removeEventListener("message",n),e.abrupt("return",i);case 11:return e.next=13,S(v({method:"requestLogin"},t));case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();r.requestLogin=I;r.disableWebUSB=function(){l.postMessage({event:g.UI_EVENT,type:g.TRANSPORT.DISABLE_WEBUSB})}},{file:"/home/circleci/project/node_modules/trezor-connect/lib/env/browser/index.js"}],[1711,{},function(e,t,r){"use strict";function n(e){return encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))}))}function i(e){return u(n(e))}function s(e){var t=e.replace(/(.)/g,(function(e,t){var r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}));return decodeURIComponent(t)}function o(e){return s(a(e))}function a(e){return Array.prototype.map.call(e,(function(e){return String.fromCharCode(e)})).join("")}function c(e){var t=a(e);return btoa(t)}function u(e){var t;return t="undefined"!=typeof Uint8Array?new Uint8Array(e.length):[],Array.prototype.forEach.call(e,(function(e,r){t[r]=e.charCodeAt(0)})),t}function l(e){return u(atob(e))}t.exports={utf8ToBinaryString:n,utf8ToBuffer:i,utf8ToBase64:function(e){var t=n(e);return btoa(t)},binaryStringToUtf8:s,bufferToUtf8:o,base64ToUtf8:function(e){return s(atob(e))},bufferToBinaryString:a,bufferToBase64:c,binaryStringToBuffer:u,base64ToBuffer:l,strToUtf8Arr:i,utf8ArrToStr:o,arrToBase64:c,base64ToArr:l}},{file:"/home/circleci/project/node_modules/browserify-unibabel/index.js"}],[2037,{"./account":2036,"./bytes":2038,assert:1380,"bn.js":2035,buffer:1713},function(e,t,r){(function(t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Address=void 0;const n=e("assert"),i=e("bn.js"),s=e("./bytes"),o=e("./account");class a{constructor(e){n(20===e.length,"Invalid address length"),this.buf=e}static zero(){return new a(s.zeros(20))}static fromString(e){return n(o.isValidAddress(e),"Invalid address"),new a(s.toBuffer(e))}static fromPublicKey(e){n(t.isBuffer(e),"Public key should be Buffer");const r=o.pubToAddress(e);return new a(r)}static fromPrivateKey(e){n(t.isBuffer(e),"Private key should be Buffer");const r=o.privateToAddress(e);return new a(r)}static generate(e,r){return n(i.isBN(r)),new a(o.generateAddress(e.buf,r.toArrayLike(t)))}static generate2(e,r,i){return n(t.isBuffer(r)),n(t.isBuffer(i)),new a(o.generateAddress2(e.buf,r,i))}equals(e){return this.buf.equals(e.buf)}isZero(){return this.equals(a.zero())}toString(){return"0x"+this.buf.toString("hex")}toBuffer(){return t.from(this.buf)}}r.Address=a}).call(this,e("buffer").Buffer)},{file:"/home/circleci/project/node_modules/eth-keyring-controller/node_modules/ethereumjs-util/dist/address.js"}],[2038,{"./helpers":2042,"bn.js":2035,buffer:1713,"ethjs-util":2191},function(e,t,r){(function(t){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.baToJSON=r.addHexPrefix=r.toUnsigned=r.fromSigned=r.bufferToHex=r.bufferToInt=r.toBuffer=r.unpadHexString=r.unpadArray=r.unpadBuffer=r.setLengthRight=r.setLengthLeft=r.zeros=void 0;const i=n(e("bn.js")),s=e("ethjs-util"),o=e("./helpers");r.zeros=function(e){return t.allocUnsafe(e).fill(0)};const a=function(e,t,n){const i=r.zeros(t);return n?e.length<t?(e.copy(i),i):e.slice(0,t):e.length<t?(e.copy(i,t-e.length),i):e.slice(-t)};r.setLengthLeft=function(e,t){return o.assertIsBuffer(e),a(e,t,!1)},r.setLengthRight=function(e,t){return o.assertIsBuffer(e),a(e,t,!0)};const c=function(e){let t=e[0];for(;e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e};r.unpadBuffer=function(e){return o.assertIsBuffer(e),c(e)},r.unpadArray=function(e){return o.assertIsArray(e),c(e)},r.unpadHexString=function(e){return o.assertIsHexString(e),e=s.stripHexPrefix(e),c(e)},r.toBuffer=function(e){if(null==e)return t.allocUnsafe(0);if(t.isBuffer(e))return t.from(e);if(Array.isArray(e)||e instanceof Uint8Array)return t.from(e);if("string"==typeof e){if(!s.isHexString(e))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${e}`);return t.from(s.padToEven(s.stripHexPrefix(e)),"hex")}if("number"==typeof e)return s.intToBuffer(e);if(i.default.isBN(e))return e.toArrayLike(t);if(e.toArray)return t.from(e.toArray());if(e.toBuffer)return t.from(e.toBuffer());throw new Error("invalid type")},r.bufferToInt=function(e){return new i.default(r.toBuffer(e)).toNumber()},r.bufferToHex=function(e){return"0x"+(e=r.toBuffer(e)).toString("hex")},r.fromSigned=function(e){return new i.default(e).fromTwos(256)},r.toUnsigned=function(e){return t.from(e.toTwos(256).toArray())},r.addHexPrefix=function(e){return"string"!=typeof e||s.isHexPrefixed(e)?e:"0x"+e},r.baToJSON=function(e){if(t.isBuffer(e))return`0x${e.toString("hex")}`;if(e instanceof Array){const t=[];for(let n=0;n<e.length;n++)t.push(r.baToJSON(e[n]));return t}}}).call(this,e("buffer").Buffer)},{file:"/home/circleci/project/node_modules/eth-keyring-controller/node_modules/ethereumjs-util/dist/bytes.js"}],[2044,{"./bytes":2038,assert:1380,buffer:1713,"ethjs-util":2191,rlp:3499},function(e,t,r){(function(t){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.defineProperties=void 0;const a=o(e("assert")),c=s(e("ethjs-util")),u=s(e("rlp")),l=e("./bytes");r.defineProperties=function(e,r,n){if(e.raw=[],e._fields=[],e.toJSON=function(t=!1){if(t){const t={};return e._fields.forEach((r=>{t[r]=`0x${e[r].toString("hex")}`})),t}return l.baToJSON(e.raw)},e.serialize=function(){return u.encode(e.raw)},r.forEach(((r,n)=>{function i(){return e.raw[n]}function s(i){"00"!==(i=l.toBuffer(i)).toString("hex")||r.allowZero||(i=t.allocUnsafe(0)),r.allowLess&&r.length?(i=l.unpadBuffer(i),a.default(r.length>=i.length,`The field ${r.name} must not have more ${r.length} bytes`)):r.allowZero&&0===i.length||!r.length||a.default(r.length===i.length,`The field ${r.name} must have byte length of ${r.length}`),e.raw[n]=i}e._fields.push(r.name),Object.defineProperty(e,r.name,{enumerable:!0,configurable:!0,get:i,set:s}),r.default&&(e[r.name]=r.default),r.alias&&Object.defineProperty(e,r.alias,{enumerable:!1,configurable:!0,set:s,get:i})})),n)if("string"==typeof n&&(n=t.from(c.stripHexPrefix(n),"hex")),t.isBuffer(n)&&(n=u.decode(n)),Array.isArray(n)){if(n.length>e._fields.length)throw new Error("wrong number of fields in data");n.forEach(((t,r)=>{e[e._fields[r]]=l.toBuffer(t)}))}else{if("object"!=typeof n)throw new Error("invalid data");{const t=Object.keys(n);r.forEach((r=>{-1!==t.indexOf(r.name)&&(e[r.name]=n[r.name]),-1!==t.indexOf(r.alias)&&(e[r.alias]=n[r.alias])}))}}}}).call(this,e("buffer").Buffer)},{file:"/home/circleci/project/node_modules/eth-keyring-controller/node_modules/ethereumjs-util/dist/object.js"}],[2046,{"./bytes":2038,"bn.js":2035,buffer:1713,"ethjs-util":2191},function(e,t,r){(function(t){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.toType=r.TypeOutput=r.bnToRlp=r.bnToHex=void 0;const i=n(e("bn.js")),s=e("ethjs-util"),o=e("./bytes");var a;r.bnToHex=function(e){return`0x${e.toString(16)}`},r.bnToRlp=function(e){return o.unpadBuffer(e.toArrayLike(t))},function(e){e[e.Number=0]="Number",e[e.BN=1]="BN",e[e.Buffer=2]="Buffer",e[e.PrefixedHexString=3]="PrefixedHexString"}(a=r.TypeOutput||(r.TypeOutput={})),r.toType=function(e,t){if("string"==typeof e&&!s.isHexString(e))throw new Error(`A string must be provided with a 0x-prefix, given: ${e}`);if("number"==typeof e&&!Number.isSafeInteger(e))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");if(e=o.toBuffer(e),t===a.Buffer)return e;if(t===a.BN)return new i.default(e);if(t===a.Number){const t=new i.default(e),r=new i.default(Number.MAX_SAFE_INTEGER.toString());if(t.gt(r))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return t.toNumber()}return`0x${e.toString("hex")}`}}).call(this,e("buffer").Buffer)},{file:"/home/circleci/project/node_modules/eth-keyring-controller/node_modules/ethereumjs-util/dist/types.js"}],[2040,{"bn.js":2035,rlp:3499},function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.rlp=r.BN=void 0;const n=e("bn.js");r.BN=n;const i=e("rlp");r.rlp=i},{file:"/home/circleci/project/node_modules/eth-keyring-controller/node_modules/ethereumjs-util/dist/externals.js"}],[2039,{"bn.js":2035,buffer:1713},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.KECCAK256_RLP=r.KECCAK256_RLP_S=r.KECCAK256_RLP_ARRAY=r.KECCAK256_RLP_ARRAY_S=r.KECCAK256_NULL=r.KECCAK256_NULL_S=r.TWO_POW256=r.MAX_INTEGER=void 0;const i=e("buffer").Buffer,s=n(e("bn.js"));r.MAX_INTEGER=new s.default("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),r.TWO_POW256=new s.default("10000000000000000000000000000000000000000000000000000000000000000",16),r.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",r.KECCAK256_NULL=i.from(r.KECCAK256_NULL_S,"hex"),r.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",r.KECCAK256_RLP_ARRAY=i.from(r.KECCAK256_RLP_ARRAY_S,"hex"),r.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",r.KECCAK256_RLP=i.from(r.KECCAK256_RLP_S,"hex")},{file:"/home/circleci/project/node_modules/eth-keyring-controller/node_modules/ethereumjs-util/dist/constants.js"}],[2041,{"./bytes":2038,"./helpers":2042,buffer:1713,"create-hash":1758,"ethereum-cryptography/keccak":2097,rlp:3499},function(e,t,r){(function(t){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.rlphash=r.ripemd160FromArray=r.ripemd160FromString=r.ripemd160=r.sha256FromArray=r.sha256FromString=r.sha256=r.keccakFromArray=r.keccakFromHexString=r.keccakFromString=r.keccak256=r.keccak=void 0;const{keccak224:o,keccak384:a,keccak256:c,keccak512:u}=e("ethereum-cryptography/keccak"),l=e("create-hash"),d=s(e("rlp")),f=e("./bytes"),h=e("./helpers");r.keccak=function(e,t=256){switch(h.assertIsBuffer(e),t){case 224:return o(e);case 256:return c(e);case 384:return a(e);case 512:return u(e);default:throw new Error(`Invald algorithm: keccak${t}`)}},r.keccak256=function(e){return r.keccak(e)},r.keccakFromString=function(e,n=256){h.assertIsString(e);const i=t.from(e,"utf8");return r.keccak(i,n)},r.keccakFromHexString=function(e,t=256){return h.assertIsHexString(e),r.keccak(f.toBuffer(e),t)},r.keccakFromArray=function(e,t=256){return h.assertIsArray(e),r.keccak(f.toBuffer(e),t)};const p=function(e){return e=f.toBuffer(e),l("sha256").update(e).digest()};r.sha256=function(e){return h.assertIsBuffer(e),p(e)},r.sha256FromString=function(e){return h.assertIsString(e),p(e)},r.sha256FromArray=function(e){return h.assertIsArray(e),p(e)};const m=function(e,t){e=f.toBuffer(e);const r=l("rmd160").update(e).digest();return!0===t?f.setLengthLeft(r,32):r};r.ripemd160=function(e,t){return h.assertIsBuffer(e),m(e,t)},r.ripemd160FromString=function(e,t){return h.assertIsString(e),m(e,t)},r.ripemd160FromArray=function(e,t){return h.assertIsArray(e),m(e,t)},r.rlphash=function(e){return r.keccak(d.encode(e))}}).call(this,e("buffer").Buffer)},{file:"/home/circleci/project/node_modules/eth-keyring-controller/node_modules/ethereumjs-util/dist/hash.js"}],[2045,{"./bytes":2038,"./hash":2041,"./helpers":2042,"./types":2046,"bn.js":2035,buffer:1713,"ethereum-cryptography/secp256k1":2108},function(e,t,r){(function(t){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.hashPersonalMessage=r.isValidSignature=r.fromRpcSig=r.toRpcSig=r.ecrecover=r.ecsign=void 0;const i=e("ethereum-cryptography/secp256k1"),s=n(e("bn.js")),o=e("./bytes"),a=e("./hash"),c=e("./helpers"),u=e("./types");function l(e,t){const r=u.toType(e,u.TypeOutput.BN);if(!t)return r.subn(27);const n=u.toType(t,u.TypeOutput.BN);return r.sub(n.muln(2).addn(35))}function d(e){const t=new s.default(e);return t.eqn(0)||t.eqn(1)}r.ecsign=function(e,r,n){const{signature:s,recid:o}=i.ecdsaSign(e,r),a=t.from(s.slice(0,32)),c=t.from(s.slice(32,64));if(!n||"number"==typeof n){if(n&&!Number.isSafeInteger(n))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");return{r:a,s:c,v:n?o+(2*n+35):o+27}}return{r:a,s:c,v:u.toType(n,u.TypeOutput.BN).muln(2).addn(35).addn(o).toArrayLike(t)}},r.ecrecover=function(e,r,n,s,a){const c=t.concat([o.setLengthLeft(n,32),o.setLengthLeft(s,32)],64),u=l(r,a);if(!d(u))throw new Error("Invalid signature v value");const f=i.ecdsaRecover(c,u.toNumber(),e);return t.from(i.publicKeyConvert(f,!1).slice(1))},r.toRpcSig=function(e,r,n,i){if(!d(l(e,i)))throw new Error("Invalid signature v value");return o.bufferToHex(t.concat([o.setLengthLeft(r,32),o.setLengthLeft(n,32),o.toBuffer(e)]))},r.fromRpcSig=function(e){const t=o.toBuffer(e);if(t.length<65)throw new Error("Invalid signature length");let r=o.bufferToInt(t.slice(64));return r<27&&(r+=27),{v:r,r:t.slice(0,32),s:t.slice(32,64)}},r.isValidSignature=function(e,t,r,n=!0,i){const o=new s.default("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),a=new s.default("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(32!==t.length||32!==r.length)return!1;if(!d(l(e,i)))return!1;const c=new s.default(t),u=new s.default(r);return!(c.isZero()||c.gt(a)||u.isZero()||u.gt(a))&&(!n||1!==u.cmp(o))},r.hashPersonalMessage=function(e){c.assertIsBuffer(e);const r=t.from(`Ethereum Signed Message:\n${e.length.toString()}`,"utf-8");return a.keccak(t.concat([r,e]))}}).call(this,e("buffer").Buffer)},{file:"/home/circleci/project/node_modules/eth-keyring-controller/node_modules/ethereumjs-util/dist/signature.js"}],[2036,{"./bytes":2038,"./constants":2039,"./hash":2041,"./helpers":2042,"./types":2046,assert:1380,"bn.js":2035,buffer:1713,"ethereum-cryptography/secp256k1":2108,"ethjs-util":2191,rlp:3499},function(e,t,r){(function(t){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.isZeroAddress=r.zeroAddress=r.importPublic=r.privateToAddress=r.privateToPublic=r.publicToAddress=r.pubToAddress=r.isValidPublic=r.isValidPrivate=r.generateAddress2=r.generateAddress=r.isValidChecksumAddress=r.toChecksumAddress=r.isValidAddress=r.Account=void 0;const a=o(e("assert")),c=o(e("bn.js")),u=s(e("rlp")),l=e("ethjs-util"),d=e("./constants"),f=e("./bytes"),h=e("./hash"),p=e("./helpers"),m=e("./types"),{privateKeyVerify:g,publicKeyCreate:y,publicKeyVerify:v,publicKeyConvert:b}=e("ethereum-cryptography/secp256k1");class w{constructor(e=new c.default(0),t=new c.default(0),r=d.KECCAK256_RLP,n=d.KECCAK256_NULL){this.nonce=e,this.balance=t,this.stateRoot=r,this.codeHash=n,this._validate()}static fromAccountData(e){const{nonce:t,balance:r,stateRoot:n,codeHash:i}=e;return new w(t?new c.default(f.toBuffer(t)):void 0,r?new c.default(f.toBuffer(r)):void 0,n?f.toBuffer(n):void 0,i?f.toBuffer(i):void 0)}static fromRlpSerializedAccount(e){const t=u.decode(e);if(!Array.isArray(t))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(t)}static fromValuesArray(e){const[t,r,n,i]=e;return new w(new c.default(t),new c.default(r),n,i)}_validate(){if(this.nonce.lt(new c.default(0)))throw new Error("nonce must be greater than zero");if(this.balance.lt(new c.default(0)))throw new Error("balance must be greater than zero");if(32!==this.stateRoot.length)throw new Error("stateRoot must have a length of 32");if(32!==this.codeHash.length)throw new Error("codeHash must have a length of 32")}raw(){return[m.bnToRlp(this.nonce),m.bnToRlp(this.balance),this.stateRoot,this.codeHash]}serialize(){return u.encode(this.raw())}isContract(){return!this.codeHash.equals(d.KECCAK256_NULL)}isEmpty(){return this.balance.isZero()&&this.nonce.isZero()&&this.codeHash.equals(d.KECCAK256_NULL)}}r.Account=w,r.isValidAddress=function(e){return p.assertIsHexString(e),/^0x[0-9a-fA-F]{40}$/.test(e)},r.toChecksumAddress=function(e,t){p.assertIsHexString(e);const r=l.stripHexPrefix(e).toLowerCase();let n="";if(t){n=m.toType(t,m.TypeOutput.BN).toString()+"0x"}const i=h.keccakFromString(n+r).toString("hex");let s="0x";for(let e=0;e<r.length;e++)parseInt(i[e],16)>=8?s+=r[e].toUpperCase():s+=r[e];return s},r.isValidChecksumAddress=function(e,t){return r.isValidAddress(e)&&r.toChecksumAddress(e,t)===e},r.generateAddress=function(e,r){p.assertIsBuffer(e),p.assertIsBuffer(r);const n=new c.default(r);return n.isZero()?h.rlphash([e,null]).slice(-20):h.rlphash([e,t.from(n.toArray())]).slice(-20)},r.generateAddress2=function(e,r,n){p.assertIsBuffer(e),p.assertIsBuffer(r),p.assertIsBuffer(n),a.default(20===e.length),a.default(32===r.length);return h.keccak256(t.concat([t.from("ff","hex"),e,r,h.keccak256(n)])).slice(-20)},r.isValidPrivate=function(e){return g(e)},r.isValidPublic=function(e,r=!1){return p.assertIsBuffer(e),64===e.length?v(t.concat([t.from([4]),e])):!!r&&v(e)},r.pubToAddress=function(e,r=!1){return p.assertIsBuffer(e),r&&64!==e.length&&(e=t.from(b(e,!1).slice(1))),a.default(64===e.length),h.keccak(e).slice(-20)},r.publicToAddress=r.pubToAddress,r.privateToPublic=function(e){return p.assertIsBuffer(e),t.from(y(e,!1)).slice(1)},r.privateToAddress=function(e){return r.publicToAddress(r.privateToPublic(e))},r.importPublic=function(e){return p.assertIsBuffer(e),64!==e.length&&(e=t.from(b(e,!1).slice(1))),e},r.zeroAddress=function(){const e=f.zeros(20);return f.bufferToHex(e)},r.isZeroAddress=function(e){p.assertIsHexString(e);return r.zeroAddress()===e}}).call(this,e("buffer").Buffer)},{file:"/home/circleci/project/node_modules/eth-keyring-controller/node_modules/ethereumjs-util/dist/account.js"}],[1638,{},function(e,t,r){t.exports=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},{file:"/home/circleci/project/node_modules/bip39/wordlists/chinese_simplified.json"}],[1639,{},function(e,t,r){t.exports=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},{file:"/home/circleci/project/node_modules/bip39/wordlists/chinese_traditional.json"}],[1640,{},function(e,t,r){t.exports=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"]},{file:"/home/circleci/project/node_modules/bip39/wordlists/english.json"}],[1641,{},function(e,t,r){t.exports=["abaisser","abandon","abdiquer","abeille","abolir","aborder","aboutir","aboyer","abrasif","abreuver","abriter","abroger","abrupt","absence","absolu","absurde","abusif","abyssal","academie","acajou","acarien","accabler","accepter","acclamer","accolade","accroche","accuser","acerbe","achat","acheter","aciduler","acier","acompte","acquerir","acronyme","acteur","actif","actuel","adepte","adequat","adhesif","adjectif","adjuger","admettre","admirer","adopter","adorer","adoucir","adresse","adroit","adulte","adverbe","aerer","aeronef","affaire","affecter","affiche","affreux","affubler","agacer","agencer","agile","agiter","agrafer","agreable","agrume","aider","aiguille","ailier","aimable","aisance","ajouter","ajuster","alarmer","alchimie","alerte","algebre","algue","aliener","aliment","alleger","alliage","allouer","allumer","alourdir","alpaga","altesse","alveole","amateur","ambigu","ambre","amenager","amertume","amidon","amiral","amorcer","amour","amovible","amphibie","ampleur","amusant","analyse","anaphore","anarchie","anatomie","ancien","aneantir","angle","angoisse","anguleux","animal","annexer","annonce","annuel","anodin","anomalie","anonyme","anormal","antenne","antidote","anxieux","apaiser","aperitif","aplanir","apologie","appareil","appeler","apporter","appuyer","aquarium","aqueduc","arbitre","arbuste","ardeur","ardoise","argent","arlequin","armature","armement","armoire","armure","arpenter","arracher","arriver","arroser","arsenic","arteriel","article","aspect","asphalte","aspirer","assaut","asservir","assiette","associer","assurer","asticot","astre","astuce","atelier","atome","atrium","atroce","attaque","attentif","attirer","attraper","aubaine","auberge","audace","audible","augurer","aurore","automne","autruche","avaler","avancer","avarice","avenir","averse","aveugle","aviateur","avide","avion","aviser","avoine","avouer","avril","axial","axiome","badge","bafouer","bagage","baguette","baignade","balancer","balcon","baleine","balisage","bambin","bancaire","bandage","banlieue","banniere","banquier","barbier","baril","baron","barque","barrage","bassin","bastion","bataille","bateau","batterie","baudrier","bavarder","belette","belier","belote","benefice","berceau","berger","berline","bermuda","besace","besogne","betail","beurre","biberon","bicycle","bidule","bijou","bilan","bilingue","billard","binaire","biologie","biopsie","biotype","biscuit","bison","bistouri","bitume","bizarre","blafard","blague","blanchir","blessant","blinder","blond","bloquer","blouson","bobard","bobine","boire","boiser","bolide","bonbon","bondir","bonheur","bonifier","bonus","bordure","borne","botte","boucle","boueux","bougie","boulon","bouquin","bourse","boussole","boutique","boxeur","branche","brasier","brave","brebis","breche","breuvage","bricoler","brigade","brillant","brioche","brique","brochure","broder","bronzer","brousse","broyeur","brume","brusque","brutal","bruyant","buffle","buisson","bulletin","bureau","burin","bustier","butiner","butoir","buvable","buvette","cabanon","cabine","cachette","cadeau","cadre","cafeine","caillou","caisson","calculer","calepin","calibre","calmer","calomnie","calvaire","camarade","camera","camion","campagne","canal","caneton","canon","cantine","canular","capable","caporal","caprice","capsule","capter","capuche","carabine","carbone","caresser","caribou","carnage","carotte","carreau","carton","cascade","casier","casque","cassure","causer","caution","cavalier","caverne","caviar","cedille","ceinture","celeste","cellule","cendrier","censurer","central","cercle","cerebral","cerise","cerner","cerveau","cesser","chagrin","chaise","chaleur","chambre","chance","chapitre","charbon","chasseur","chaton","chausson","chavirer","chemise","chenille","chequier","chercher","cheval","chien","chiffre","chignon","chimere","chiot","chlorure","chocolat","choisir","chose","chouette","chrome","chute","cigare","cigogne","cimenter","cinema","cintrer","circuler","cirer","cirque","citerne","citoyen","citron","civil","clairon","clameur","claquer","classe","clavier","client","cligner","climat","clivage","cloche","clonage","cloporte","cobalt","cobra","cocasse","cocotier","coder","codifier","coffre","cogner","cohesion","coiffer","coincer","colere","colibri","colline","colmater","colonel","combat","comedie","commande","compact","concert","conduire","confier","congeler","connoter","consonne","contact","convexe","copain","copie","corail","corbeau","cordage","corniche","corpus","correct","cortege","cosmique","costume","coton","coude","coupure","courage","couteau","couvrir","coyote","crabe","crainte","cravate","crayon","creature","crediter","cremeux","creuser","crevette","cribler","crier","cristal","critere","croire","croquer","crotale","crucial","cruel","crypter","cubique","cueillir","cuillere","cuisine","cuivre","culminer","cultiver","cumuler","cupide","curatif","curseur","cyanure","cycle","cylindre","cynique","daigner","damier","danger","danseur","dauphin","debattre","debiter","deborder","debrider","debutant","decaler","decembre","dechirer","decider","declarer","decorer","decrire","decupler","dedale","deductif","deesse","defensif","defiler","defrayer","degager","degivrer","deglutir","degrafer","dejeuner","delice","deloger","demander","demeurer","demolir","denicher","denouer","dentelle","denuder","depart","depenser","dephaser","deplacer","deposer","deranger","derober","desastre","descente","desert","designer","desobeir","dessiner","destrier","detacher","detester","detourer","detresse","devancer","devenir","deviner","devoir","diable","dialogue","diamant","dicter","differer","digerer","digital","digne","diluer","dimanche","diminuer","dioxyde","directif","diriger","discuter","disposer","dissiper","distance","divertir","diviser","docile","docteur","dogme","doigt","domaine","domicile","dompter","donateur","donjon","donner","dopamine","dortoir","dorure","dosage","doseur","dossier","dotation","douanier","double","douceur","douter","doyen","dragon","draper","dresser","dribbler","droiture","duperie","duplexe","durable","durcir","dynastie","eblouir","ecarter","echarpe","echelle","eclairer","eclipse","eclore","ecluse","ecole","economie","ecorce","ecouter","ecraser","ecremer","ecrivain","ecrou","ecume","ecureuil","edifier","eduquer","effacer","effectif","effigie","effort","effrayer","effusion","egaliser","egarer","ejecter","elaborer","elargir","electron","elegant","elephant","eleve","eligible","elitisme","eloge","elucider","eluder","emballer","embellir","embryon","emeraude","emission","emmener","emotion","emouvoir","empereur","employer","emporter","emprise","emulsion","encadrer","enchere","enclave","encoche","endiguer","endosser","endroit","enduire","energie","enfance","enfermer","enfouir","engager","engin","englober","enigme","enjamber","enjeu","enlever","ennemi","ennuyeux","enrichir","enrobage","enseigne","entasser","entendre","entier","entourer","entraver","enumerer","envahir","enviable","envoyer","enzyme","eolien","epaissir","epargne","epatant","epaule","epicerie","epidemie","epier","epilogue","epine","episode","epitaphe","epoque","epreuve","eprouver","epuisant","equerre","equipe","eriger","erosion","erreur","eruption","escalier","espadon","espece","espiegle","espoir","esprit","esquiver","essayer","essence","essieu","essorer","estime","estomac","estrade","etagere","etaler","etanche","etatique","eteindre","etendoir","eternel","ethanol","ethique","ethnie","etirer","etoffer","etoile","etonnant","etourdir","etrange","etroit","etude","euphorie","evaluer","evasion","eventail","evidence","eviter","evolutif","evoquer","exact","exagerer","exaucer","exceller","excitant","exclusif","excuse","executer","exemple","exercer","exhaler","exhorter","exigence","exiler","exister","exotique","expedier","explorer","exposer","exprimer","exquis","extensif","extraire","exulter","fable","fabuleux","facette","facile","facture","faiblir","falaise","fameux","famille","farceur","farfelu","farine","farouche","fasciner","fatal","fatigue","faucon","fautif","faveur","favori","febrile","feconder","federer","felin","femme","femur","fendoir","feodal","fermer","feroce","ferveur","festival","feuille","feutre","fevrier","fiasco","ficeler","fictif","fidele","figure","filature","filetage","filiere","filleul","filmer","filou","filtrer","financer","finir","fiole","firme","fissure","fixer","flairer","flamme","flasque","flatteur","fleau","fleche","fleur","flexion","flocon","flore","fluctuer","fluide","fluvial","folie","fonderie","fongible","fontaine","forcer","forgeron","formuler","fortune","fossile","foudre","fougere","fouiller","foulure","fourmi","fragile","fraise","franchir","frapper","frayeur","fregate","freiner","frelon","fremir","frenesie","frere","friable","friction","frisson","frivole","froid","fromage","frontal","frotter","fruit","fugitif","fuite","fureur","furieux","furtif","fusion","futur","gagner","galaxie","galerie","gambader","garantir","gardien","garnir","garrigue","gazelle","gazon","geant","gelatine","gelule","gendarme","general","genie","genou","gentil","geologie","geometre","geranium","germe","gestuel","geyser","gibier","gicler","girafe","givre","glace","glaive","glisser","globe","gloire","glorieux","golfeur","gomme","gonfler","gorge","gorille","goudron","gouffre","goulot","goupille","gourmand","goutte","graduel","graffiti","graine","grand","grappin","gratuit","gravir","grenat","griffure","griller","grimper","grogner","gronder","grotte","groupe","gruger","grutier","gruyere","guepard","guerrier","guide","guimauve","guitare","gustatif","gymnaste","gyrostat","habitude","hachoir","halte","hameau","hangar","hanneton","haricot","harmonie","harpon","hasard","helium","hematome","herbe","herisson","hermine","heron","hesiter","heureux","hiberner","hibou","hilarant","histoire","hiver","homard","hommage","homogene","honneur","honorer","honteux","horde","horizon","horloge","hormone","horrible","houleux","housse","hublot","huileux","humain","humble","humide","humour","hurler","hydromel","hygiene","hymne","hypnose","idylle","ignorer","iguane","illicite","illusion","image","imbiber","imiter","immense","immobile","immuable","impact","imperial","implorer","imposer","imprimer","imputer","incarner","incendie","incident","incliner","incolore","indexer","indice","inductif","inedit","ineptie","inexact","infini","infliger","informer","infusion","ingerer","inhaler","inhiber","injecter","injure","innocent","inoculer","inonder","inscrire","insecte","insigne","insolite","inspirer","instinct","insulter","intact","intense","intime","intrigue","intuitif","inutile","invasion","inventer","inviter","invoquer","ironique","irradier","irreel","irriter","isoler","ivoire","ivresse","jaguar","jaillir","jambe","janvier","jardin","jauger","jaune","javelot","jetable","jeton","jeudi","jeunesse","joindre","joncher","jongler","joueur","jouissif","journal","jovial","joyau","joyeux","jubiler","jugement","junior","jupon","juriste","justice","juteux","juvenile","kayak","kimono","kiosque","label","labial","labourer","lacerer","lactose","lagune","laine","laisser","laitier","lambeau","lamelle","lampe","lanceur","langage","lanterne","lapin","largeur","larme","laurier","lavabo","lavoir","lecture","legal","leger","legume","lessive","lettre","levier","lexique","lezard","liasse","liberer","libre","licence","licorne","liege","lievre","ligature","ligoter","ligue","limer","limite","limonade","limpide","lineaire","lingot","lionceau","liquide","lisiere","lister","lithium","litige","littoral","livreur","logique","lointain","loisir","lombric","loterie","louer","lourd","loutre","louve","loyal","lubie","lucide","lucratif","lueur","lugubre","luisant","lumiere","lunaire","lundi","luron","lutter","luxueux","machine","magasin","magenta","magique","maigre","maillon","maintien","mairie","maison","majorer","malaxer","malefice","malheur","malice","mallette","mammouth","mandater","maniable","manquant","manteau","manuel","marathon","marbre","marchand","mardi","maritime","marqueur","marron","marteler","mascotte","massif","materiel","matiere","matraque","maudire","maussade","mauve","maximal","mechant","meconnu","medaille","medecin","mediter","meduse","meilleur","melange","melodie","membre","memoire","menacer","mener","menhir","mensonge","mentor","mercredi","merite","merle","messager","mesure","metal","meteore","methode","metier","meuble","miauler","microbe","miette","mignon","migrer","milieu","million","mimique","mince","mineral","minimal","minorer","minute","miracle","miroiter","missile","mixte","mobile","moderne","moelleux","mondial","moniteur","monnaie","monotone","monstre","montagne","monument","moqueur","morceau","morsure","mortier","moteur","motif","mouche","moufle","moulin","mousson","mouton","mouvant","multiple","munition","muraille","murene","murmure","muscle","museum","musicien","mutation","muter","mutuel","myriade","myrtille","mystere","mythique","nageur","nappe","narquois","narrer","natation","nation","nature","naufrage","nautique","navire","nebuleux","nectar","nefaste","negation","negliger","negocier","neige","nerveux","nettoyer","neurone","neutron","neveu","niche","nickel","nitrate","niveau","noble","nocif","nocturne","noirceur","noisette","nomade","nombreux","nommer","normatif","notable","notifier","notoire","nourrir","nouveau","novateur","novembre","novice","nuage","nuancer","nuire","nuisible","numero","nuptial","nuque","nutritif","obeir","objectif","obliger","obscur","observer","obstacle","obtenir","obturer","occasion","occuper","ocean","octobre","octroyer","octupler","oculaire","odeur","odorant","offenser","officier","offrir","ogive","oiseau","oisillon","olfactif","olivier","ombrage","omettre","onctueux","onduler","onereux","onirique","opale","opaque","operer","opinion","opportun","opprimer","opter","optique","orageux","orange","orbite","ordonner","oreille","organe","orgueil","orifice","ornement","orque","ortie","osciller","osmose","ossature","otarie","ouragan","ourson","outil","outrager","ouvrage","ovation","oxyde","oxygene","ozone","paisible","palace","palmares","palourde","palper","panache","panda","pangolin","paniquer","panneau","panorama","pantalon","papaye","papier","papoter","papyrus","paradoxe","parcelle","paresse","parfumer","parler","parole","parrain","parsemer","partager","parure","parvenir","passion","pasteque","paternel","patience","patron","pavillon","pavoiser","payer","paysage","peigne","peintre","pelage","pelican","pelle","pelouse","peluche","pendule","penetrer","penible","pensif","penurie","pepite","peplum","perdrix","perforer","periode","permuter","perplexe","persil","perte","peser","petale","petit","petrir","peuple","pharaon","phobie","phoque","photon","phrase","physique","piano","pictural","piece","pierre","pieuvre","pilote","pinceau","pipette","piquer","pirogue","piscine","piston","pivoter","pixel","pizza","placard","plafond","plaisir","planer","plaque","plastron","plateau","pleurer","plexus","pliage","plomb","plonger","pluie","plumage","pochette","poesie","poete","pointe","poirier","poisson","poivre","polaire","policier","pollen","polygone","pommade","pompier","ponctuel","ponderer","poney","portique","position","posseder","posture","potager","poteau","potion","pouce","poulain","poumon","pourpre","poussin","pouvoir","prairie","pratique","precieux","predire","prefixe","prelude","prenom","presence","pretexte","prevoir","primitif","prince","prison","priver","probleme","proceder","prodige","profond","progres","proie","projeter","prologue","promener","propre","prospere","proteger","prouesse","proverbe","prudence","pruneau","psychose","public","puceron","puiser","pulpe","pulsar","punaise","punitif","pupitre","purifier","puzzle","pyramide","quasar","querelle","question","quietude","quitter","quotient","racine","raconter","radieux","ragondin","raideur","raisin","ralentir","rallonge","ramasser","rapide","rasage","ratisser","ravager","ravin","rayonner","reactif","reagir","realiser","reanimer","recevoir","reciter","reclamer","recolter","recruter","reculer","recycler","rediger","redouter","refaire","reflexe","reformer","refrain","refuge","regalien","region","reglage","regulier","reiterer","rejeter","rejouer","relatif","relever","relief","remarque","remede","remise","remonter","remplir","remuer","renard","renfort","renifler","renoncer","rentrer","renvoi","replier","reporter","reprise","reptile","requin","reserve","resineux","resoudre","respect","rester","resultat","retablir","retenir","reticule","retomber","retracer","reunion","reussir","revanche","revivre","revolte","revulsif","richesse","rideau","rieur","rigide","rigoler","rincer","riposter","risible","risque","rituel","rival","riviere","rocheux","romance","rompre","ronce","rondin","roseau","rosier","rotatif","rotor","rotule","rouge","rouille","rouleau","routine","royaume","ruban","rubis","ruche","ruelle","rugueux","ruiner","ruisseau","ruser","rustique","rythme","sabler","saboter","sabre","sacoche","safari","sagesse","saisir","salade","salive","salon","saluer","samedi","sanction","sanglier","sarcasme","sardine","saturer","saugrenu","saumon","sauter","sauvage","savant","savonner","scalpel","scandale","scelerat","scenario","sceptre","schema","science","scinder","score","scrutin","sculpter","seance","secable","secher","secouer","secreter","sedatif","seduire","seigneur","sejour","selectif","semaine","sembler","semence","seminal","senateur","sensible","sentence","separer","sequence","serein","sergent","serieux","serrure","serum","service","sesame","sevir","sevrage","sextuple","sideral","siecle","sieger","siffler","sigle","signal","silence","silicium","simple","sincere","sinistre","siphon","sirop","sismique","situer","skier","social","socle","sodium","soigneux","soldat","soleil","solitude","soluble","sombre","sommeil","somnoler","sonde","songeur","sonnette","sonore","sorcier","sortir","sosie","sottise","soucieux","soudure","souffle","soulever","soupape","source","soutirer","souvenir","spacieux","spatial","special","sphere","spiral","stable","station","sternum","stimulus","stipuler","strict","studieux","stupeur","styliste","sublime","substrat","subtil","subvenir","succes","sucre","suffixe","suggerer","suiveur","sulfate","superbe","supplier","surface","suricate","surmener","surprise","sursaut","survie","suspect","syllabe","symbole","symetrie","synapse","syntaxe","systeme","tabac","tablier","tactile","tailler","talent","talisman","talonner","tambour","tamiser","tangible","tapis","taquiner","tarder","tarif","tartine","tasse","tatami","tatouage","taupe","taureau","taxer","temoin","temporel","tenaille","tendre","teneur","tenir","tension","terminer","terne","terrible","tetine","texte","theme","theorie","therapie","thorax","tibia","tiede","timide","tirelire","tiroir","tissu","titane","titre","tituber","toboggan","tolerant","tomate","tonique","tonneau","toponyme","torche","tordre","tornade","torpille","torrent","torse","tortue","totem","toucher","tournage","tousser","toxine","traction","trafic","tragique","trahir","train","trancher","travail","trefle","tremper","tresor","treuil","triage","tribunal","tricoter","trilogie","triomphe","tripler","triturer","trivial","trombone","tronc","tropical","troupeau","tuile","tulipe","tumulte","tunnel","turbine","tuteur","tutoyer","tuyau","tympan","typhon","typique","tyran","ubuesque","ultime","ultrason","unanime","unifier","union","unique","unitaire","univers","uranium","urbain","urticant","usage","usine","usuel","usure","utile","utopie","vacarme","vaccin","vagabond","vague","vaillant","vaincre","vaisseau","valable","valise","vallon","valve","vampire","vanille","vapeur","varier","vaseux","vassal","vaste","vecteur","vedette","vegetal","vehicule","veinard","veloce","vendredi","venerer","venger","venimeux","ventouse","verdure","verin","vernir","verrou","verser","vertu","veston","veteran","vetuste","vexant","vexer","viaduc","viande","victoire","vidange","video","vignette","vigueur","vilain","village","vinaigre","violon","vipere","virement","virtuose","virus","visage","viseur","vision","visqueux","visuel","vital","vitesse","viticole","vitrine","vivace","vivipare","vocation","voguer","voile","voisin","voiture","volaille","volcan","voltiger","volume","vorace","vortex","voter","vouloir","voyage","voyelle","wagon","xenon","yacht","zebre","zenith","zeste","zoologie"]},{file:"/home/circleci/project/node_modules/bip39/wordlists/french.json"}]],[],{});